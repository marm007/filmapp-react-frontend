{"version":3,"sources":["helpers/hooks/useBottomScrollListener.js","services/filmService.js","helpers/hooks/useWindowsWidth.js","components/helpers/navbar/reducer.js","components/helpers/navbar/index.js","images/header.png"],"names":["createCallback","debounce","handleOnScroll","options","lodashDebounce","useBottomScrollListener","onBottom","useMemo","offset","debounceOptions","leading","triggerOnNoScroll","id","debouncedOnBottom","containerRef","useRef","useCallback","current","scrollNode","scrollContainerBottomPosition","Math","round","scrollTop","clientHeight","scrollHeight","document","getElementById","scrollingElement","documentElement","window","innerHeight","useEffect","ref","node","addEventListener","removeEventListener","all","params","axios","get","index","search","view","patch","create","form","post","headers","authHeader","like","remove","delete","useWindowsWidth","width","useState","isScreenSmall","setIsScreenSmall","checkScreenSize","innerWidth","initialSearchState","isLoading","isAllFetched","isSearching","isOpen","selected","title","searchReducer","state","action","type","fieldName","payload","length","NavbarComponent","props","history","useHistory","location","useLocation","onMediumScreen","useContext","UserContext","user","logout","useReducer","dispatch","handleSearchOnBottom","typeaheadRef","handleKeyDown","Collapse","toggle","hide","a","filmApi","skip","then","data","map","film","img","process","catch","err","console","error","getAllSearchedFilms","event","target","className","keyCode","charCode","log","handleSearchSubmit","isMobile","e","preventDefault","reset","clear","push","pathname","films","handleSearch","query","onClick","alt","src","height","style","useCache","filterBy","open","placeholder","labelKey","minLength","onSearch","onBlur","onFocus","onKeyDown","onMenuToggle","onInputChange","text","onChange","renderMenu","results","menuProps","result","option","position","stopPropagation","marginRight","role","href","icon","faSearch","auth","align","viewScroll","offsetY","direction","menuButton","name","toUpperCase","charAt","slice","handleLogin"],"mappings":"yHAAA,6BAGMA,EAAiB,SAACC,EAAUC,EAAgBC,GAChD,OAAIF,EACKG,IAAeF,EAAgBD,EAAUE,GAEzCD,GAiFIG,IA7Ef,WAGG,IAFDC,EAEA,uDAFW,aACXH,EACA,uDADU,GAEV,EAAqEI,mBACnE,+BAAO,CACLC,OAAM,iBAAEL,QAAF,IAAEA,OAAF,EAAEA,EAASK,cAAX,QAAqB,GAC3BP,SAAQ,iBAAEE,QAAF,IAAEA,OAAF,EAAEA,EAASF,gBAAX,QAAuB,IAC/BQ,gBAAe,iBAAEN,QAAF,IAAEA,OAAF,EAAEA,EAASM,uBAAX,QAA8B,CAAEC,SAAS,GACxDC,kBAAiB,iBAAER,QAAF,IAAEA,OAAF,EAAEA,EAASQ,yBAAX,SACjBC,GAAE,iBAAET,QAAF,IAAEA,OAAF,EAAEA,EAASS,UAAX,QAAiB,QAErB,QAACT,QAAD,IAACA,OAAD,EAACA,EAASK,OAAV,OAAkBL,QAAlB,IAAkBA,OAAlB,EAAkBA,EAASF,SAA3B,OAAqCE,QAArC,IAAqCA,OAArC,EAAqCA,EAASM,gBAA9C,OAA+DN,QAA/D,IAA+DA,OAA/D,EAA+DA,EAASQ,kBAAxE,OAA2FR,QAA3F,IAA2FA,OAA3F,EAA2FA,EAASS,KAR9FJ,EAAR,EAAQA,OAAQG,EAAhB,EAAgBA,kBAAmBV,EAAnC,EAAmCA,SAAUQ,EAA7C,EAA6CA,gBAAiBG,EAA9D,EAA8DA,GAWxDC,EAAoBN,mBAAQ,kBAAMP,EAAeC,EAAUK,EAAUG,KAAkB,CAACH,EAAUL,EAAUQ,IAC5GK,EAAeC,iBAAO,MACtBb,EAAiBc,uBAAY,WAEjC,GAA4B,MAAxBF,EAAaG,QAAiB,CAChC,IAAMC,EAAaJ,EAAaG,QAC1BE,EAAgCC,KAAKC,MAAMH,EAAWI,UAAYJ,EAAWK,cAC5DH,KAAKC,MAAMH,EAAWM,aAAehB,IAEtCW,GACpBN,SAEG,GAAW,OAAPD,EAAa,CACtB,IAAMM,EAAaO,SAASC,eAAed,GAC3C,GAAIM,EAAY,CACd,IAAMC,EAAgCC,KAAKC,MAAMH,EAAWI,UAAYJ,EAAWK,cAC5DH,KAAKC,MAAMH,EAAWM,aAAehB,IACtCW,GACpBN,SAGC,CACL,IAAMK,EAAaO,SAASE,kBAAoBF,SAASG,gBACnDT,EAAgCC,KAAKC,MAAMH,EAAWI,UAAYO,OAAOC,aACxDV,KAAKC,MAAMH,EAAWM,aAAehB,IAEtCW,GACpBN,OAGH,CAACA,EAAmBL,EAAQI,IA6B/B,OA3BAmB,qBAAU,WACR,IAAMC,EAAMlB,EAAaG,QACnBgB,EAAOR,SAASC,eAAed,GAcrC,OAZW,MAAPoB,EACFA,EAAIE,iBAAiB,SAAUhC,GACb,OAAT+B,EACTA,EAAKC,iBAAiB,SAAUhC,GAEhC2B,OAAOK,iBAAiB,SAAUhC,GAGhCS,GACFT,IAGK,WACM,MAAP8B,EACFA,EAAIG,oBAAoB,SAAUjC,GAChB,OAAT+B,EACTA,EAAKC,iBAAiB,SAAUhC,GAEhC2B,OAAOM,oBAAoB,SAAUjC,MAGxC,CAACA,EAAgBS,EAAmBC,IAEhCE,I,iCCrFT,kQAIasB,EAAM,SAACC,GAAD,OAAYC,IAAMC,IAAI,SAAU,CAACF,YACvCG,EAAQ,SAAC5B,GAAD,OAAQ0B,IAAMC,IAAN,gBAAmB3B,KACnC6B,EAAS,SAACJ,GAAD,OAAYC,IAAMC,IAAI,eAAgB,CAACF,YAEhDK,EAAO,SAAC9B,GAAD,OAAQ0B,IAAMK,MAAN,gBAAqB/B,EAArB,WAKfgC,EAAS,SAACC,GAAD,OAAUP,IAAMQ,KAAN,QAAoBD,EAAM,CAACE,QAASC,iBAKvDC,EAAO,SAACrC,EAAIiC,GAAL,OAAcP,IAAMK,MAAN,gBAAqB/B,EAArB,WAAkCiC,EAAM,CAACE,QAASC,iBAEvEE,EAAS,SAACtC,GAAD,OAAQ0B,IAAMa,OAAN,gBAAsBvC,GAAM,CAAEmC,QAASC,kB,oDCDtDI,IAjBS,WAAkB,IAAjBC,EAAgB,uDAAR,IAC/B,EAA0CC,oBAAS,GAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KAEIC,EAAkB,WACpBD,EAAiB3B,OAAO6B,WAAaL,IAUvC,OARAtB,qBAAU,WAIR,OAHA0B,IACA5B,OAAOK,iBAAiB,SAAUuB,GAE3B,kBAAM5B,OAAOM,oBAAoB,SAAUsB,MAEjD,IAEIF,I,8MChBII,EAAqB,CAC9BxD,QAAS,GACTyD,WAAW,EACXC,cAAc,EACdC,aAAa,EACbC,QAAQ,EACRC,SAAU,KACVC,MAAO,IAGJ,SAASC,EAAcC,EAAOC,GACjC,OAAQA,EAAOC,MACX,IAAK,QACD,OAAO,2BACAF,GADP,gBAEIH,SAAU,MACTI,EAAOE,UAAYF,EAAOG,UAGnC,IAAK,cACD,OAAO,2BACAJ,GADP,IAEIF,MAAOG,EAAOH,MACdD,SAAUI,EAAOJ,WAGzB,IAAK,eACD,OAAO,2BACAG,GADP,IAEIP,WAAW,EACXE,aAAa,EACbD,aAAcO,EAAOG,QAAQC,OAAS,GACtCrE,QAAQ,GAAD,mBAAMgE,EAAMhE,SAAZ,YAAwBiE,EAAOG,YAG9C,IAAK,iBACD,OAAO,2BACAJ,GADP,IAEIP,WAAW,EACXE,aAAa,EACbD,aAAcO,EAAOG,QAAQC,OAAS,GACtCrE,QAASiE,EAAOG,UAGxB,IAAK,QACD,OAAOZ,EAEX,IAAK,OACD,OAAQQ,EAAMP,WAAcO,EAAMN,aAK9BM,EALG,2BACAA,GADA,IAEHP,WAAW,EACXC,cAAc,EACdC,aAAa,IAGrB,IAAK,SACD,OAAO,2BACAK,GADP,IAEIhE,QAAS,GACT2D,aAAa,EACbF,WAAW,EACXC,cAAc,IAGtB,QAAS,OAAOM,G,uDCoUTM,UAxWf,SAAyBC,GAErB,IAAIC,EAAUC,cACVC,EAAWC,cAETC,EAAiB3B,YAAgB,KAEvC,EAAyB4B,qBAAWC,KAA5BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,OAEd,EAA0BC,qBAAWlB,EAAeP,GAApD,mBAAOQ,EAAP,KAAckB,EAAd,KAEQlF,EAA2EgE,EAA3EhE,QAAS8D,EAAkEE,EAAlEF,MAAOL,EAA2DO,EAA3DP,UAAWC,EAAgDM,EAAhDN,aAAcC,EAAkCK,EAAlCL,YAAaC,EAAqBI,EAArBJ,OAAQC,EAAaG,EAAbH,SAEhEsB,EAAuBtE,uBAAY,WAChC4C,GAAcC,GAAiBC,IAAeC,GAC/CsB,EAAS,CACLhB,KAAM,WAGf,CAACT,EAAWC,EAAcC,EAAaC,IAE1C1D,YAAwBiF,EAAsB,CAAE1E,GAAI,qBAEpD,IAAM2E,EAAexE,iBAAO,MAI5BgB,qBAAU,WAGN,OAFAN,SAASS,iBAAiB,UAAWsD,GAE9B,WACH/D,SAASU,oBAAoB,UAAWqD,OAIhDzD,qBAAU,WACa,IAAI0D,IAAS,yBAA0B,CAAEC,QAAQ,IACzDC,SACZ,CAACd,IAEJ9C,qBAAU,WAAM,4CACZ,sBAAA6D,EAAA,sEACUC,IAAe,CAAEpD,OAAQwB,EAAO6B,KAAM3F,EAAQqE,SAC/CuB,MAAK,YAAe,IACX5F,EADU,EAAX6F,KACgBC,KAAI,SAACC,GAAD,mBAAC,eACnBA,GADkB,IAErBC,IAAI,GAAD,OAAKC,0DAAL,iBAA2CF,EAAKtF,GAAhD,oCAGPyE,EAAS,CACLhB,KAAM,eACNE,QAASpE,OAGhBkG,OAAM,SAAAC,GACHC,QAAQC,MAAMF,MAd1B,4CADY,sBAmBR1C,GAnBS,WAAD,wBAmBG6C,KAChB,CAAC7C,EAAWK,EAAO9D,EAAQqE,SAE9BzC,qBAAU,WAAM,4CACZ,sBAAA6D,EAAA,sEACUC,IAAe,CAAEpD,OAAQwB,IAC1B8B,MAAK,YAAe,IACX5F,EADU,EAAX6F,KACgBC,KAAI,SAACC,GAAD,mBAAC,eACnBA,GADkB,IAErBC,IAAI,GAAD,OAAKC,0DAAL,iBAA2CF,EAAKtF,GAAhD,oCAEPyE,EAAS,CACLhB,KAAM,iBACNE,QAASpE,OAGhBkG,OAAM,SAAAC,GACHC,QAAQC,MAAMF,MAb1B,4CADY,sBAkBRxC,GAlBS,WAAD,wBAkBK2C,KAClB,CAAC3C,EAAaG,IAEjB,IAAMuB,EAAgB,SAACkB,GACnB,GAAIA,GAASA,EAAMC,QAAUD,EAAMC,OAAOC,WACX,iDAA3BF,EAAMC,OAAOC,UAA8D,CAC3E,IAAIC,EAAUH,EAAMG,SAAWH,EAAMI,SAGrC,OAFAP,QAAQQ,IAAIF,GAEJA,GACJ,KAAK,GACDG,EAAmBN,GACnB,MACJ,KAAK,EACGO,YACAD,EAAmBN,MAYjCM,EAAqB,SAACE,GACxBA,EAAEC,iBAEF1F,SAASC,eAAe,eAAe0F,QACnC7B,GAAcA,EAAatE,QAAQoG,QAEnCrD,EACAW,EAAQ2C,KAAK,CACTC,SAAS,GAAD,OAAKnB,2BAAL,gBAA4CpC,EAASpD,IAC7D6B,OAAQ,GACR0B,MAAO,KAGI,KAAVF,EACLU,EAAQ2C,KAAK,CACTC,SAAS,GAAD,OAAKnB,2BAAL,UACR3D,OAAO,UAAD,OAAYwB,GAClBE,MAAO,KAGa,IAAnBhE,EAAQqE,OACbG,EAAQ2C,KAAK,CACTC,SAAS,GAAD,OAAKnB,2BAAL,gBAA4CjG,EAAQ,GAAGS,IAC/D6B,OAAQ,GACR0B,MAAO,KAGXQ,EAAQ2C,KAAK,CACTC,SAAS,GAAD,OAAKnB,2BAAL,UACR3D,OAAO,UAAD,OAAYwB,GAClBE,MAAO,CAAEqD,MAAOrH,KAIxBkF,EAAS,CACLhB,KAAM,WAwBRoD,EAAezG,uBAAY,SAAC0G,GAC9BrC,EAAS,CACLhB,KAAM,SACNE,QAASmD,MAEd,IAYH,OAEI,sBACId,UAAU,0DADd,UAEI,qBAAKA,UAAU,yEAAf,SACI,sBAAKA,UAAU,yCACXe,QAAS,kBAAMhD,EAAQ2C,KAAKlB,6BADhC,UAEI,qBAAKwB,IAAI,GACLhB,UAAU,iBACViB,IC5NT,65GD6NSxE,MAAM,KACNyE,OAAO,OACX,sBAAMlB,UAAU,0DAAhB,0BAIR,qBAAKA,UAAU,qEAAf,SACI,wBAAQvC,KAAK,SAASuC,UAAU,0BAC5B,gBAAc,wBAAwB,iBAAe,WACrD,iBAAe,yBAAyB,gBAAc,QAAQ,aAAW,oBAF7E,SAGI,sBAAMA,UAAU,4BAIxB,qBAAKA,UAAU,yDAAf,SACI,sBAAMhG,GAAG,cAAcgG,UAAU,0CAAjC,SACI,sBAAKA,UAAU,UAAUmB,MAAO,CAAE1E,MAAO,QAAzC,UACI,qBAAKuD,UAAU,uBAAf,SACI,cAAC,IAAD,CACI5E,IAAKuD,EACLqB,UAAU,aACVoB,UAAU,EACVC,SA9LX,kBAAM,GA+LKrH,GAAG,mBACHgD,WAAW,EACXsE,KAAMnE,EACNoE,YAAY,SACZC,SAAS,QACTC,UAAW,EACXlI,QAASA,EACTmI,SAAUb,EACVc,OAAQ,SAAC7B,GAAD,OAAWrB,EAAS,CAAEhB,KAAM,QAASC,UAAW,SAAUC,SAAS,KAC3EiE,QAAS,SAAC9B,GACQ,KAAVzC,GACAoB,EAAS,CAAEhB,KAAM,QAASC,UAAW,SAAUC,SAAS,KAEhEkE,UAAW,SAAC/B,GAAD,OAAWrB,EAAS,CAAEhB,KAAM,QAASC,UAAW,SAAUC,SAAS,KAC9EmE,aAAc,SAAC3E,GAAD,OAAYsB,EAAS,CAAEhB,KAAM,QAASC,UAAW,SAAUC,QAASR,KAClF4E,cAAe,SAACC,EAAMlC,GAClBrB,EAAS,CACLhB,KAAM,QACNC,UAAW,QACXC,QAASqE,IAEA,KAATA,GACAvD,EAAS,CACLhB,KAAM,QACNC,UAAW,UACXC,QAAS,MAGrBsE,SAAU,SAAC7E,GACP,IAAMC,EAAQD,EAASQ,OAAS,EAAIR,EAAS,GAAGC,MAAQ,GACxDoB,EAAS,CACLhB,KAAM,cACNJ,MAAOA,EACPD,SAAUA,EAASQ,OAAS,EAAIR,EAAS,GAAK,QAGtD8E,WAAY,SAACC,EAASC,GAAV,OACR,eAAC,IAAD,2BAAeA,GAAf,IAA0BpC,UAAU,YAApC,UACKmC,EAAQ9C,KAAI,SAACgD,EAAQzG,GAAT,OACT,cAAC,IAAD,CAA+B0G,OAAQD,EAAQE,SAAU3G,EAAzD,SACI,sBAAKoE,UAAU,2BAA2Be,QAAS,SAACT,GAChDA,EAAEkC,kBACFlC,EAAEC,iBACF9B,EAAS,CACLhB,KAAM,UAEV5C,SAASC,eAAe,eAAe0F,QACnC7B,GAAcA,EAAatE,QAAQoG,QAEvC1C,EAAQ2C,KAAK,CACTC,SAAS,GAAD,OAAKnB,2BAAL,gBAA4C6C,EAAOrI,IAC3D6B,OAAQ,GACR0B,MAAO,MAZf,UAgBI,qBACIyC,UAAU,MACVgB,IAAI,GACJC,IAAKoB,EAAO9C,IACZ4B,MAAO,CACHD,OAAQ,OACRuB,YAAa,OACbhG,MAAO,UAGf,sBAAMuD,UAAU,cAAhB,SAA+BqC,EAAOhF,YA3B1BgF,EAAOrI,QAkC7BgD,IAAcE,GAAkC,IAAnBiF,EAAQvE,QAAgB,mBAAG8E,KAAK,SAAS1C,UAAU,yBAAyB2C,KAAK,IAAzD,+BACtDzF,GAAe,mBAAGwF,KAAK,SAAS1C,UAAU,yBAAyB2C,KAAK,IAAzD,0BAEZ,qBAAKxB,MAAO,CAAED,OAAQ,OAAYlB,UAAU,gCAA5C,SACKhD,IAAcC,GAAgB,qBAAK+C,UAAU,8BAQtE,qBAAKA,UAAU,eAAf,SACI,wBAAQvC,KAAK,SAASsD,QAASX,EAC3BJ,UAAU,mCADd,SAEI,cAAC,IAAD,CAAiB4C,KAAMC,iBAS3C,qBAAK7C,UAAU,gHAAgHhG,GAAG,wBAAlI,SAEI,sBAAKgG,UAAU,6DAAf,UACI,qBAAKA,UAAU,qCAAf,SACI,sBAAMA,UAAU,uCAAuCe,QArN/C,kBAAMhD,EAAQ2C,KAAR,UAAgBlB,2BAAhB,eAqNd,yBAEHlB,EAAKwE,MAAQ,qBAAK9C,UAAU,qCAAf,SACV,sBAAMA,UAAU,uCAAuCe,QAzNrD,kBAAMhD,EAAQ2C,KAAR,UAAgBlB,2BAAhB,SAyNR,mBAIAlB,EAAKwE,KAEG,eAAC,IAAD,CACI9C,UAAU,oBACV+C,MAAO5E,EAAiB,QAAU,MAClC6E,WAAW,QACXC,QAAS,GACTV,SAAS,UACTW,UAAU,SACVC,WACI,qBACInD,UAAU,qCADd,SAEK1B,EAAK8E,KAAKC,cAAcC,OAAO,KAV5C,UAcI,cAAC,IAAD,CAAUvC,QA7Lf,WACvBhD,EAAQ2C,KAAR,UAAgBlB,2BAAhB,aA4L4B,qBACA,cAAC,IAAD,CAAUuB,QA1Ld,WACxB,IAAIJ,EAAW1C,EAAS0C,SACPnB,6BAAbmB,IAA8CA,EAAWA,EAAS4C,MAAM,GAAI,IAEhFxF,EAAQ2C,KAAK,CACTC,SAAS,GAAD,OAAKA,EAAL,aACR9E,OAAQoC,EAASpC,OACjB0B,MAAOU,EAASV,SAmLQ,sBACA,cAAC,IAAD,CAAUwD,QAnMhB,WACtBxC,KAkM4B,uBAMJ,mBAAGyB,UAAU,oCACTe,QAAS,kBAhLrB,WAChB,IAAIJ,EAAW1C,EAAS0C,SACPnB,6BAAbmB,IAA8CA,EAAWA,EAAS4C,MAAM,GAAI,IAChFxF,EAAQ2C,KAAK,CACTC,SAAS,GAAD,OAAKA,EAAL,UACR9E,OAAQoC,EAASpC,OACjB0B,MAAOU,EAASV,QA0KuBiG,IADnB","file":"static/js/16.8c0ad3c9.chunk.js","sourcesContent":["import { useCallback, useEffect, useRef, useMemo } from 'react';\nimport lodashDebounce from 'lodash.debounce';\n\nconst createCallback = (debounce, handleOnScroll, options) => {\n  if (debounce) {\n    return lodashDebounce(handleOnScroll, debounce, options);\n  } else {\n    return handleOnScroll;\n  }\n};\n\nfunction useBottomScrollListener(\n  onBottom = () => { },\n  options = {},\n) {\n  const { offset, triggerOnNoScroll, debounce, debounceOptions, id } = useMemo(\n    () => ({\n      offset: options?.offset ?? 20,\n      debounce: options?.debounce ?? 200,\n      debounceOptions: options?.debounceOptions ?? { leading: true },\n      triggerOnNoScroll: options?.triggerOnNoScroll ?? false,\n      id: options?.id ?? null\n    }),\n    [options?.offset, options?.debounce, options?.debounceOptions, options?.triggerOnNoScroll, options?.id],\n  );\n\n  const debouncedOnBottom = useMemo(() => createCallback(debounce, onBottom, debounceOptions), [onBottom, debounce, debounceOptions]);\n  const containerRef = useRef(null);\n  const handleOnScroll = useCallback(() => {\n\n    if (containerRef.current != null) {\n      const scrollNode = containerRef.current;\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n\n      if (scrollPosition <= scrollContainerBottomPosition) {\n        debouncedOnBottom();\n      }\n    } else if (id !== null) {\n      const scrollNode = document.getElementById(id);\n      if (scrollNode) {\n        const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\n        const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n        if (scrollPosition <= scrollContainerBottomPosition) {\n          debouncedOnBottom();\n        }\n      }\n    } else {\n      const scrollNode = document.scrollingElement || document.documentElement;\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + window.innerHeight);\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n\n      if (scrollPosition <= scrollContainerBottomPosition) {\n        debouncedOnBottom();\n      }\n    }\n  }, [debouncedOnBottom, offset, id]);\n\n  useEffect(() => {\n    const ref = containerRef.current;\n    const node = document.getElementById(id)\n\n    if (ref != null) {\n      ref.addEventListener('scroll', handleOnScroll);\n    } else if (node !== null) {\n      node.addEventListener('scroll', handleOnScroll);\n    } else {\n      window.addEventListener('scroll', handleOnScroll);\n    }\n\n    if (triggerOnNoScroll) {\n      handleOnScroll();\n    }\n\n    return () => {\n      if (ref != null) {\n        ref.removeEventListener('scroll', handleOnScroll);\n      } else if (node !== null) {\n        node.addEventListener('scroll', handleOnScroll);\n      } else {\n        window.removeEventListener('scroll', handleOnScroll);\n      }\n    };\n  }, [handleOnScroll, triggerOnNoScroll, id]);\n\n  return containerRef;\n}\n\nexport default useBottomScrollListener;\n","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const all = (params) => axios.get('films/', {params})\nexport const index = (id) => axios.get(`films/${id}`)\nexport const search = (params) => axios.get('films/search', {params})\n\nexport const view = (id) => axios.patch(`films/${id}/view`)\n\nexport const video = (id) => axios.get(`films/${id}/video`)\nexport const thumbnail = (id, params) => axios.get(`films/${id}/thumbnail`, {params})\n\nexport const create = (form) => axios.post(`films`, form, {headers: authHeader()})\n\nexport const update = (id, form) => axios.put(`films/${id}`, form, {headers: authHeader()})\nexport const partialUpdate = (id, form) => axios.patch(`films/${id}`, form, {headers: authHeader()})\n\nexport const like = (id, form) => axios.patch(`films/${id}/action`, form, {headers: authHeader()})\n\nexport const remove = (id) => axios.delete(`films/${id}`, { headers: authHeader() })\n\n\n\n","import { useState, useEffect } from \"react\";\n\nconst useWindowsWidth = (width = 600) => {\n  const [isScreenSmall, setIsScreenSmall] = useState(false);\n\n  let checkScreenSize = () => {\n    setIsScreenSmall(window.innerWidth < width);\n  };\n  useEffect(() => {\n    checkScreenSize();\n    window.addEventListener(\"resize\", checkScreenSize);\n\n    return () => window.removeEventListener(\"resize\", checkScreenSize);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return isScreenSmall;\n};\n\nexport default useWindowsWidth;\n","export const initialSearchState = {\n    options: [],\n    isLoading: false,\n    isAllFetched: false,\n    isSearching: false,\n    isOpen: false,\n    selected: null,\n    title: ''\n}\n\nexport function searchReducer(state, action) {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                selected: null,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'pick-option': {\n            return {\n                ...state,\n                title: action.title,\n                selected: action.selected\n            }\n        }\n        case 'success-load': {\n            return {\n                ...state,\n                isLoading: false,\n                isSearching: false,\n                isAllFetched: action.payload.length < 10,\n                options: [...state.options, ...action.payload]\n            }\n        }\n        case 'success-search': {\n            return {\n                ...state,\n                isLoading: false,\n                isSearching: false,\n                isAllFetched: action.payload.length < 10,\n                options: action.payload\n            }\n        }\n        case 'clear': {\n            return initialSearchState\n        }\n        case 'load': {\n            return !state.isLoading && !state.isAllFetched ? {\n                ...state,\n                isLoading: true,\n                isAllFetched: false,\n                isSearching: false,\n            } : state\n        }\n        case 'search': {\n            return {\n                ...state,\n                options: [],\n                isSearching: true,\n                isLoading: false,\n                isAllFetched: false\n            }\n        }\n        default: return state\n    }\n}","/* eslint-disable jsx-a11y/role-has-required-aria-props */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useCallback, useContext, useReducer, useRef } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { isMobile } from 'react-device-detect';\nimport { Collapse } from 'bootstrap'\nimport headerIcon from '../../../images/header.png';\nimport * as filmApi from '../../../services/filmService'\n\nimport { AsyncTypeahead, Menu as AsyncMenu, MenuItem as AsyncMenuItem } from 'react-bootstrap-typeahead';\n\nimport UserContext from '../../../helpers/contexts/user/userContext'\n\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\nimport './navbar.css';\nimport { initialSearchState, searchReducer } from './reducer';\n\nimport useBottomScrollListener from '../../../helpers/hooks/useBottomScrollListener';\nimport useWindowsWidth from '../../../helpers/hooks/useWindowsWidth';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\n\nimport {\n    Menu,\n    MenuItem,\n} from '@szhsin/react-menu';\nimport '@szhsin/react-menu/dist/index.css';\n\nfunction NavbarComponent(props) {\n\n    let history = useHistory();\n    let location = useLocation();\n\n    const onMediumScreen = useWindowsWidth(768);\n\n    const { user, logout } = useContext(UserContext);\n\n    const [state, dispatch] = useReducer(searchReducer, initialSearchState)\n\n    const { options, title, isLoading, isAllFetched, isSearching, isOpen, selected } = state\n\n    const handleSearchOnBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && !isSearching && isOpen) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isLoading, isAllFetched, isSearching, isOpen])\n\n    useBottomScrollListener(handleSearchOnBottom, { id: 'typeahead-navbar' })\n\n    const typeaheadRef = useRef(null)\n\n    const filterBy = () => true;\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", handleKeyDown);\n\n        return function cleanup() {\n            document.removeEventListener(\"keydown\", handleKeyDown);\n        }\n    })\n\n    useEffect(() => {\n        const bsCollapse = new Collapse('#responsive-navbar-nav', { toggle: false })\n        bsCollapse.hide()\n    }, [location])\n\n    useEffect(() => {\n        async function getAllSearchedFilms() {\n            await filmApi.search({ search: title, skip: options.length })\n                .then(({ data }) => {\n                    const options = data.map((film) => ({\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`\n                    }));\n\n                    dispatch({\n                        type: 'success-load',\n                        payload: options\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isLoading) getAllSearchedFilms()\n    }, [isLoading, title, options.length])\n\n    useEffect(() => {\n        async function getAllSearchedFilms() {\n            await filmApi.search({ search: title })\n                .then(({ data }) => {\n                    const options = data.map((film) => ({\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`\n                    }));\n                    dispatch({\n                        type: 'success-search',\n                        payload: options\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isSearching) getAllSearchedFilms()\n    }, [isSearching, title])\n\n    const handleKeyDown = (event) => {\n        if (event && event.target && event.target.className &&\n            event.target.className === \"rbt-input-main form-control rbt-input  focus\") {\n            let keyCode = event.keyCode || event.charCode;\n            console.log(keyCode)\n\n            switch (keyCode) {\n                case 13:\n                    handleSearchSubmit(event);\n                    break;\n                case 9:\n                    if (isMobile)\n                        handleSearchSubmit(event);\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n\n    const handleAddFilm = () => history.push(`${process.env.REACT_APP_PATH_NAME}add`)\n    const handleShowPlaylists = () => history.push(`${process.env.REACT_APP_PATH_NAME}playlists`)\n\n\n    const handleSearchSubmit = (e) => {\n        e.preventDefault();\n\n        document.getElementById(\"search-form\").reset();\n        if (typeaheadRef) typeaheadRef.current.clear();\n\n        if (selected) {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}film/${selected.id}`,\n                search: '',\n                state: {}\n            });\n        }\n        else if (title === '') {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}search`,\n                search: `?title=${title}`,\n                state: {}\n            });\n        }\n        else if (options.length === 1) {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}film/${options[0].id}`,\n                search: '',\n                state: {}\n            });\n        } else {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}search`,\n                search: `?title=${title}`,\n                state: { films: options }\n            });\n        }\n\n        dispatch({\n            type: 'clear'\n        })\n    }\n\n\n    const handleLogoutClick = () => {\n        logout()\n    };\n\n    const handleProfileClick = () => {\n        history.push(`${process.env.REACT_APP_PATH_NAME}profile`)\n    };\n\n    const handleSettingsClick = () => {\n        let pathname = location.pathname\n        if (pathname === process.env.REACT_APP_PATH_NAME) pathname = pathname.slice(0, -1)\n\n        history.push({\n            pathname: `${pathname}/settings`,\n            search: location.search,\n            state: location.state\n        });\n    }\n\n    const handleSearch = useCallback((query) => {\n        dispatch({\n            type: 'search',\n            payload: query\n        })\n    }, []);\n\n    const handleLogin = () => {\n        let pathname = location.pathname\n        if (pathname === process.env.REACT_APP_PATH_NAME) pathname = pathname.slice(0, -1)\n        history.push({\n            pathname: `${pathname}/login`,\n            search: location.search,\n            state: location.state\n        });\n    }\n\n    return (\n\n        <nav\n            className=\"navbar navbar-expand-md navbar-light bg-light py-2 px-4\">\n            <div className=\"col-5 col-sm-2 col-md-4 order-first order-sm-first order-md-first pb-2\">\n                <div className=\"navbar-brand d-flex align-items-center\"\n                    onClick={() => history.push(process.env.REACT_APP_PATH_NAME)}>\n                    <img alt=\"\"\n                        className=\"cursor-pointer\"\n                        src={headerIcon}\n                        width=\"30\"\n                        height=\"30\" />\n                    <span className=\"navbar-brand d-none d-md-inline m-0 ps-3 cursor-pointer\">FilmApp</span>\n                </div>\n            </div>\n\n            <div className=\"col-6 order-2 col-sm-2 order-sm-last text-right d-md-none m-button\">\n                <button type=\"button\" className=\"navbar-toggler m-button\"\n                    aria-controls=\"responsive-navbar-nav\" data-bs-toggle=\"collapse\"\n                    data-bs-target=\"#responsive-navbar-nav\" aria-expanded=\"false\" aria-label=\"toggle-navigation\" >\n                    <span className=\"navbar-toggler-icon\"></span>\n                </button>\n            </div>\n\n            <div className=\"col-12 order-3 col-sm-8 order-sm-2 col-md-5 order-md-5\" >\n                <form id=\"search-form\" className=\"row row-cols-lg-auto align-items-center\">\n                    <div className=\"row m-0\" style={{ width: 100 + '%' }}>\n                        <div className=\"col-12 col-sm-10 p-0\">\n                            <AsyncTypeahead\n                                ref={typeaheadRef}\n                                className=\"search-bar\"\n                                useCache={false}\n                                filterBy={filterBy}\n                                id=\"typeahead-navbar\"\n                                isLoading={true}\n                                open={isOpen}\n                                placeholder=\"Search\"\n                                labelKey=\"title\"\n                                minLength={1}\n                                options={options}\n                                onSearch={handleSearch}\n                                onBlur={(event) => dispatch({ type: 'field', fieldName: 'isOpen', payload: false })}\n                                onFocus={(event) => {\n                                    if (title !== '')\n                                        dispatch({ type: 'field', fieldName: 'isOpen', payload: true })\n                                }}\n                                onKeyDown={(event) => dispatch({ type: 'field', fieldName: 'isOpen', payload: true })}\n                                onMenuToggle={(isOpen) => dispatch({ type: 'field', fieldName: 'isOpen', payload: isOpen })}\n                                onInputChange={(text, event) => {\n                                    dispatch({\n                                        type: 'field',\n                                        fieldName: 'title',\n                                        payload: text\n                                    })\n                                    if (text === '')\n                                        dispatch({\n                                            type: 'field',\n                                            fieldName: 'options',\n                                            payload: []\n                                        })\n                                }}\n                                onChange={(selected) => {\n                                    const title = selected.length > 0 ? selected[0].title : '';\n                                    dispatch({\n                                        type: 'pick-option',\n                                        title: title,\n                                        selected: selected.length > 0 ? selected[0] : null\n                                    })\n                                }}\n                                renderMenu={(results, menuProps) => (\n                                    <AsyncMenu {...menuProps} className=\"pt-4 pb-4\">\n                                        {results.map((result, index) => (\n                                            <AsyncMenuItem key={result.id} option={result} position={index}>\n                                                <div className=\"row p-0 m-0 entry__inner\" onClick={(e) => {\n                                                    e.stopPropagation()\n                                                    e.preventDefault()\n                                                    dispatch({\n                                                        type: 'clear'\n                                                    })\n                                                    document.getElementById(\"search-form\").reset();\n                                                    if (typeaheadRef) typeaheadRef.current.clear();\n\n                                                    history.push({\n                                                        pathname: `${process.env.REACT_APP_PATH_NAME}film/${result.id}`,\n                                                        search: '',\n                                                        state: {}\n                                                    });\n\n                                                }}>\n                                                    <img\n                                                        className=\"p-0\"\n                                                        alt=\"\"\n                                                        src={result.img}\n                                                        style={{\n                                                            height: '24px',\n                                                            marginRight: '10px',\n                                                            width: '24px',\n                                                        }}\n                                                    />\n                                                    <span className=\"entry__text\">{result.title}</span>\n                                                </div>\n                                            </AsyncMenuItem>\n                                        ))}\n\n\n\n                                        {!isLoading && !isSearching && results.length === 0 && <a role=\"option\" className=\"dropdown-item disabled\" href=\"#\">No matches found.</a>}\n                                        {isSearching && <a role=\"option\" className=\"dropdown-item disabled\" href=\"#\">Searching...</a>}\n                                        {\n                                            <div style={{ height: 8 + 'px' }} className=\"d-flex justify-content-center\">\n                                                {isLoading && !isAllFetched && <div className=\"spinner-border\" />}\n                                            </div>\n                                        }\n                                    </AsyncMenu>\n                                )}\n\n                            />\n                        </div>\n                        <div className=\"col col-sm-2\">\n                            <button type=\"button\" onClick={handleSearchSubmit}\n                                className=\"btn btn-light d-none d-sm-inline\">\n                                <FontAwesomeIcon icon={faSearch} />\n                            </button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n\n\n\n            <div className=\"collapse navbar-collapse justify-content-end col-12 order-last col-sm-12 order-sm-last col-md-3 order-md-last\" id=\"responsive-navbar-nav\">\n\n                <div className=\"navbar-nav d-block d-sm-block d-md-flex align-items-center\">\n                    <div className=\"nav-item px-2 my-2 px-md-1 my-md-0\">\n                        <span className=\"d-inline cursor-pointer nav-link p-0\" onClick={handleShowPlaylists}>Playlists</span>\n                    </div>\n                    {user.auth && <div className=\"nav-item px-2 mb-2 px-md-1 mb-md-0\">\n                        <span className=\"d-inline cursor-pointer nav-link p-0\" onClick={handleAddFilm}>Add</span>\n                    </div>}\n\n                    {\n                        user.auth ?\n                            (\n                                <Menu\n                                    className=\"avatar-menu-items\"\n                                    align={onMediumScreen ? \"start\" : \"end\"}\n                                    viewScroll=\"close\"\n                                    offsetY={12}\n                                    position=\"initial\"\n                                    direction=\"bottom\"\n                                    menuButton={\n                                        <div\n                                            className=\"my-0 p-md-0 custom-avatar m-button\">\n                                            {user.name.toUpperCase().charAt(0)}\n                                        </div>\n                                    }\n                                >\n                                    <MenuItem onClick={handleProfileClick}>Profile</MenuItem>\n                                    <MenuItem onClick={handleSettingsClick}>Settings</MenuItem>\n                                    <MenuItem onClick={handleLogoutClick}>Logout</MenuItem>\n                                </Menu>\n\n\n                            ) :\n                            (\n                                <a className=\"nav-link cursor-pointer pe-2 ps-2\"\n                                    onClick={() => handleLogin()}>\n                                    Login\n                                </a>\n                            )\n                    }\n                </div>\n            </div>\n        </nav>\n    )\n}\n\nexport default NavbarComponent","export default \"data:image/png;base64,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\""],"sourceRoot":""}