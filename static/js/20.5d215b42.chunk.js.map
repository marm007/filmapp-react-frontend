{"version":3,"sources":["components/pages/filmAdd/reducer.js","components/pages/filmAdd/index.js","components/models/input/index.js","services/filmService.js"],"names":["setFileInitialState","isFilm","file","name","CHOOSE_FILM","CHOOSE_THUMBNAIL","preview","alertInitialState","type","message","filmAddInitialState","title","description","film","thumbnail","isSubmitted","isSending","isSuccess","isError","error","filmAddReducer","state","action","fieldName","payload","alert","fileName","FilmAdd","useContext","UserContext","user","clearUser","history","useHistory","filmInputRef","useRef","thumbnailInputRef","useReducer","dispatch","useEffect","auth","isInitialLoaded","replace","process","push","a","filmData","FormData","set","filmApi","then","res","data","id","catch","errorMessage","response","errors","status","sendData","handleFileChoose","event","preventDefault","current","files","URL","createObjectURL","target","className","muted","autoPlay","loop","src","accept","onChange","ref","htmlFor","icon","onClick","alt","placeholder","isInvalid","value","e","disabled","Input","InputTag","inputRef","classList","add","remove","all","params","axios","get","index","indexDetails","search","view","patch","create","form","post","headers","authHeader","partialUpdate","body","like","delete"],"mappings":"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","file":"static/js/20.5d215b42.chunk.js","sourcesContent":["const setFileInitialState = (isFilm) => {\n    return {\n        file: null,\n        name: isFilm ? CHOOSE_FILM : CHOOSE_THUMBNAIL,\n        preview: null\n    }\n}\n\nconst alertInitialState = {\n    type: '',\n    message: ''\n}\n\nexport const CHOOSE_FILM = `Choose a film `;\nexport const CHOOSE_THUMBNAIL = `Choose a thumbnail `;\n\nexport const filmAddInitialState = {\n    title: '',\n    description: '',\n    film: setFileInitialState(true),\n    thumbnail: setFileInitialState(false),\n    isSubmitted: false,\n    isSending: false,\n    isSuccess: false,\n    isError: false,\n    error: null\n}\n\nexport const filmAddReducer = (state, action) => {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                isError: false,\n                error: null,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'file-add': {\n            return action.isFilm === true ?\n                {\n                    ...state,\n                    isError: false,\n                    error: null,\n                    alert: alertInitialState,\n                    film: { file: action.file, name: action.fileName, preview: action.preview }\n                } : {\n                    ...state,\n                    isError: false,\n                    error: null,\n                    alert: alertInitialState,\n                    thumbnail: { file: action.file, name: action.fileName, preview: action.preview }\n                }\n        }\n        case 'file-clear': {\n            return action.isFilm === true ?\n                {\n                    ...state,\n                    isError: false,\n                    error: null,\n                    film: setFileInitialState(true)\n                } :\n                {\n                    ...state,\n                    isError: false,\n                    error: null,\n                    thumbnail: setFileInitialState(false)\n                }\n        }\n        case 'submit': {\n            return {\n                ...state,\n                isError: false,\n                error: null,\n                alert: alertInitialState,\n                isSubmitted: true\n            }\n        }\n        case 'send': {\n            return {\n                ...state,\n                isSending: true\n            }\n        }\n        case 'success': {\n            return {\n                ...state,\n                isSending: false,\n                isSuccess: true\n            }\n        }\n        case 'error': {\n            return {\n                ...state,\n                isSending: false,\n                isSuccess: false,\n                isError: true,\n                error: action.payload\n            }\n        }\n        case 'error-422': {\n            return {\n                ...state,\n                isSending: false,\n                isSuccess: false,\n                isError: true,\n                error: action.payload,\n                film: setFileInitialState(true),\n                thumbnail: setFileInitialState(false)\n            }\n        }\n        default: return state\n    }\n}","import './filmAdd.css'\n\nimport React, { useRef, useReducer, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nimport Input from '../../models/input';\n\nimport { CHOOSE_FILM, CHOOSE_THUMBNAIL, filmAddInitialState, filmAddReducer } from './reducer';\n\nimport * as filmApi from '../../../services/filmService'\nimport UserContext from '../../../helpers/contexts/user/userContext';\n\nconst FilmAdd = () => {\n\n\n    const { user, clearUser } = useContext(UserContext)\n\n    let history = useHistory()\n\n    const filmInputRef = useRef(null)\n    const thumbnailInputRef = useRef(null)\n\n    const [state, dispatch] = useReducer(filmAddReducer, filmAddInitialState)\n\n    const { title, description, film, thumbnail, isSubmitted, isSending, isError, error } = state\n\n    useEffect(() => {\n        if (!user.auth && user.isInitialLoaded) {\n            history.replace(`${process.env.REACT_APP_PATH_NAME}`)\n            history.push(`${process.env.REACT_APP_PATH_NAME}login`)\n            clearUser()\n        }\n    }, [user, history, clearUser])\n\n    useEffect(() => {\n        async function sendData() {\n\n            let filmData = new FormData();\n            filmData.set('title', title);\n            filmData.set('description', description);\n            filmData.set('film', film.file);\n            filmData.set('thumbnail', thumbnail.file);\n\n            await filmApi.create(filmData)\n                .then((res) => {\n                    dispatch({ type: 'success' })\n                    history.push(`${process.env.REACT_APP_PATH_NAME}film/${res.data.id}`);\n                })\n                .catch((error) => {\n                    let errorMessage = null\n\n                    if (error.response && error.response.data && error.response.data.error) {\n                        errorMessage = error.response.data.error\n                    } else if (error.response && error.response.data && error.response.data.errors) {\n                        if (error.response.data.errors.description)\n                            errorMessage = error.response.data.errors.description.message\n                        else if (error.response.data.errors.title)\n                            errorMessage = error.response.data.errors.title.message\n                    }\n\n                    if (error.response.status === 422) {\n                        dispatch({ type: 'error-422', payload: errorMessage })\n                    } else {\n                        dispatch({ type: 'error', payload: errorMessage })\n                    }\n                })\n        }\n\n        if (isSending) sendData()\n    }, [description, film.file, history, isSending, thumbnail.file, title])\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        dispatch({ type: 'submit' })\n\n        if (!user.auth) {\n            history.push(`${process.env.REACT_APP_PATH_NAME}add/login`);\n            return;\n        }\n\n        if (title && description) {\n            dispatch({ type: 'send' })\n        }\n    }\n\n    const handleFileChoose = (event, type) => {\n        event.preventDefault();\n\n        switch (type) {\n            case 'film':\n                dispatch({\n                    type: 'file-add',\n                    isFilm: true,\n                    file: filmInputRef.current.files[0],\n                    fileName: filmInputRef.current.files[0].name,\n                    preview: URL.createObjectURL(event.target.files[0])\n                })\n                break;\n\n            case 'thumbnail':\n                dispatch({\n                    type: 'file-add',\n                    isFilm: false,\n                    file: thumbnailInputRef.current.files[0],\n                    fileName: thumbnailInputRef.current.files[0].name,\n                    preview: URL.createObjectURL(event.target.files[0])\n                })\n                break;\n            default:\n                break;\n        }\n    }\n\n    return (\n        <div className=\"row my-4 mx-2 h-100 container mx-auto\">\n            <div className=\"col col-12 col-md-6 m-0 mb-4\">\n                <div>\n                    <div className=\"position-relative justify-content-center d-flex align-items-center text-center box has-advanced-upload\">\n\n                        <div className=\"embed-responsive embed-responsive-16by9 \">\n                            <video muted={true} autoPlay={true} className=\"embed-responsive-item\" loop={true}\n                                src={film.preview ? film.preview : \"\"}>\n                            </video>\n                        </div>\n\n                        <input id=\"film\" accept=\"video/mp4, video/ogg\"\n                            onChange={event => handleFileChoose(event, 'film')}\n                            type=\"file\" ref={filmInputRef} className=\"inputfile\" />\n                        <label htmlFor=\"film\" className=\"position-absolute\">\n                            {\n                                film.name === CHOOSE_FILM &&\n                                <span>{film.name}</span>\n                            }\n                        </label>\n\n                        {\n                            film.preview &&\n                            <div className=\"col card-img-overlay film-add-item-opacity\" />\n                        }\n\n                        {\n                            film.preview &&\n                            <FontAwesomeIcon className=\"film-add-item-middle fa-3x text-white\"\n                                icon=\"times\"\n                                onClick={() => {\n                                    dispatch({ type: 'file-clear', isFilm: true })\n                                }} />\n                        }\n\n                    </div>\n                </div>\n            </div>\n            <div className=\"col col-12 col-md-6 m-0 mb-4\">\n                <div>\n                    <div className=\"position-relative justify-content-center d-flex align-items-center text-center box has-advanced-upload\">\n                        <div className=\"embed-responsive embed-responsive-16by9 \">\n                            <img className=\"embed-responsive-item\" alt=\"\" src={thumbnail.preview ? thumbnail.preview : \"data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\"} />\n                        </div>\n                        <input id=\"thumbnail\" accept=\"image/jpg, image/png, image/jpeg\"\n                            onChange={event => handleFileChoose(event, 'thumbnail')}\n                            type=\"file\" ref={thumbnailInputRef} className=\" inputfile position-absolute\" />\n                        <label htmlFor=\"thumbnail\" className=\"position-absolute\">\n\n                            {\n                                thumbnail.name === CHOOSE_THUMBNAIL &&\n                                <span>{thumbnail.name}</span>\n                            }\n                        </label>\n                        {\n                            thumbnail.preview &&\n                            <div className=\"col card-img-overlay film-add-item-opacity\" />\n                        }\n\n                        {\n                            thumbnail.preview &&\n                            <FontAwesomeIcon className=\"film-add-item-middle fa-3x text-white\" icon=\"times\"\n                                onClick={() => {\n                                    dispatch({ type: 'file-clear', isFilm: false })\n                                }} />\n                        }\n                    </div>\n                </div>\n\n            </div>\n            <div className=\"col col-12 col-md-12 m-0 ml-auto mr-auto mb-4 mb-md-0\">\n\n                <div className=\"mb-3\">\n                    <Input placeholder=\"Title\"\n                        type=\"text\"\n                        isInvalid={isSubmitted && !title}\n                        name=\"title\"\n                        value={title}\n                        onChange={e => dispatch({ type: 'field', fieldName: 'title', payload: e.target.value })} />\n\n                    <div className=\"invalid-feedback\">\n                        Title is required\n                    </div>\n                </div>\n\n                <div className=\"mb-3\" >\n                    <Input\n                        placeholder=\"Description\"\n                        type=\"textarea\"\n                        isInvalid={isSubmitted && !description}\n                        name=\"description\"\n                        value={description}\n                        onChange={e => dispatch({ type: 'field', fieldName: 'description', payload: e.target.value })}\n                    />\n                    <div className=\"invalid-feedback\">\n                        Description is required\n                    </div>\n                </div>\n\n                <div className=\"col-12 mb-3 p-0\">\n                    <div className=\"d-flex align-items-center justify-content-end\">\n                        {\n                            isSending &&\n                            <div className=\"spinner-grow mr-2\" />\n\n                        }\n                        <button className=\"btn btn-primary\"\n                            disabled={isSending || !title || !description}\n                            onClick={!isSending ? handleSubmit : null}>\n                            Add\n                        </button>\n\n\n                    </div>\n                </div>\n\n                {\n                    isError &&\n                    <div className=\"alert alert-danger\">\n                        {error ? error : 'Error while creating film.'}\n                    </div>\n                }\n\n            </div>\n        </div >\n    )\n}\n\nexport default FilmAdd\n","import { useEffect, useRef } from \"react\"\n\nconst Input = ({ isInvalid, onChange, type, name, value, placeholder = '' }) => {\n\n    const InputTag = type === 'textarea' ? 'textarea' : 'input'\n\n    const inputRef = useRef(null)\n\n    useEffect(() => {\n        let ref = inputRef.current\n        if (ref) {\n            if (isInvalid) inputRef.current.classList.add('is-invalid')\n            else inputRef.current.classList.remove('is-invalid')\n        }\n    }, [isInvalid])\n\n    return (\n        <InputTag ref={inputRef} className=\"form-control\"\n            placeholder={placeholder}\n            type={type} name={name}\n            value={value} onChange={onChange} />\n    )\n}\n\nexport default Input","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const all = (params) => axios.get('films/', {params})\nexport const index = (id) => axios.get(`films/${id}`)\nexport const indexDetails = (id) => axios.get(`films/${id}/details`)\nexport const search = (params) => axios.get('films/search', {params})\n\nexport const view = (id) => axios.patch(`films/${id}/view`)\n\nexport const video = (id) => axios.get(`films/${id}/video`)\nexport const thumbnail = (id, params) => axios.get(`films/${id}/thumbnail`, {params})\n\nexport const create = (form) => axios.post(`films`, form, {headers: authHeader()})\n\nexport const update = (id, body) => axios.put(`films/${id}`, body, {headers: authHeader()})\nexport const partialUpdate = (id, body) => axios.patch(`films/${id}`, body, {headers: authHeader()})\n\nexport const like = (id, form) => axios.patch(`films/${id}/action`, form, {headers: authHeader()})\n\nexport const remove = (id) => axios.delete(`films/${id}`, { headers: authHeader() })\n\n\n\n"],"sourceRoot":""}