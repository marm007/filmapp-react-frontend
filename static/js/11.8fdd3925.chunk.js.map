{"version":3,"sources":["components/pages/playlists/reducer.js","components/pages/playlists/index.js","config/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/buttons/ripple/index.js","helpers/hooks/useBottomScrollListener.js","services/playlistService.js","services/userService.js","components/buttons/changePrivacy/index.js","components/buttons/remove/index.js","components/models/film/skeleton.js","helpers/hooks/useIntersectionObserver.js","components/models/blurredImage/index.js","../node_modules/lodash.debounce/index.js","components/buttons/edit/index.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/inheritsLoose.js","components/models/playlist/index.js"],"names":["initialState","playlists","playlistsCount","isLoading","isAllFetched","isInitialLoaded","error","playlistsPageReducer","state","action","type","fieldName","payload","Set","responseCount","pageInitialMaxFetchCount","pageMaxFetchCount","filter","playlist","is_public","PlaylistsPage","user","useContext","UserContext","history","useHistory","useReducer","dispatch","handleOnPlaylistsBottom","useCallback","useBottomScrollListener","triggerOnNoScroll","useEffect","a","userApi","then","res","catch","err","console","playlistApi","limit","playlistPage","result","data","filtered","film_id","forEach","img","process","log","length","auth","fetchInitialPlaylists","skip","fetchPlaylists","setRedirect","playlistID","filmID","push","pathname","search","className","map","index","handleRedirect","id","Array","_","commentsMaxFetchCount","recommendationsMaxFetchCount","playlistButtonMaxFetchCount","searchPageMaxFetchCount","_toConsumableArray","arr","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","RippleButton","onClick","children","props","useRipple","background","addRipple","ripples","e","onMouseDown","createCallback","debounce","handleOnScroll","options","lodashDebounce","onBottom","useMemo","offset","debounceOptions","leading","debouncedOnBottom","containerRef","useRef","current","scrollNode","scrollContainerBottomPosition","Math","round","scrollTop","clientHeight","scrollHeight","document","getElementById","scrollingElement","documentElement","window","innerHeight","ref","node","addEventListener","removeEventListener","create","body","axios","post","headers","authHeader","get","show","params","partialUpdate","patch","remove","delete","me","ChangePrivacyButton","isPublic","isPlaylist","dispatchPrivacyUpdate","filmDispatch","useState","isChanging","setIsChanging","undefined","changePrivacy","preventDefault","stopPropagation","icon","RemoveButton","handleRemove","FilmSkeleton","isRecommendations","require","useIntersectionObserver","target","onIntersect","threshold","rootMargin","React","observer","IntersectionObserver","observe","unobserve","BlurredImage","src","srcWebp","thumb","thumbWebp","isCached","isLoaded","setIsLoaded","srcSet","alt","style","visibility","onLoad","opacity","BlurredImageComponent","image","isVisible","setIsVisible","setIsCached","observerElement","isIntersecting","tmp","Image","concat","complete","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","self","root","Function","objectToString","prototype","toString","nativeMax","max","nativeMin","min","now","Date","isObject","value","toNumber","isObjectLike","call","isSymbol","other","valueOf","replace","isBinary","test","slice","module","exports","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","trailing","invokeFunc","time","args","thisArg","apply","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","arguments","this","cancel","clearTimeout","flush","EditButton","title","description","_setPrototypeOf","o","p","setPrototypeOf","__proto__","__esModule","subClass","superClass","constructor","Playlist","isProfile","setStyle","line","text","author_name"],"mappings":"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","file":"static/js/11.8fdd3925.chunk.js","sourcesContent":["import { pageInitialMaxFetchCount, pageMaxFetchCount } from '../../../config'\n\n\nexport const initialState = {\n    playlists: null,\n    playlistsCount: 0,\n    isLoading: false,\n    isAllFetched: false,\n    isInitialLoaded: false,\n    error: null,\n}\n\nexport const playlistsPageReducer = (state, action) => {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'initial-success': {\n            return {\n                ...state,\n                playlists: [...new Set([...action.playlists])],\n                isLoading: false,\n                isInitialLoaded: true,\n                isAllFetched: action.responseCount < pageInitialMaxFetchCount,\n                playlistsCount: state.playlistsCount + action.responseCount,\n            }\n        }\n        case 'load': {\n            return {\n                ...state,\n                isLoading: true,\n                isAllFetched: false,\n                error: null\n            }\n        }\n        case 'success': {\n            return {\n                ...state,\n                playlists: [...new Set([...state.playlists, ...action.playlists])],\n                isLoading: false,\n                isAllFetched: action.responseCount < pageMaxFetchCount,\n                playlistsCount: state.playlistsCount + action.responseCount,\n                error: null\n            }\n        }\n        case 'user-logout': {\n            return state.playlists ? {\n                ...state,\n                playlists: state.playlists.filter(playlist => playlist.is_public)\n            } : state\n        }\n        case 'clear': {\n            return initialState\n        }\n        case 'error': {\n            return {\n                ...state,\n                isLoading: false,\n                isAllFetched: false,\n                error: action.payload\n            }\n        }\n        default:\n            return state\n    }\n}\n","import React, { useEffect, useReducer, useCallback, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { playlistsPageReducer, initialState } from './reducer'\n\nimport Skeleton from '../../models/film/skeleton';\nimport Playlist from '../../models/playlist';\n\nimport * as playlistApi from '../../../services/playlistService'\nimport * as userApi from '../../../services/userService'\n\nimport { pageInitialMaxFetchCount, pageMaxFetchCount } from '../../../config';\n\nimport useBottomScrollListener from '../../../helpers/hooks/useBottomScrollListener';\nimport UserContext from '../../../helpers/contexts/user/userContext';\n\nconst pathName = process.env.REACT_APP_PATH_NAME;\n\nfunction PlaylistsPage() {\n\n    const { user } = useContext(UserContext);\n\n    let history = useHistory()\n\n    const [state, dispatch] = useReducer(playlistsPageReducer, initialState)\n    const { playlists, isLoading, isAllFetched, isInitialLoaded, playlistsCount } = state\n\n    const handleOnPlaylistsBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && isInitialLoaded) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isAllFetched, isLoading, isInitialLoaded])\n\n    useBottomScrollListener(handleOnPlaylistsBottom, { triggerOnNoScroll: true })\n\n    useEffect(() => {\n        async function fetchInitialPlaylists() {\n            await userApi.me().then(res => {}).catch(err => console.error(err))\n            await playlistApi.show({ limit: pageInitialMaxFetchCount, playlistPage: true })\n                .then(res => {\n                    const result = res.data;\n\n                    let filtered = result.filter(playlist => playlist.film_id)\n\n                    filtered.forEach(playlist => {\n                        playlist.img = `${process.env.REACT_APP_API_URL}films/${playlist.film_id}/thumbnail`\n                    });\n                    console.log(res.data)\n                    dispatch({\n                        type: 'initial-success',\n                        playlists: filtered,\n                        responseCount: result.length\n                    })\n\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n        console.log('auth',user.auth)\n        dispatch({ type: 'clear' })\n        fetchInitialPlaylists()\n\n    }, [user.auth])\n\n    useEffect(() => {\n        async function fetchPlaylists() {\n        console.log('auth','aldalld')\n\n            await playlistApi.show({ skip: playlistsCount, limit: pageMaxFetchCount, playlistPage: true })\n                .then(res => {\n                    const result = res.data;\n\n                    let filtered = result.filter(playlist => playlist.film_id)\n\n                    filtered.forEach(playlist => {\n                        playlist.img = `${process.env.REACT_APP_API_URL}films/${playlist.film_id}/thumbnail`\n                    });\n\n                    dispatch({\n                        type: 'success',\n                        playlists: filtered,\n                        responseCount: result.length\n                    })\n\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isLoading && isInitialLoaded) fetchPlaylists()\n\n    }, [isLoading, isInitialLoaded, playlists, playlistsCount])\n\n\n    const setRedirect = (playlistID, filmID) => {\n        history.push({\n            pathname: `${pathName}film/` + filmID,\n            search: `?list=${playlistID}`\n        });\n    };\n\n\n    return (\n        <div className=\"row mt-5 mx-2\">\n            {\n                playlists ? playlists.map((playlist, index) => <Playlist key={playlist.id} playlist={playlist} index={index} handleRedirect={setRedirect} />)\n                    : ([...Array(20)].map((_, index) => (\n                        <Skeleton key={index} />\n                    )))\n            }\n            {\n                !isAllFetched && <div className=\"fetch-loader d-flex justify-content-center\">\n                    {\n                        isLoading &&\n                        <div className=\"spinner spinner-border\" />\n                    }\n                </div>\n            }\n\n        </div>\n\n    )\n}\n\nexport default PlaylistsPage\n","export const commentsMaxFetchCount = 10\nexport const recommendationsMaxFetchCount = 12\n\nexport const playlistButtonMaxFetchCount = 10\n\nexport const pageInitialMaxFetchCount = 40\nexport const pageMaxFetchCount = 20\n\nexport const searchPageMaxFetchCount = 10\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import useRipple from 'useripple'\n\nconst RippleButton = ({ onClick = () => {}, children, className, id, ...props }) => {\n\n    const [addRipple, ripples] = useRipple({ background: 'black' })\n\n    return (\n        <button id={id ? id : ''} onClick={(e) => {\n            onClick(e)\n        }}\n            onMouseDown={addRipple}\n            className={`btn btn-link button-ripple text-dark ${className}`} {...props}>\n            {children}\n            {ripples}\n        </button>\n    )\n}\n\nexport default RippleButton","import { useCallback, useEffect, useRef, useMemo } from 'react';\nimport lodashDebounce from 'lodash.debounce';\n\nconst createCallback = (debounce, handleOnScroll, options) => {\n  if (debounce) {\n    return lodashDebounce(handleOnScroll, debounce, options);\n  } else {\n    return handleOnScroll;\n  }\n};\n\nfunction useBottomScrollListener(\n  onBottom = () => { },\n  options = {},\n) {\n  const { offset, triggerOnNoScroll, debounce, debounceOptions, id } = useMemo(\n    () => ({\n      offset: options?.offset ?? 20,\n      debounce: options?.debounce ?? 200,\n      debounceOptions: options?.debounceOptions ?? { leading: true },\n      triggerOnNoScroll: options?.triggerOnNoScroll ?? false,\n      id: options?.id ?? null\n    }),\n    [options?.offset, options?.debounce, options?.debounceOptions, options?.triggerOnNoScroll, options?.id],\n  );\n\n  const debouncedOnBottom = useMemo(() => createCallback(debounce, onBottom, debounceOptions), [onBottom, debounce, debounceOptions]);\n  const containerRef = useRef(null);\n  const handleOnScroll = useCallback(() => {\n\n    if (containerRef.current != null) {\n      const scrollNode = containerRef.current;\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n\n      if (scrollPosition <= scrollContainerBottomPosition) {\n        debouncedOnBottom();\n      }\n    } else if (id !== null) {\n      const scrollNode = document.getElementById(id);\n      if (scrollNode) {\n        const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\n        const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n        if (scrollPosition <= scrollContainerBottomPosition) {\n          debouncedOnBottom();\n        }\n      }\n    } else {\n      const scrollNode = document.scrollingElement || document.documentElement;\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + window.innerHeight);\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n\n      if (scrollPosition <= scrollContainerBottomPosition) {\n        debouncedOnBottom();\n      }\n    }\n  }, [debouncedOnBottom, offset, id]);\n\n  useEffect(() => {\n    const ref = containerRef.current;\n    const node = document.getElementById(id)\n\n    if (ref != null) {\n      ref.addEventListener('scroll', handleOnScroll);\n    } else if (node !== null) {\n      node.addEventListener('scroll', handleOnScroll);\n    } else {\n      window.addEventListener('scroll', handleOnScroll);\n    }\n\n    if (triggerOnNoScroll) {\n      handleOnScroll();\n    }\n\n    return () => {\n      if (ref != null) {\n        ref.removeEventListener('scroll', handleOnScroll);\n      } else if (node !== null) {\n        node.addEventListener('scroll', handleOnScroll);\n      } else {\n        window.removeEventListener('scroll', handleOnScroll);\n      }\n    };\n  }, [handleOnScroll, triggerOnNoScroll, id]);\n\n  return containerRef;\n}\n\nexport default useBottomScrollListener;\n","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const create = (body) => axios.post('playlists', body, { headers: authHeader() })\nexport const index = (id) => axios.get(`playlists/${id}`, { headers: authHeader() })\nexport const show = (params) => axios.get(`playlists`, { params, headers: authHeader() })\nexport const partialUpdate = (id, body) => axios.patch(`playlists/${id}`, body, { headers: authHeader() })\n\n\nexport const remove = (id) => axios.delete(`playlists/${id}`, { headers: authHeader() })\n\n","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const me = (params) => axios.get('users/me', { params, headers: authHeader() })\nexport const partialUpdate = (body) => axios.patch('users', body, { headers: authHeader() })\n\nexport const userService = {\n    login,\n    logout,\n    register\n};\n\nfunction login(username, password) {\n\n    let loginHeaderMy = null\n\n    const requestOptions = {\n        method: 'POST',\n        headers: loginHeaderMy\n\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/auth`, requestOptions)\n        .then(handleResponse)\n        .then(user => {\n            localStorage.setItem('user', JSON.stringify(user));\n            return user;\n        })\n}\n\nfunction logout() {\n    localStorage.removeItem('user');\n}\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n    return fetch(`${process.env.REACT_APP_API_URL}/users/`, requestOptions)\n        .then(handleResponse);\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                logout();\n            }\n            const error = (data && data.errors) || response.statusText;\n            return Promise.reject(error);\n        }\n        return data;\n    })\n}\n\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useEffect, useState } from \"react\"\nimport * as playlistApi from '../../../services/playlistService'\nimport RippleButton from \"../ripple\"\n\nconst ChangePrivacyButton = ({ isPublic, id, isPlaylist, dispatchPrivacyUpdate, filmDispatch }) => {\n\n    const [isChanging, setIsChanging] = useState(false)\n\n\n    useEffect(() => {\n        async function changePrivacy() {\n            await playlistApi.partialUpdate(id, { is_public: !isPublic })\n                .then(res => {\n                    setIsChanging(false)\n\n                    dispatchPrivacyUpdate({\n                        type: 'change-playlist-privacy-success',\n                        payload: res.data\n                    })\n\n                    if (filmDispatch !== undefined) {\n                        filmDispatch({\n                            type: 'field',\n                            fieldName: 'reloadPlaylist',\n                            payload: true\n                        })\n                    }\n                })\n                .catch(err => {\n                    console.error(err)\n                    setIsChanging(false)\n                })\n        }\n        if (isChanging) changePrivacy()\n    }, [dispatchPrivacyUpdate, isChanging, isPublic, id, filmDispatch])\n\n    const handleChangePrivacy = (e) => {\n        e.preventDefault()\n        e.stopPropagation()\n        if (!isChanging) setIsChanging(true)\n    }\n\n\n    return <RippleButton\n        className={`button-ripple-24 p-0 ${isPlaylist ? '' : 'remove-holder'}`}\n        onClick={handleChangePrivacy}>\n        <FontAwesomeIcon icon={isPublic ? \"globe-europe\" : \"lock\"} />\n    </RippleButton>\n}\n\nexport default ChangePrivacyButton","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport RippleButton from '../ripple'\n\nconst RemoveButton = ({ handleRemove }) => {\n    return (\n        <RippleButton\n            className=\"button-ripple-24 remove-holder p-0\"\n            onClick={handleRemove}>\n            <FontAwesomeIcon icon=\"trash-alt\" />\n        </RippleButton>\n    )\n}\n\nexport default RemoveButton","import Skeleton from 'react-loading-skeleton';\n\nimport '../../pages/film/film.css'\n\nconst FilmSkeleton = ({ isRecommendations }) => {\n\n    return (\n        <div className={`${isRecommendations ? 'col-sm-12' : 'col-sm-6'} mb-4 col col-12 col-md-3 col-lg-2 container-px`}>\n            <div className=\"col-12 col-sm-12 p-0\">\n                <div className=\"embed-responsive embed-responsive-16by9 z-depth-1-half play-container\">\n                    <div className=\"embed-responsive-item\">\n                        <Skeleton className=\"w-100 h-100 line-height-unset\" />\n                    </div>\n                </div>\n            </div>\n            <div className=\"col-12 col-sm-12 mt-2 p-0\">\n                <div className=\"col p-0\">\n                    <Skeleton className=\"w-100 h-100 line-height-unset\" />\n                </div>\n\n                <div className=\"col p-0\">\n                    <Skeleton className={`${isRecommendations ? 'line-height-unset' : ''} col w-100`} />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default FilmSkeleton","import React from \"react\";\nrequire('intersection-observer');\n\nconst useIntersectionObserver = ({\n  target,\n  onIntersect,\n  threshold = 0.1,\n  rootMargin = \"0px\"\n}) => {\n  React.useEffect(() => {\n    const observer = new IntersectionObserver(onIntersect, {\n      rootMargin,\n      threshold\n    });\n    const current = target.current;\n    observer.observe(current);\n    return () => {\n      observer.unobserve(current);\n    };\n  });\n};\nexport default useIntersectionObserver;","import React, { useState, useRef } from 'react';\nimport useIntersectionObserver from '../../../helpers/hooks/useIntersectionObserver';\nimport \"./blurred.css\";\n\nconst BlurredImage = ({ src, srcWebp, thumb, thumbWebp, isCached }) => {\n    const [isLoaded, setIsLoaded] = useState(isCached);\n\n    return (\n        <div>\n\n            <picture >\n                <source type=\"image/webp\" srcSet={thumbWebp} />\n                <source type=\"image/jpeg\" srcSet={thumb} />\n                <img className=\"image thumb\" alt=\"\"\n                    style={{ visibility: isLoaded ? \"hidden\" : \"visible\" }}\n                    src={thumb}\n                    onLoad={() => {\n                        setIsLoaded(true);\n                    }} />\n            </picture>\n\n            <picture >\n                <source type=\"image/webp\" srcSet={srcWebp} />\n                <source type=\"image/jpeg\" srcSet={src} />\n                <img className=\"image full\" alt=\"\"\n                    style={{ opacity: isLoaded ? 1 : 0 }}\n                    src={src}\n                    onLoad={() => {\n                        setIsLoaded(true);\n                    }} />\n            </picture>\n        </div>\n    );\n}\n\nfunction BlurredImageComponent({ image }) {\n    const ref = useRef();\n    const [isVisible, setIsVisible] = useState(false);\n    const [isCached, setIsCached] = useState(false);\n\n    useIntersectionObserver({\n        target: ref,\n        onIntersect: ([{ isIntersecting }], observerElement) => {\n            if (isIntersecting) {\n                let tmp = new Image();\n                tmp.src = image.concat('?width=poster_webp');\n                setIsCached(tmp.complete)\n                setIsVisible(true);\n                if (ref.current)\n                    observerElement.unobserve(ref.current);\n            }\n        }\n    });\n\n    return (\n        <div\n            ref={ref}\n            className=\"image-container embed-responsive embed-responsive-16by9  play-image\"\n        >\n            {isVisible && (\n                <BlurredImage isCached={isCached}\n                    src={image.concat('?width=poster')}\n                    srcWebp={image.concat('?width=poster_webp')}\n                    thumb={image.concat('?width=preview')}\n                    thumbWebp={image.concat('?width=preview_webp')} />\n            )}\n        </div>\n    );\n}\n\nexport default BlurredImageComponent;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","import React from 'react'\nimport { useHistory } from \"react-router-dom\"\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport RippleButton from \"../ripple\"\n\nconst EditButton = ({ isPlaylist, id, title, description }) => {\n    let history = useHistory()\n\n    const handleEditClick = (e) => {\n        e.stopPropagation()\n        if (isPlaylist) {\n            history.push({ pathname: `profile/update-playlist/${id}`, state: { title } })\n        } else {\n            history.push({ pathname: `profile/update-film/${id}`, state: { title, description } })\n        }\n    }\n\n    return (\n        <RippleButton className=\"button-ripple-24 remove-holder p-0\"\n            onClick={handleEditClick}>\n            <FontAwesomeIcon icon=\"edit\" />\n        </RippleButton>\n    )\n}\n\nexport default EditButton","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inheritsLoose;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","import React, { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport TextTruncate from \"react-text-truncate\";\nimport BlurredImageComponent from \"../blurredImage\";\nimport RemoveButton from '../../buttons/remove';\nimport ChangePrivacyButton from '../../buttons/changePrivacy';\nimport EditButton from '../../buttons/edit';\n\nconst Playlist = ({ playlist, handleRedirect, handleRemove, isProfile, dispatchPrivacyUpdate }) => {\n\n    const [style, setStyle] = useState(\"mb-4 play-outer-container remove-container\")\n\n    useEffect(() => {\n        if (!playlist.film_id) setStyle(\"mb-4 play-cursor-default remove-container\")\n    }, [playlist.film_id])\n\n\n    return (\n        <div className=\"col-12 col-sm-6 col-md-3 col-lg-2 container-px\"\n            key={playlist.id}>\n            <div className={`col ${style} p-0`} onClick={() => handleRedirect(playlist.id, playlist.film_id)}>\n                <div className=\"play-container p-0\">\n                    <BlurredImageComponent\n                        image={playlist.img} />\n\n                    <div className=\"row play-middle w-100 m-0\">\n                        <div className=\"col-5 col-sm-5 pr-1 d-flex justify-content-end align-items-center\">\n                            <FontAwesomeIcon icon=\"play\" />\n                        </div>\n                        <div className=\"col-7 col-sm-7 pl-1 d-flex justify-content-start align-items-center\">\n                            <small className=\"font-weight-bold\" >Play all</small>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"row m-0 mt-1\">\n                    <div className={`p-0 col ${isProfile ? 'button-ripple-div-next-width-3x' : 'col-12'}`}>\n                        <TextTruncate line={1} text={playlist.title}\n                            className=\"mb-1 mt-1 title \" />\n                    </div>\n\n\n                    {\n                        isProfile && <>\n                            <ChangePrivacyButton\n                                id={playlist.id}\n                                isPublic={playlist.is_public}\n                                isProfile={true}\n                                dispatchPrivacyUpdate={dispatchPrivacyUpdate} />\n                            <RemoveButton handleRemove={handleRemove} />\n                            <EditButton isPlaylist={true} id={playlist.id} title={playlist.title} />\n                        </>\n                    }\n                </div>\n                <p className=\"mb-0 author-nick\">\n                    <span>{playlist.author_name}</span>\n                </p>\n            </div>\n        </div>\n    )\n}\n\nexport default Playlist"],"sourceRoot":""}