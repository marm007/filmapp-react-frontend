{"version":3,"sources":["services/filmService.js","services/userService.js","helpers/hooks/useBottomScrollListener.js","helpers/axios.js","helpers/hooks/useWindowsWidth.js","components/navbar/reducer.js","components/navbar/index.js","images/header.png","services/authService.js","components/auth/reducer.js","components/auth/login.js","components/auth/resetPassword.js","components/auth/forgotPassword.js","helpers/components/privateRoute.js","components/settings/reducer.js","components/settings/index.js","components/auth/register.js","helpers/components/removeModal.js","helpers/components/withAxios.js","helpers/contexts/user/userProvider.js","App.js","serviceWorker.js","helpers/contexts/toast/toastProvider.js","helpers/contexts/removeModal/removeModalProvider.js","index.js","helpers/contexts/user/userContext.js","helpers/authHeader.js","helpers/contexts/toast/toastContext.js","helpers/contexts/removeModal/removeModalContext.js"],"names":["all","params","axios","get","index","id","search","view","patch","create","form","post","headers","authHeader","like","remove","delete","me","partialUpdate","body","createCallback","debounce","handleOnScroll","options","lodashDebounce","useBottomScrollListener","onBottom","useMemo","offset","debounceOptions","leading","triggerOnNoScroll","debouncedOnBottom","containerRef","useRef","useCallback","current","scrollNode","scrollContainerBottomPosition","Math","round","scrollTop","clientHeight","scrollHeight","document","getElementById","scrollingElement","documentElement","window","innerHeight","useEffect","ref","node","addEventListener","removeEventListener","instance","baseURL","process","useWindowsWidth","useState","isScreenSmall","setIsScreenSmall","checkScreenSize","innerWidth","initialSearchState","isLoading","isAllFetched","isSearching","isOpen","selected","title","searchReducer","state","action","type","fieldName","payload","length","NavbarComponent","props","history","useHistory","location","useLocation","onSmallScreen","useContext","UserContext","user","logout","useReducer","dispatch","isExpanded","setIsExpanded","handleSearchOnBottom","typeaheadRef","handleKeyDown","a","filmApi","skip","then","data","map","film","img","catch","err","console","error","getAllSearchedFilms","event","target","className","keyCode","charCode","log","handleSearchSubmit","e","preventDefault","reset","clear","push","pathname","films","handleSearch","query","Navbar","expanded","expand","bg","variant","onToggle","onSelect","eventKey","handleSelect","Col","xs","span","order","sm","md","Brand","style","cursor","onClick","alt","src","width","height","Toggle","Form","inline","Row","useCache","filterBy","open","placeholder","labelKey","minLength","onSearch","onBlur","onFocus","onKeyDown","onMenuToggle","onInputChange","text","onChange","renderMenu","results","menuProps","result","option","position","stopPropagation","marginRight","role","href","Spinner","animation","Button","icon","faSearch","Collapse","Nav","activeKey","Link","auth","align","viewScroll","offsetY","direction","menuButton","name","toUpperCase","charAt","slice","handleLogin","login","username","email","password","register","forget","token","authInitialState","nick","isSubmitted","isSending","isSuccess","isError","authReducer","Login","show","setShow","authApi","res","refreshToken","replace","errorMessage","response","errors","sendData","modalClose","goBack","Modal","onHide","size","centered","Header","closeButton","Title","Body","onSubmit","Group","Label","htmlFor","Control","isInvalid","value","Feedback","disabled","Alert","setTimeout","Footer","ResetPassword","match","maxLength","ForgotPassword","submitData","PrivateRoute","Component","component","rest","render","localStorage","getItem","to","from","userInitialState","settingsInitialState","initialUser","isInitialLoaded","success","settingsReducer","Settings","clearUser","updateUser","userApi","getUser","toUpdate","accessToken","updateUserData","Register","RemoveModal","RemoveModalContext","removeModalData","handleClose","WithAxios","children","interceptors","use","isAuth","originalRequest","config","status","_retry","url","Promise","reject","JSON","parse","setItem","stringify","UserProvider","setUser","scrollTo","decoded","jwt_decode","getMe","Provider","removeItem","reload","library","add","faPlay","faSortDown","faSortUp","faTrashAlt","faTimes","faGlobeEurope","faLock","pathName","ProfileComponent","lazy","HomeComponent","FilmComponent","SearchComponent","PlaylistsPage","AddFilmComponent","NotFoundComponent","App","ToastContext","toast","clearToast","Toast","onClose","autohide","message","exact","path","SettingsComponent","fallback","Boolean","hostname","ToastProvider","isPrevoius","setToast","createToast","RemoveModalProvider","isRemoving","setRemoveModalData","showModal","prevState","ReactDOM","navigator","serviceWorker","ready","registration","unregister","createContext"],"mappings":"wHAAA,kQAIaA,EAAM,SAACC,GAAD,OAAYC,IAAMC,IAAI,SAAU,CAACF,YACvCG,EAAQ,SAACC,GAAD,OAAQH,IAAMC,IAAN,gBAAmBE,KACnCC,EAAS,SAACL,GAAD,OAAYC,IAAMC,IAAI,eAAgB,CAACF,YAEhDM,EAAO,SAACF,GAAD,OAAQH,IAAMM,MAAN,gBAAqBH,EAArB,WAKfI,EAAS,SAACC,GAAD,OAAUR,IAAMS,KAAN,QAAoBD,EAAM,CAACE,QAASC,iBAKvDC,EAAO,SAACT,EAAIK,GAAL,OAAcR,IAAMM,MAAN,gBAAqBH,EAArB,WAAkCK,EAAM,CAACE,QAASC,iBAEvEE,EAAS,SAACV,GAAD,OAAQH,IAAMc,OAAN,gBAAsBX,GAAM,CAAEO,QAASC,kB,iCCpBrE,wFAIaI,EAAK,SAAChB,GAAD,OAAYC,IAAMC,IAAI,WAAY,CAAEF,SAAQW,QAASC,iBAC1DK,EAAgB,SAACC,GAAD,OAAUjB,IAAMM,MAAM,QAASW,EAAM,CAAEP,QAASC,kB,iCCL7E,6BAGMO,EAAiB,SAACC,EAAUC,EAAgBC,GAChD,OAAIF,EACKG,IAAeF,EAAgBD,EAAUE,GAEzCD,GAiFIG,IA7Ef,WAGG,IAFDC,EAEA,uDAFW,aACXH,EACA,uDADU,GAEV,EAAqEI,mBACnE,+BAAO,CACLC,OAAM,iBAAEL,QAAF,IAAEA,OAAF,EAAEA,EAASK,cAAX,QAAqB,GAC3BP,SAAQ,iBAAEE,QAAF,IAAEA,OAAF,EAAEA,EAASF,gBAAX,QAAuB,IAC/BQ,gBAAe,iBAAEN,QAAF,IAAEA,OAAF,EAAEA,EAASM,uBAAX,QAA8B,CAAEC,SAAS,GACxDC,kBAAiB,iBAAER,QAAF,IAAEA,OAAF,EAAEA,EAASQ,yBAAX,SACjB1B,GAAE,iBAAEkB,QAAF,IAAEA,OAAF,EAAEA,EAASlB,UAAX,QAAiB,QAErB,QAACkB,QAAD,IAACA,OAAD,EAACA,EAASK,OAAV,OAAkBL,QAAlB,IAAkBA,OAAlB,EAAkBA,EAASF,SAA3B,OAAqCE,QAArC,IAAqCA,OAArC,EAAqCA,EAASM,gBAA9C,OAA+DN,QAA/D,IAA+DA,OAA/D,EAA+DA,EAASQ,kBAAxE,OAA2FR,QAA3F,IAA2FA,OAA3F,EAA2FA,EAASlB,KAR9FuB,EAAR,EAAQA,OAAQG,EAAhB,EAAgBA,kBAAmBV,EAAnC,EAAmCA,SAAUQ,EAA7C,EAA6CA,gBAAiBxB,EAA9D,EAA8DA,GAWxD2B,EAAoBL,mBAAQ,kBAAMP,EAAeC,EAAUK,EAAUG,KAAkB,CAACH,EAAUL,EAAUQ,IAC5GI,EAAeC,iBAAO,MACtBZ,EAAiBa,uBAAY,WAEjC,GAA4B,MAAxBF,EAAaG,QAAiB,CAChC,IAAMC,EAAaJ,EAAaG,QAC1BE,EAAgCC,KAAKC,MAAMH,EAAWI,UAAYJ,EAAWK,cAC5DH,KAAKC,MAAMH,EAAWM,aAAef,IAEtCU,GACpBN,SAEG,GAAW,OAAP3B,EAAa,CACtB,IAAMgC,EAAaO,SAASC,eAAexC,GAC3C,GAAIgC,EAAY,CACd,IAAMC,EAAgCC,KAAKC,MAAMH,EAAWI,UAAYJ,EAAWK,cAC5DH,KAAKC,MAAMH,EAAWM,aAAef,IACtCU,GACpBN,SAGC,CACL,IAAMK,EAAaO,SAASE,kBAAoBF,SAASG,gBACnDT,EAAgCC,KAAKC,MAAMH,EAAWI,UAAYO,OAAOC,aACxDV,KAAKC,MAAMH,EAAWM,aAAef,IAEtCU,GACpBN,OAGH,CAACA,EAAmBJ,EAAQvB,IA6B/B,OA3BA6C,qBAAU,WACR,IAAMC,EAAMlB,EAAaG,QACnBgB,EAAOR,SAASC,eAAexC,GAcrC,OAZW,MAAP8C,EACFA,EAAIE,iBAAiB,SAAU/B,GACb,OAAT8B,EACTA,EAAKC,iBAAiB,SAAU/B,GAEhC0B,OAAOK,iBAAiB,SAAU/B,GAGhCS,GACFT,IAGK,WACM,MAAP6B,EACFA,EAAIG,oBAAoB,SAAUhC,GAChB,OAAT8B,EACTA,EAAKC,iBAAiB,SAAU/B,GAEhC0B,OAAOM,oBAAoB,SAAUhC,MAGxC,CAACA,EAAgBS,EAAmB1B,IAEhC4B,I,gCCrFT,aACMsB,EADN,OACiBrD,EAAMO,OAAO,CAC1B+C,QAASC,4DAEEF,O,mDCcAG,IAhBS,WACtB,MAA0CC,oBAAS,GAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KAEIC,EAAkB,WACpBD,EAAiBb,OAAOe,WAAa,MASvC,OAPAb,qBAAU,WAIR,OAHAY,IACAd,OAAOK,iBAAiB,SAAUS,GAE3B,kBAAMd,OAAOM,oBAAoB,SAAUQ,MACjD,IAEIF,I,4WCfII,EAAqB,CAC9BzC,QAAS,GACT0C,WAAW,EACXC,cAAc,EACdC,aAAa,EACbC,QAAQ,EACRC,SAAU,KACVC,MAAO,IAGJ,SAASC,EAAcC,EAAOC,GACjC,OAAQA,EAAOC,MACX,IAAK,QACD,OAAO,2BACAF,GADP,gBAEIH,SAAU,MACTI,EAAOE,UAAYF,EAAOG,UAGnC,IAAK,cACD,OAAO,2BACAJ,GADP,IAEIF,MAAOG,EAAOH,MACdD,SAAUI,EAAOJ,WAGzB,IAAK,eACD,OAAO,2BACAG,GADP,IAEIP,WAAW,EACXE,aAAa,EACbD,aAAcO,EAAOG,QAAQC,OAAS,GACtCtD,QAAQ,GAAD,mBAAMiD,EAAMjD,SAAZ,YAAwBkD,EAAOG,YAG9C,IAAK,iBACD,OAAO,2BACAJ,GADP,IAEIP,WAAW,EACXE,aAAa,EACbD,aAAcO,EAAOG,QAAQC,OAAS,GACtCtD,QAASkD,EAAOG,UAGxB,IAAK,QACD,OAAOZ,EAEX,IAAK,OACD,OAAQQ,EAAMP,WAAcO,EAAMN,aAK9BM,EALG,2BACAA,GADA,IAEHP,WAAW,EACXC,cAAc,EACdC,aAAa,IAGrB,IAAK,SACD,OAAO,2BACAK,GADP,IAEIjD,QAAS,GACT4C,aAAa,EACbF,WAAW,EACXC,cAAc,IAGtB,QAAS,OAAOM,G,sDCoWTM,MAvYf,SAAyBC,GAErB,IAAIC,EAAUC,cACVC,EAAWC,cAETC,EAAgB1B,cAEtB,EAAyB2B,qBAAWC,KAA5BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,OAEd,EAA0BC,qBAAWlB,EAAeP,GAApD,mBAAOQ,EAAP,KAAckB,EAAd,KAEA,EAAoC/B,oBAAS,GAA7C,mBAAOgC,EAAP,KAAmBC,EAAnB,KAEQrE,EAA2EiD,EAA3EjD,QAAS+C,EAAkEE,EAAlEF,MAAOL,EAA2DO,EAA3DP,UAAWC,EAAgDM,EAAhDN,aAAcC,EAAkCK,EAAlCL,YAAaC,EAAqBI,EAArBJ,OAAQC,EAAaG,EAAbH,SAEhEwB,EAAuB1D,uBAAY,WAChC8B,GAAcC,GAAiBC,IAAeC,GAC/CsB,EAAS,CACLhB,KAAM,WAGf,CAACT,EAAWC,EAAcC,EAAaC,IAE1C3C,YAAwBoE,EAAsB,CAAExF,GAAI,qBAEpD,IAAMyF,EAAe5D,iBAAO,MAI5BgB,qBAAU,WAGN,OAFAN,SAASS,iBAAiB,UAAW0C,GAE9B,WACHnD,SAASU,oBAAoB,UAAWyC,OAIhD7C,qBAAU,WACN0C,GAAc,KACf,CAACV,IAEJhC,qBAAU,WAAM,4CACZ,sBAAA8C,EAAA,sEACUC,IAAe,CAAE3F,OAAQgE,EAAO4B,KAAM3E,EAAQsD,SAC/CsB,MAAK,YAAe,IACX5E,EADU,EAAX6E,KACgBC,KAAI,SAACC,GAAD,mBAAC,eACnBA,GADkB,IAErBC,IAAI,GAAD,OAAK9C,0DAAL,iBAA2C6C,EAAKjG,GAAhD,oCAGPqF,EAAS,CACLhB,KAAM,eACNE,QAASrD,OAGhBiF,OAAM,SAAAC,GACHC,QAAQC,MAAMF,MAd1B,4CADY,sBAmBRxC,GAnBS,WAAD,wBAmBG2C,KAChB,CAAC3C,EAAWK,EAAO/C,EAAQsD,SAE9B3B,qBAAU,WAAM,4CACZ,sBAAA8C,EAAA,sEACUC,IAAe,CAAE3F,OAAQgE,IAC1B6B,MAAK,YAAe,IACX5E,EADU,EAAX6E,KACgBC,KAAI,SAACC,GAAD,mBAAC,eACnBA,GADkB,IAErBC,IAAI,GAAD,OAAK9C,0DAAL,iBAA2C6C,EAAKjG,GAAhD,oCAEPqF,EAAS,CACLhB,KAAM,iBACNE,QAASrD,OAGhBiF,OAAM,SAAAC,GACHC,QAAQC,MAAMF,MAb1B,4CADY,sBAkBRtC,GAlBS,WAAD,wBAkBKyC,KAClB,CAACzC,EAAaG,IAEjB,IAAMyB,EAAgB,SAACc,GACnB,GAAIA,GAASA,EAAMC,QAAUD,EAAMC,OAAOC,WACX,iDAA3BF,EAAMC,OAAOC,UAA8D,CAC3E,IAAIC,EAAUH,EAAMG,SAAWH,EAAMI,SAGrC,OAFAP,QAAQQ,IAAIF,GAEJA,GACJ,KAAK,GACDG,EAAmBN,GACnB,MACJ,KAAK,EACGzB,GACA+B,EAAmBN,MAsBjCM,EAAqB,SAACC,GACxBA,EAAEC,iBAEFzE,SAASC,eAAe,eAAeyE,QACnCxB,GAAcA,EAAa1D,QAAQmF,QAEnClD,EACAW,EAAQwC,KAAK,CACTC,SAAS,GAAD,OAAKhE,2BAAL,gBAA4CY,EAAShE,IAC7DC,OAAQ,GACRkE,MAAO,KAGI,KAAVF,EACLU,EAAQwC,KAAK,CACTC,SAAS,GAAD,OAAKhE,2BAAL,UACRnD,OAAO,UAAD,OAAYgE,GAClBE,MAAO,KAGa,IAAnBjD,EAAQsD,OACbG,EAAQwC,KAAK,CACTC,SAAS,GAAD,OAAKhE,2BAAL,gBAA4ClC,EAAQ,GAAGlB,IAC/DC,OAAQ,GACRkE,MAAO,KAGXQ,EAAQwC,KAAK,CACTC,SAAS,GAAD,OAAKhE,2BAAL,UACRnD,OAAO,UAAD,OAAYgE,GAClBE,MAAO,CAAEkD,MAAOnG,KAIxBmE,EAAS,CACLhB,KAAM,WA2BRiD,EAAexF,uBAAY,SAACyF,GAC9BlC,EAAS,CACLhB,KAAM,SACNE,QAASgD,MAEd,IAYH,OAEI,eAACC,EAAA,EAAD,CACIC,SAAUnC,EACVoB,UAAU,YACVgB,OAAO,KAAKC,GAAG,QAAQC,QAAQ,QAC/BC,SA1Ba,SAACJ,GAClBlC,EAAckC,IA0BVK,SAAU,SAAAf,GAAC,OApGE,SAACgB,GAElB,OAAQA,GACJ,IAAK,WACDpD,EAAQwC,KAAR,UAAgB/D,2BAAhB,QACA,MAEJ,IAAK,YACDuB,EAAQwC,KAAR,UAAgB/D,2BAAhB,eA4FW4E,CAAajB,IALhC,UAOI,cAACkB,EAAA,EAAD,CAAKvB,UAAU,OACXwB,GAAI,CAAEC,KAAM,EAAGC,MAAO,SACtBC,GAAI,CAAEF,KAAM,EAAGC,MAAO,SACtBE,GAAI,CAAEH,KAAM,EAAGC,MAAO,SAH1B,SAII,eAACZ,EAAA,EAAOe,MAAR,CAAcC,MAAO,CAAEC,OAAQ,WAC3B/B,UAAU,4BACVgC,QAAS,kBAAM/D,EAAQwC,KAAK/D,6BAFhC,UAGI,cAACoE,EAAA,EAAOe,MAAR,UAEQ,qBAAKI,IAAI,GACLC,ICrPjB,65GDqPkCC,MAAM,KACvBC,OAAO,SAGlB,mBAAGpC,UAAU,yBAAb,0BAIT,cAACuB,EAAA,EAAD,CAAKvB,UAAU,sCACXwB,GAAI,CAAEC,KAAM,EAAGC,MAAO,GACtBC,GAAI,CAAEF,KAAM,EAAGC,MAAO,QAF1B,SAGI,cAACZ,EAAA,EAAOuB,OAAR,CAAerC,UAAU,WAAW,gBAAc,4BAGtD,cAACuB,EAAA,EAAD,CAAKC,GAAI,CAAEC,KAAM,GAAIC,MAAO,GACxBC,GAAI,CAAEF,KAAM,EAAGC,MAAO,GACtBE,GAAI,CAAEH,KAAM,EAAGC,MAAO,GAF1B,SAGI,cAACY,EAAA,EAAD,CAAMhJ,GAAG,cAAciJ,OAAO,OAA9B,SACI,eAACC,EAAA,EAAD,CAAKxC,UAAU,MAAM8B,MAAO,CAAEK,MAAO,QAArC,UACI,cAACZ,EAAA,EAAD,CAAKC,GAAI,GAAIG,GAAI,GAAI3B,UAAU,MAA/B,SACI,cAAC,IAAD,CACI5D,IAAK2C,EACLiB,UAAU,aACVyC,UAAU,EACVC,SArNX,kBAAM,GAsNKpJ,GAAG,mBACH4D,WAAW,EACXyF,KAAMtF,EACNuF,YAAY,SACZC,SAAS,QACTC,UAAW,EACXtI,QAASA,EACTuI,SAAUnC,EACVoC,OAAQ,SAAClD,GAAD,OAAWnB,EAAS,CAAEhB,KAAM,QAASC,UAAW,SAAUC,SAAS,KAC3EoF,QAAS,SAACnD,GACQ,KAAVvC,GACAoB,EAAS,CAAEhB,KAAM,QAASC,UAAW,SAAUC,SAAS,KAEhEqF,UAAW,SAACpD,GAAD,OAAWnB,EAAS,CAAEhB,KAAM,QAASC,UAAW,SAAUC,SAAS,KAC9EsF,aAAc,SAAC9F,GAAD,OAAYsB,EAAS,CAAEhB,KAAM,QAASC,UAAW,SAAUC,QAASR,KAClF+F,cAAe,SAACC,EAAMvD,GAClBnB,EAAS,CACLhB,KAAM,QACNC,UAAW,QACXC,QAASwF,IAEA,KAATA,GACA1E,EAAS,CACLhB,KAAM,QACNC,UAAW,UACXC,QAAS,MAGrByF,SAAU,SAAChG,GACP,IAAMC,EAAQD,EAASQ,OAAS,EAAIR,EAAS,GAAGC,MAAQ,GACxDoB,EAAS,CACLhB,KAAM,cACNJ,MAAOA,EACPD,SAAUA,EAASQ,OAAS,EAAIR,EAAS,GAAK,QAGtDiG,WAAY,SAACC,EAASC,GAAV,OACR,eAAC,IAAD,2BAAeA,GAAf,IAA0BzD,UAAU,YAApC,UACKwD,EAAQlE,KAAI,SAACoE,EAAQrK,GAAT,OACT,cAAC,IAAD,CAA+BsK,OAAQD,EAAQE,SAAUvK,EAAzD,SACI,eAACmJ,EAAA,EAAD,CAAKxC,UAAU,uBAAuBgC,QAAS,SAAC3B,GAC5CA,EAAEwD,kBACFxD,EAAEC,iBACF3B,EAAS,CACLhB,KAAM,UAEV9B,SAASC,eAAe,eAAeyE,QACnCxB,GAAcA,EAAa1D,QAAQmF,QAEvCvC,EAAQwC,KAAK,CACTC,SAAS,GAAD,OAAKhE,2BAAL,gBAA4CgH,EAAOpK,IAC3DC,OAAQ,GACRkE,MAAO,MAZf,UAgBI,qBACIuC,UAAU,MACViC,IAAI,GACJC,IAAKwB,EAAOlE,IACZsC,MAAO,CACHM,OAAQ,OACR0B,YAAa,OACb3B,MAAO,UAGf,sBAAMnC,UAAU,cAAhB,SAA+B0D,EAAOnG,YA3B1BmG,EAAOpK,QAkC7B4D,IAAcE,GAAkC,IAAnBoG,EAAQ1F,QAAgB,mBAAGiG,KAAK,SAAS/D,UAAU,yBAAyBgE,KAAK,IAAzD,+BACtD5G,GAAe,mBAAG2G,KAAK,SAAS/D,UAAU,yBAAyBgE,KAAK,IAAzD,0BAEZ,qBAAKlC,MAAO,CAAEM,OAAQ,OAAYpC,UAAU,gCAA5C,SACK9C,IAAcC,GAAgB,cAAC8G,EAAA,EAAD,CAASC,UAAU,sBAQ1E,cAAC3C,EAAA,EAAD,CAAKI,GAAI,EAAT,SACI,cAACwC,EAAA,EAAD,CAAQnC,QAAS5B,EACbJ,UAAU,qBACVkB,QAAQ,QAFZ,SAGI,cAAC,IAAD,CAAiBkD,KAAMC,iBAQ3C,cAAC9C,EAAA,EAAD,CAAKC,GAAI,CAAEC,KAAM,GAAIC,MAAO,QACxBC,GAAI,CAAEF,KAAM,GAAIC,MAAO,QACvBE,GAAI,CAAEH,KAAM,EAAGC,MAAO,QAF1B,SAII,cAACZ,EAAA,EAAOwD,SAAR,CAAiBtE,UAAU,sBAAsB1G,GAAG,wBAApD,SAEI,eAACiL,EAAA,EAAD,CAAKC,UAAU,GAAGxE,UAAU,mDAA5B,UACI,cAACuE,EAAA,EAAIE,KAAL,CAAUzE,UAAU,OAAOqB,SAAS,YAApC,uBACC7C,EAAKkG,MAAQ,cAACH,EAAA,EAAIE,KAAL,CAAUzE,UAAU,OAAOqB,SAAS,WAApC,iBAGV7C,EAAKkG,KAEG,eAAC,IAAD,CACI1E,UAAU,oBACV2E,MAAM,MACNC,WAAW,QACXC,QAAS,GACTjB,SAAS,UACTkB,UAAU,SACVC,WACI,qBACI/E,UAAU,mCADd,SAEKxB,EAAKwG,KAAKC,cAAcC,OAAO,KAV5C,UAcI,cAAC,IAAD,CAAUlD,QA3MnB,WACvB/D,EAAQwC,KAAR,UAAgB/D,2BAAhB,aA0MgC,sBACA,cAAC,IAAD,CAAUsF,QAxMlB,WACxB,IAAItB,EAAWvC,EAASuC,SACPhE,6BAAbgE,IAA8CA,EAAWA,EAASyE,MAAM,GAAI,IAEhFlH,EAAQwC,KAAK,CACTC,SAAS,GAAD,OAAKA,EAAL,aACRnH,OAAQ4E,EAAS5E,OACjBkE,MAAOU,EAASV,SAiMY,sBACA,cAAC,IAAD,CAAUuE,QAjNpB,WACtBvD,KAgNgC,uBAMJ,cAAC8F,EAAA,EAAIE,KAAL,CAAUzE,UAAU,YAAYqB,SAAS,SACrCW,QAAS,kBA3LzB,WAChB,IAAItB,EAAWvC,EAASuC,SACPhE,6BAAbgE,IAA8CA,EAAWA,EAASyE,MAAM,GAAI,IAChFlH,EAAQwC,KAAK,CACTC,SAAS,GAAD,OAAKA,EAAL,UACRnH,OAAQ4E,EAAS5E,OACjBkE,MAAOU,EAASV,QAqL2B2H,IADnB,8B,kCE/YvBC,EAAQ,SAAChG,GAAD,OAAUlG,IAAMS,KAAK,OAAQ,GAAI,CAClD8K,KAAM,CACFY,SAAUjG,EAAKkG,MACfC,SAAUnG,EAAKmG,aAGVC,EAAW,SAAC9L,GAAD,OAAUR,IAAMS,KAAK,QAASD,IAGzC+L,EAAS,SAAC/L,GAAD,OAAUR,IAAMS,KAAK,uBAAwBD,IACtD4G,EAAQ,SAACoF,EAAOhM,GAAR,OAAiBR,IAAMS,KAAN,8BAAkC+L,GAAShM,ICZpEiM,EAAmB,CAC5BL,MAAO,GACPM,KAAM,GACNL,SAAU,GACVM,aAAa,EACbC,WAAW,EACXC,WAAW,EACXC,SAAS,EACTrG,MAAO,MAGEsG,EAAc,SAACzI,EAAOC,GAC/B,OAAQA,EAAOC,MACX,IAAK,QACD,OAAO,2BACAF,GADP,gBAEIqI,aAAa,GACZpI,EAAOE,UAAYF,EAAOG,UAGnC,IAAK,SACD,OAAO,2BACAJ,GADP,IAEIwI,SAAS,EACTrG,MAAO,KACPkG,aAAa,IAGrB,IAAK,OACD,OAAO,2BACArI,GADP,IAEIsI,WAAW,IAGnB,IAAK,UACD,OAAO,2BAEAtI,GAFP,IAGIwI,SAAS,EACTrG,MAAO,KACPmG,WAAW,EACXC,WAAW,IAGnB,IAAK,QACD,OAAO,2BACAvI,GADP,IAEIsI,WAAW,EACXE,SAAS,EACTrG,MAAOlC,EAAOG,UAGtB,QAAS,OAAOJ,ICuHT0I,MAlKf,SAAenI,GAEX,IAAQqH,EAAU/G,qBAAWC,KAArB8G,MAEJpH,EAAUC,cACVC,EAAWC,cAEf,EAA0BM,qBAAWwH,EAAaN,GAAlD,mBAAOnI,EAAP,KAAckB,EAAd,KACQ4G,EAA4D9H,EAA5D8H,MAAOC,EAAqD/H,EAArD+H,SAAUM,EAA2CrI,EAA3CqI,YAAaC,EAA8BtI,EAA9BsI,UAAWE,EAAmBxI,EAAnBwI,QAASrG,EAAUnC,EAAVmC,MAC1D,EAAwBhD,oBAAS,GAAjC,mBAAOwJ,EAAP,KAAaC,EAAb,KAEAlK,qBAAU,WAAM,4CACZ,sBAAA8C,EAAA,sEACUqH,EAAc,CAAEf,QAAOC,aACxBpG,MAAK,SAAAmH,GACFlB,EAAMkB,EAAIlH,KAAKb,KAAKwG,KAAMuB,EAAIlH,KAAKb,KAAKlF,GAAIiN,EAAIlH,KAAKsG,MAAOY,EAAIlH,KAAKmH,cAGrE,IAAI9F,EAAWvC,EAASuC,SAASyE,MAAM,GAAI,GAC1B,KAAbzE,IAAiBA,EAAWhE,4BAEhCuB,EAAQwI,QAAQ,CACZ/F,SAAUA,EACVnH,OAAQ4E,EAAS5E,OACjBkE,MAAOU,EAASV,WASvBgC,OAAM,SAAAC,GACH,IAAIgH,EAAe,KAEfhH,EAAIiH,UAAYjH,EAAIiH,SAAStH,MAAQK,EAAIiH,SAAStH,KAAKuH,SACvDF,EAAehH,EAAIiH,SAAStH,KAAKuH,QAErCjI,EAAS,CACLhB,KAAM,QACNE,QAAS6I,IAGb/G,QAAQC,MAAMF,MAhC1B,4CADY,sBAoCRqG,GApCS,WAAD,wBAoCGc,KAChB,CAACd,EAAWR,EAAOC,EAAUvH,EAASE,EAAUkH,IAEnD,IAkBMyB,EAAa,WACfT,GAAQ,GACHlI,EAASV,MAGVQ,EAAQwC,KAAK/D,4BAFbuB,EAAQ8I,UAgBhB,OAEI,eAACC,EAAA,EAAD,CACIC,OAAQH,EACRV,KAAMA,EACNc,KAAK,KACL,kBAAgB,gCAChBC,UAAQ,EALZ,UAMI,cAACH,EAAA,EAAMI,OAAP,CAAcC,aAAW,EAAzB,SACI,cAACL,EAAA,EAAMM,MAAP,CAAahO,GAAG,gCAAhB,qBAIJ,eAAC0N,EAAA,EAAMO,KAAP,WACI,eAACjF,EAAA,EAAD,CAAMkF,SAAUzB,EAAY,KAnDnB,SAAC1F,GAClBA,EAAEC,iBAEF3B,EAAS,CAAEhB,KAAM,WAEb4H,GAASC,GACT7G,EAAS,CAAEhB,KAAM,UA6Cb,UAEI,eAAC2E,EAAA,EAAKmF,MAAN,WACI,cAACnF,EAAA,EAAKoF,MAAN,CAAYC,QAAQ,QAApB,mBACA,cAACrF,EAAA,EAAKsF,QAAN,CAAcC,UAAW/B,IAAgBP,EAAO5H,KAAK,QAAQqH,KAAK,QAAQ8C,MAAOvC,EAC7EjC,SAAU,SAAAjD,GAAC,OAAI1B,EAAS,CAAEhB,KAAM,QAASC,UAAW,QAASC,QAASwC,EAAEN,OAAO+H,WAEnF,cAACxF,EAAA,EAAKsF,QAAQG,SAAd,CAAuBpK,KAAK,UAA5B,kCAKJ,eAAC2E,EAAA,EAAKmF,MAAN,CAAYzH,UAAU,OAAtB,UACI,cAACsC,EAAA,EAAKoF,MAAN,CAAYC,QAAQ,WAApB,sBACA,cAACrF,EAAA,EAAKsF,QAAN,CAAcC,UAAW/B,IAAgBN,EAAU7H,KAAK,WAAWqH,KAAK,WACpE8C,MAAOtC,EAAUlC,SAAU,SAAAjD,GAAC,OAAI1B,EAAS,CAAEhB,KAAM,QAASC,UAAW,WAAYC,QAASwC,EAAEN,OAAO+H,WAEvG,cAACxF,EAAA,EAAKsF,QAAQG,SAAd,CAAuBpK,KAAK,UAA5B,qCAKJ,eAAC2E,EAAA,EAAKmF,MAAN,CAAYzH,UAAU,iCAAtB,UACI,cAACmE,EAAA,EAAD,CAAS6D,SAAUjC,EAAWpI,KAAK,SAASqC,UAAU,cAAtD,mBAKI+F,GACA,cAAC9B,EAAA,EAAD,CAASjE,UAAU,OAAOkE,UAAU,eAO5C+B,GACA,cAACgC,EAAA,EAAD,CAAO/G,QAAQ,SAASlB,UAAU,YAAlC,SACKJ,GAAgB,4BAIzB,cAACuE,EAAA,EAAD,CAAQjD,QAAQ,OAAOc,QAlEZ,WACnB/D,EAAQ8I,SAERmB,YAAW,WACPjK,EAAQwC,KAAR,UAAgBtC,EAASuC,SAASyE,MAAM,GAAI,GAA5C,mBAAyDhH,EAAS5E,WACnE,MA6DqDyG,UAAU,wBAA1D,sBAEA,cAACuB,EAAA,EAAD,CAAKvB,UAAU,WAAWwB,GAAI,GAAIG,GAAI,GAAtC,SACI,cAACwC,EAAA,EAAD,CAAQjD,QAAQ,OAAOc,QAtFV,WACzB/D,EAAQ8I,SAERmB,YAAW,WACPjK,EAAQwC,KAAR,UAAgBtC,EAASuC,SAASyE,MAAM,GAAI,GAA5C,iBAAuDhH,EAAS5E,WACjE,MAiF+DyG,UAAU,wBAAhE,mCAKR,cAACgH,EAAA,EAAMmB,OAAP,UACI,cAAChE,EAAA,EAAD,CAAQnC,QAAS8E,EAAjB,yBCrBDsB,MAvIf,SAAuBpK,GAEnB,IAAIC,EAAUC,cAEd,EAA0BQ,qBAAWwH,EAAaN,GAAlD,mBAAOnI,EAAP,KAAckB,EAAd,KAEQ6G,EAAgE/H,EAAhE+H,SAAUM,EAAsDrI,EAAtDqI,YAAaC,EAAyCtI,EAAzCsI,UAAWC,EAA8BvI,EAA9BuI,UAAWC,EAAmBxI,EAAnBwI,QAASrG,EAAUnC,EAAVmC,MAE9D,EAAwBhD,oBAAS,GAAjC,mBAAOwJ,EAAP,KAAaC,EAAb,KAEAlK,qBAAU,WAAM,4CACZ,sBAAA8C,EAAA,sEACUqH,EAActI,EAAMqK,MAAMnP,OAAOyM,MAAO,CAAEH,SAAUA,IACrDpG,MAAK,SAAAmH,GACF5H,EAAS,CACLhB,KAAM,YAGVuK,YAAW,WACP7B,GAAQ,GACRpI,EAAQwC,KAAR,UAAgB/D,6BAChBwL,YAAW,WACPjK,EAAQwC,KAAR,UAAgB/D,2BAAhB,YACD,OACJ,SAGN+C,OAAM,SAAAC,GACH,IAAIgH,EAAe,KAEfhH,EAAIiH,UAAYjH,EAAIiH,SAAStH,MAAQK,EAAIiH,SAAStH,KAAKuH,SACvDF,EAAehH,EAAIiH,SAAStH,KAAKuH,QAErCjI,EAAS,CACLhB,KAAM,QACNE,QAAS6I,OAxBzB,4CADY,sBAiCRX,GAjCS,WAAD,wBAiCGc,KAEhB,CAACd,EAAW9H,EAASuH,EAAUxH,EAAMqK,MAAMnP,OAAOyM,QAErD,IAYMmB,EAAa,WACfT,GAAQ,GACRpI,EAAQwC,KAAR,UAAgB/D,8BAGpB,OAEI,eAACsK,EAAA,EAAD,CACIC,OAAQH,EACRV,KAAMA,EACNc,KAAK,KACL,kBAAgB,gCAChBC,UAAQ,EALZ,UAOI,cAACH,EAAA,EAAMI,OAAP,CAAcC,aAAW,EAAzB,SACI,cAACL,EAAA,EAAMM,MAAP,CAAahO,GAAG,gCAAhB,qBAIJ,cAAC0N,EAAA,EAAMO,KAAP,UACI,eAACjF,EAAA,EAAD,CAAMkF,SAhCiB,SAACnH,GAChCA,EAAEC,iBAEF3B,EAAS,CACLhB,KAAM,WAGNK,EAAMqK,MAAMnP,OAAOyM,OAASH,GAAYA,EAAS1H,QAAU,GAC3Da,EAAS,CAAEhB,KAAM,UAwBb,UACI,eAAC2E,EAAA,EAAKmF,MAAN,WACI,cAACnF,EAAA,EAAKoF,MAAN,CAAYC,QAAQ,WAApB,sBACA,cAACrF,EAAA,EAAKsF,QAAN,CAAcC,UAAW/B,GAAgBN,EAAS1H,OAAS,EAAIH,KAAK,WAChEqH,KAAK,WAAW8C,MAAOtC,EAAU8C,UAAU,KAC3ChF,SAAU,SAAAjD,GAAC,OAAI1B,EAAS,CAAEhB,KAAM,QAASC,UAAW,WAAYC,QAASwC,EAAEN,OAAO+H,WAEtF,cAACxF,EAAA,EAAKsF,QAAQG,SAAd,CAAuBpK,KAAM,UAA7B,SAE4B,IAApB6H,EAAS1H,OAAe,uBAAyB,wCAOzDkI,GACA,cAACiC,EAAA,EAAD,CAAO/G,QAAQ,UAAUlB,UAAU,OAAnC,oEAMAiG,GACA,cAACgC,EAAA,EAAD,CAAO/G,QAAQ,SAASlB,UAAU,OAAlC,SACKJ,GAAgB,oCAIzB,eAAC0C,EAAA,EAAKmF,MAAN,CAAYzH,UAAU,iCAAtB,UACI,cAACmE,EAAA,EAAD,CAAQxG,KAAK,SAASqC,UAAU,cAAhC,4BAKI+F,GACA,cAAC9B,EAAA,EAAD,CAASjE,UAAU,OAAOkE,UAAU,iBAQpD,cAAC8C,EAAA,EAAMmB,OAAP,UACI,cAAChE,EAAA,EAAD,CAAQnC,QAAS8E,EAAjB,yBCADyB,MA5Hf,SAAwBvK,GACpB,IAAIC,EAAUC,cAEd,EAAwBtB,oBAAS,GAAjC,mBAAOwJ,EAAP,KAAaC,EAAb,KAEA,EAA0B3H,qBAAWwH,EAAaN,GAAlD,mBAAOnI,EAAP,KAAckB,EAAd,KAEQ4G,EAA6D9H,EAA7D8H,MAAOS,EAAsDvI,EAAtDuI,UAAWF,EAA2CrI,EAA3CqI,YAAaC,EAA8BtI,EAA9BsI,UAAWE,EAAmBxI,EAAnBwI,QAASrG,EAAUnC,EAAVmC,MAE3DzD,qBAAU,WAAM,4CACZ,sBAAA8C,EAAA,sEAEUqH,EAAe,CAAEf,MAAOA,IACzBnG,MAAK,SAAAmH,GACF5H,EAAS,CACLhB,KAAM,eAGb8B,OAAM,SAAAC,GACH,IAAIgH,EAAe,KAEfhH,EAAIiH,UAAYjH,EAAIiH,SAAStH,MAAQK,EAAIiH,SAAStH,KAAKuH,SACvDF,EAAehH,EAAIiH,SAAStH,KAAKuH,QAErCjI,EAAS,CACLhB,KAAM,QACNE,QAAS6I,IAGb/G,QAAQC,MAAMF,MAnB1B,4CADY,sBAuBRqG,GAvBS,WAAD,wBAuBGyC,KAChB,CAACzC,EAAWR,IAEf,IAcMuB,EAAa,WACfT,GAAQ,GACRpI,EAAQ8I,UAIZ,OAEI,eAACC,EAAA,EAAD,CACIC,OAAQH,EACRV,KAAMA,EACNc,KAAK,KACL,kBAAgB,gCAChBC,UAAQ,EALZ,UAMI,cAACH,EAAA,EAAMI,OAAP,CAAcC,aAAW,EAAzB,SACI,cAACL,EAAA,EAAMM,MAAP,CAAahO,GAAG,gCAAhB,sBAIJ,cAAC0N,EAAA,EAAMO,KAAP,UACI,eAACjF,EAAA,EAAD,CAAMkF,SAlCgB,SAACnH,GAC/BA,EAAEC,iBAEF3B,EAAS,CACLhB,KAAM,WAGN4H,GACA5G,EAAS,CACLhB,KAAM,UAyBN,UACI,eAAC2E,EAAA,EAAKmF,MAAN,WACI,cAACnF,EAAA,EAAKoF,MAAN,CAAYC,QAAQ,QAApB,mBACA,cAACrF,EAAA,EAAKsF,QAAN,CACIC,UAAY/B,IAAgBP,EAE5B5H,KAAK,QAAQqH,KAAK,QAAQ8C,MAAOvC,EAAOjC,SAAU,SAAAjD,GAAC,OAAI1B,EAAS,CAAEhB,KAAM,QAASC,UAAW,QAASC,QAASwC,EAAEN,OAAO+H,WAE3H,cAACxF,EAAA,EAAKsF,QAAQG,SAAd,CAAuBpK,KAAK,UAA5B,kCAQAqI,GACA,cAACiC,EAAA,EAAD,CAAO/G,QAAQ,UAAUlB,UAAU,OAAnC,8DAMAiG,GACA,cAACgC,EAAA,EAAD,CAAO/G,QAAQ,SAASlB,UAAU,OAAlC,SACKJ,GAAgB,+BAIzB,eAAC0C,EAAA,EAAKmF,MAAN,CAAYzH,UAAU,iCAAtB,UACI,cAACmE,EAAA,EAAD,CAAQxG,KAAK,SAASqC,UAAU,cAAhC,4BAKI+F,GACA,cAAC9B,EAAA,EAAD,CAASjE,UAAU,OAAOkE,UAAU,iBAQpD,cAAC8C,EAAA,EAAMmB,OAAP,UACI,cAAChE,EAAA,EAAD,CAAQnC,QAAS8E,EAAjB,yB,uBCtGD2B,EAfM,SAAC,GAAqC,IAAzBC,EAAwB,EAAnCC,UAAyBC,EAAU,iBACtD,OAAO,cAAC,IAAD,2BACCA,GADD,IAEHC,OAAQ,SAAA7K,GAAK,OACT8K,aAAaC,QAAQ,eACjB,cAACL,EAAD,eAAe1K,IAEf,cAAC,IAAD,CAAUgL,GAAI,CACVtI,SAAS,GAAD,OAAKhE,2BAAL,SACRe,MAAO,CAACwL,KAAMjL,EAAMG,kBCZlC+K,EAAmB,CACrBlE,KAAM,GACNO,MAAO,IAGE4D,EAAoB,2BAC1BD,GAD0B,IAE7B1D,SAAU,GACV4D,YAAaF,EACbG,iBAAiB,EACjBvD,aAAa,EACbC,WAAW,EACXnG,MAAO,GACP0J,QAAS,KAGAC,EAAkB,SAAC9L,EAAOC,GACnC,OAAQA,EAAOC,MACX,IAAK,QACD,OAAO,2BACAF,GADP,gBAEImC,MAAO,IACNlC,EAAOE,UAAYF,EAAOG,UAGnC,IAAK,kBACD,OAAO,2BACAJ,GADP,IAEI2L,YAAa,CACT7D,MAAO7H,EAAO6H,MACdP,KAAMtH,EAAOsH,MAEjBqE,iBAAiB,IAGzB,IAAK,SACD,OAAO,2BACA5L,GADP,IAEIqI,aAAa,EACblG,MAAO,OAGf,IAAK,OACD,OAAO,2BACAnC,GADP,IAEIsI,WAAW,IAGnB,IAAK,UACD,OAAO,2BACAtI,GADP,IAEIqI,aAAa,EACbC,WAAW,EACXuD,QAAS,8BACT1J,MAAO,OAGf,IAAK,QACD,OAAO,2BACAnC,GADP,IAEIsI,WAAW,EACXD,aAAa,EACblG,MAAOlC,EAAOG,UAGtB,QAAS,OAAOJ,I,SCsGT+L,EAhKE,SAACxL,GAEd,MAAwCM,qBAAWC,KAA3CC,EAAR,EAAQA,KAAMiL,EAAd,EAAcA,UAAWC,EAAzB,EAAyBA,WAErBzL,EAAUC,cACVC,EAAWC,cAEf,EAA0BM,qBAAW6K,EAAiBJ,GAAtD,mBAAO1L,EAAP,KAAckB,EAAd,KAEQ4G,EAAgG9H,EAAhG8H,MAAOP,EAAyFvH,EAAzFuH,KAAMQ,EAAmF/H,EAAnF+H,SAAU4D,EAAyE3L,EAAzE2L,YAA0BrD,GAA+CtI,EAA5DqI,YAA4DrI,EAA/CsI,WAAWsD,EAAoC5L,EAApC4L,gBAAiBC,EAAmB7L,EAAnB6L,QAAS1J,EAAUnC,EAAVmC,MAE9F,EAAwBhD,oBAAS,GAAjC,mBAAOwJ,EAAP,KAAaC,EAAb,KAEAlK,qBAAU,YACDqC,EAAKkG,MAAQlG,EAAK6K,kBACnBhD,GAAQ,GACRpI,EAAQwI,QAAR,UAAmB/J,6BACnBuB,EAAQwC,KAAR,UAAgB/D,2BAAhB,UACA+M,OAEL,CAACjL,EAAMP,EAASwL,IAEnBtN,qBAAU,WAAM,4CACZ,sBAAA8C,EAAA,sEACU0K,MACDvK,MAAK,SAAAmH,GACF5H,EAAS,CACLhB,KAAM,kBACNqH,KAAMuB,EAAIlH,KAAK2F,KACfO,MAAOgB,EAAIlH,KAAKkG,WAGvB9F,OAAM,SAAAC,GACHC,QAAQC,MAAMF,GACdf,EAAS,CACLhB,KAAM,QACNE,SAAS,OAbzB,4CADY,uBAAC,WAAD,wBAkBZ+L,KACD,IAEHzN,qBAAU,WAAM,4CACZ,4BAAA8C,EAAA,6DACQ4K,EAAW,GACXrE,IAAUqE,EAAW,CAAErE,SAAUA,IACjCD,GAAmB,KAAVA,GAAgBA,IAAU6D,EAAY7D,QAAOsE,EAAQ,2BAAQA,GAAR,IAAkBtE,MAAOA,KACvFP,GAAiB,KAATA,GAAeA,IAASoE,EAAYpE,OAAM6E,EAAQ,2BAAQA,GAAR,IAAkB7E,KAAMA,KAJ1F,SAMU2E,IAAsBE,GACvBzK,MAAK,SAAAmH,GACF5H,EAAS,CACLhB,KAAM,YAGVuK,YAAW,WACP,IAAIxH,EAAWvC,EAASuC,SAASyE,MAAM,GAAI,GAC1B,KAAbzE,IAAiBA,EAAWhE,4BAChCuB,EAAQwI,QAAQ,CACZ/F,SAAUA,EACVnH,OAAQ4E,EAAS5E,OACjBkE,MAAOU,EAASV,QAEpBiM,EAAWnD,EAAIlH,KAAKyK,eACrB,QAENrK,OAAM,SAAAC,GACHC,QAAQC,MAAMF,GACdf,EAAS,CACLhB,KAAM,QACNE,QAAS6B,EAAIiH,UAAYjH,EAAIiH,SAAStH,MAAQK,EAAIiH,SAAStH,KAAKO,MAAQF,EAAIiH,SAAStH,KAAKO,MAAQ,6BA3BlH,4CADY,sBAgCRmG,GAhCS,WAAD,wBAgCGgE,KAChB,CAACxE,EAAO6D,EAAY7D,MAAO6D,EAAYpE,KAAMe,EAAWf,EAAMQ,EAAUvH,EAASE,EAAUuL,IAuB9F,OACI,eAAC1C,EAAA,EAAD,CAAOC,OAtBQ,WACfZ,GAAQ,GACRpI,EAAQ8I,UAqBJX,KAAMA,EACNc,KAAK,KACL,kBAAgB,gCAChBC,UAAQ,EAJZ,UAKI,cAACH,EAAA,EAAMI,OAAP,CAAcC,aAAW,EAAzB,SACI,cAACL,EAAA,EAAMM,MAAP,yBAIJ,eAACN,EAAA,EAAMO,KAAP,WACI,eAACjF,EAAA,EAAD,CAAMkF,SAAUzB,EAAY,KA5BnB,SAAC1F,GAClBA,EAAEC,iBAEF3B,EAAS,CACLhB,KAAM,YAGN6H,GACCD,GAAmB,KAAVA,GAAgBA,IAAU6D,EAAY7D,OAC/CP,GAAiB,KAATA,GAAeA,IAASoE,EAAYpE,OAC7CrG,EAAS,CACLhB,KAAM,UAiBN,UACI,eAAC2E,EAAA,EAAKmF,MAAN,WACI,cAACnF,EAAA,EAAKoF,MAAN,CAAYC,QAAQ,OAApB,kBACA,cAACrF,EAAA,EAAKsF,QAAN,CAAcjK,KAAK,OAAOqH,KAAK,QAC3B8C,MAAO9C,EAAMpC,YAAawG,EAAYpE,KACtC1B,SAAU,SAAAjD,GAAC,OAAI1B,EAAS,CAAEhB,KAAM,QAASC,UAAW,OAAQC,QAASwC,EAAEN,OAAO+H,cAGtF,eAACxF,EAAA,EAAKmF,MAAN,CAAYzH,UAAU,OAAtB,UACI,cAACsC,EAAA,EAAKoF,MAAN,CAAYC,QAAQ,QAApB,mBACA,cAACrF,EAAA,EAAKsF,QAAN,CAAcjK,KAAK,QAAQqH,KAAK,QAC5B8C,MAAOvC,EAAO3C,YAAawG,EAAY7D,MACvCjC,SAAU,SAAAjD,GAAC,OAAI1B,EAAS,CAAEhB,KAAM,QAASC,UAAW,QAASC,QAASwC,EAAEN,OAAO+H,cAGvF,eAACxF,EAAA,EAAKmF,MAAN,CAAYzH,UAAU,OAAtB,UACI,cAACsC,EAAA,EAAKoF,MAAN,CAAYC,QAAQ,WAApB,sBACA,cAACrF,EAAA,EAAKsF,QAAN,CAAcjK,KAAK,WAAWqH,KAAK,WAC/B8C,MAAOtC,EAAUlC,SAAU,SAAAjD,GAAC,OAAI1B,EAAS,CAAEhB,KAAM,QAASC,UAAW,WAAYC,QAASwC,EAAEN,OAAO+H,cAG3G,eAACxF,EAAA,EAAKmF,MAAN,CAAYzH,UAAU,iCAAtB,UACI,cAACmE,EAAA,EAAD,CAAQ6D,SAAUjC,IAAcsD,EAAiB1L,KAAK,SAASqC,UAAU,cAAzE,oBAKI+F,GACA,cAAC9B,EAAA,EAAD,CAASjE,UAAU,OAAOkE,UAAU,eAK5CtE,GACA,cAACqI,EAAA,EAAD,CAAO/G,QAAQ,SAASlB,UAAU,YAAlC,SACKJ,GAAgB,4BAIrB0J,GACA,cAACrB,EAAA,EAAD,CAAO/G,QAAQ,UAAUlB,UAAU,YAAnC,SACKsJ,WCAVU,OAxJf,SAAkBhM,GAEd,IAAIC,EAAUC,cAENmH,EAAU/G,qBAAWC,KAArB8G,MACR,EAA0B3G,qBAAWwH,EAAaN,GAAlD,mBAAOnI,EAAP,KAAckB,EAAd,KACQ4G,EAA6E9H,EAA7E8H,MAAOM,EAAsEpI,EAAtEoI,KAAML,EAAgE/H,EAAhE+H,SAAUM,EAAsDrI,EAAtDqI,YAAaE,EAAyCvI,EAAzCuI,UAAWD,EAA8BtI,EAA9BsI,UAAWE,EAAmBxI,EAAnBwI,QAASrG,EAAUnC,EAAVmC,MAE3E,EAAwBhD,oBAAS,GAAjC,mBAAOwJ,EAAP,KAAaC,EAAb,KAEAlK,qBAAU,WAAM,4CACZ,sBAAA8C,EAAA,sEAEUqH,EAAiB,CAAEf,MAAOA,EAAOC,SAAUA,EAAUR,KAAMa,IAC5DzG,MAAK,SAAAmH,GACF5H,EAAS,CACLhB,KAAM,YAEVuK,YAAW,WACP7C,EAAMkB,EAAIlH,KAAKb,KAAKwG,KAAMuB,EAAIlH,KAAKb,KAAKlF,GAAIiN,EAAIlH,KAAKsG,MAAOY,EAAIlH,KAAKmH,cACrEvI,EAAQ8I,WACT,SAENtH,OAAM,SAAAC,GACH,IAAIgH,EAAe,KAEfhH,EAAIiH,UAAYjH,EAAIiH,SAAStH,MAAQK,EAAIiH,SAAStH,KAAKuH,OACvDF,EAAehH,EAAIiH,SAAStH,KAAKuH,OAC5BlH,EAAIiH,UAAYjH,EAAIiH,SAAStH,MAAQK,EAAIiH,SAAStH,KAAKO,QAC5D8G,EAAehH,EAAIiH,SAAStH,KAAKO,OAErCjB,EAAS,CACLhB,KAAM,QACNE,QAAS6I,IAEb/G,QAAQC,MAAMF,MAxB1B,4CADY,sBA6BRqG,GA7BS,WAAD,wBA6BGyC,KAEhB,CAACzC,EAAWR,EAAOM,EAAML,EAAUvH,EAASoH,IAE/C,IAeMyB,EAAa,WACfT,GAAQ,GACRpI,EAAQ8I,UAIZ,OAEI,eAACC,EAAA,EAAD,CACIC,OAAQH,EACRV,KAAMA,EACNc,KAAK,KACL,kBAAgB,gCAChBC,UAAQ,EALZ,UAMI,cAACH,EAAA,EAAMI,OAAP,CAAcC,aAAW,EAAzB,SACI,cAACL,EAAA,EAAMM,MAAP,CAAahO,GAAG,gCAAhB,wBAIJ,cAAC0N,EAAA,EAAMO,KAAP,UACI,eAACjF,EAAA,EAAD,CAAMkF,SAnCG,SAACnH,GAClBA,EAAEC,iBAGF3B,EAAS,CACLhB,KAAM,WAGN4H,GAASM,GAAQL,GAAYA,EAAS1H,QAAU,GAChDa,EAAS,CACLhB,KAAM,UAyBN,UACI,eAAC2E,EAAA,EAAKmF,MAAN,WACI,cAACnF,EAAA,EAAKoF,MAAN,CAAYC,QAAQ,OAApB,kBACA,cAACrF,EAAA,EAAKsF,QAAN,CAAcC,UAAW/B,IAAgBD,EAAMlI,KAAK,OAAOqH,KAAK,OAAO8C,MAAOjC,EAC1EvC,SAAU,SAAAjD,GAAC,OAAI1B,EAAS,CAAEhB,KAAM,QAASC,UAAW,OAAQC,QAASwC,EAAEN,OAAO+H,WAElF,cAACxF,EAAA,EAAKsF,QAAQG,SAAd,CAAuBpK,KAAK,UAA5B,iCAKJ,eAAC2E,EAAA,EAAKmF,MAAN,CAAYzH,UAAU,OAAtB,UACI,cAACsC,EAAA,EAAKoF,MAAN,CAAYC,QAAQ,QAApB,mBACA,cAACrF,EAAA,EAAKsF,QAAN,CACIC,UAAY/B,IAAgBP,EAC5B5H,KAAK,QAAQqH,KAAK,QAAQ8C,MAAOvC,EAAOjC,SAAU,SAAAjD,GAAC,OAAI1B,EAAS,CAAEhB,KAAM,QAASC,UAAW,QAASC,QAASwC,EAAEN,OAAO+H,WAE3H,cAACxF,EAAA,EAAKsF,QAAQG,SAAd,CAAuBpK,KAAK,UAA5B,kCAKJ,eAAC2E,EAAA,EAAKmF,MAAN,CAAYzH,UAAU,OAAtB,UACI,cAACsC,EAAA,EAAKoF,MAAN,CAAYC,QAAQ,WAApB,sBACA,cAACrF,EAAA,EAAKsF,QAAN,CAAcC,UAAW/B,GAAgBN,EAAS1H,OAAS,EAAIH,KAAK,WAChEqH,KAAK,WAAW8C,MAAOtC,EAAU8C,UAAU,KAC3ChF,SAAU,SAAAjD,GAAC,OAAI1B,EAAS,CAAEhB,KAAM,QAASC,UAAW,WAAYC,QAASwC,EAAEN,OAAO+H,WAEtF,cAACxF,EAAA,EAAKsF,QAAQG,SAAd,CAAuBpK,KAAK,UAA5B,SAE4B,IAApB6H,EAAS1H,OAAe,uBAAyB,wCAOzDkI,GACA,cAACiC,EAAA,EAAD,CAAO/G,QAAQ,UAAUlB,UAAU,OAAnC,6DAMAiG,GACA,cAACgC,EAAA,EAAD,CAAO/G,QAAQ,SAASlB,UAAU,OAAlC,SACKJ,GAAgB,8BAIzB,eAAC0C,EAAA,EAAKmF,MAAN,CAAYzH,UAAU,iCAAtB,UACI,cAACmE,EAAA,EAAD,CAAQxG,KAAK,SAASqC,UAAU,cAAhC,sBAKI+F,GACA,cAAC9B,EAAA,EAAD,CAASjE,UAAU,OAAOkE,UAAU,iBAQpD,cAAC8C,EAAA,EAAMmB,OAAP,UACI,cAAChE,EAAA,EAAD,CAAQnC,QAAS8E,EAAjB,yB,SCrHDmD,GA9BK,SAACjM,GACjB,MAA2CM,qBAAW4L,MAA9CC,EAAR,EAAQA,gBAAiBnQ,EAAzB,EAAyBA,OAAQwG,EAAjC,EAAiCA,MAI3B4J,EAAc,kBAAM5J,KAE1B,OACI,mCACI,eAACwG,EAAA,EAAD,CAAOZ,KAAM+D,EAAgB/D,KAAMa,OAAQmD,EAAajD,UAAQ,EAAhE,UACI,cAACH,EAAA,EAAMI,OAAP,UACI,eAACJ,EAAA,EAAMM,MAAP,qBAAqB6C,EAAgBxM,UAEzC,eAACqJ,EAAA,EAAMO,KAAP,2CAA0C4C,EAAgBxM,KAA1D,IAAgE,4BAAIwM,EAAgB5M,QAApF,IACI,uBADJ,8BAIA,eAACyJ,EAAA,EAAMmB,OAAP,WACI,cAAChE,EAAA,EAAD,CAAQjD,QAAQ,YAAYc,QAASoI,EAArC,oBAGA,cAACjG,EAAA,EAAD,CAAQjD,QAAQ,UAAUc,QAlBrB,kBAAMhI,KAkBX,6B,qCCeLqQ,GAnCG,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAET7L,EAAWH,qBAAWC,KAAtBE,OA8BR,OA5BA7D,mBAAQ,WACJzB,IAAMoR,aAAa5D,SAAS6D,KAAI,SAAC7D,GAC7B,OAAOA,KACR,SAAC/G,GACA,IVFYP,EUENoL,EAAS3B,aAAaC,QAAQ,eAC9B2B,EAAkB9K,EAAM+K,OAE9B,OAAI/K,EAAM+G,UAAsC,MAA1B/G,EAAM+G,SAASiE,QAAkBH,IAAWC,EAAgBG,OACrD,iBAArBjL,EAAM+K,OAAOG,KACbrM,IACOsM,QAAQC,OAAOpL,KAE1B8K,EAAgBG,QAAS,GVVjBxL,EUWO,CAAE,aAAgB4L,KAAKC,MAAMpC,aAAaC,QAAQ,kBVXhD5P,IAAMS,KAAK,eAAgByF,EAAM,CAACxF,QAASC,iBUYvDsF,MAAK,SAAAmH,GACF,GAAmB,MAAfA,EAAIqE,OAAgB,CACpB,IAAMd,EAAcvD,EAAIlH,KAAKsG,MAG7B,OAFAmD,aAAaqC,QAAQ,cAAeF,KAAKG,UAAUtB,IACnDY,EAAgB7Q,QAAhB,cAA2C,UAAYiQ,EAChD3Q,YAAMuR,QAItBK,QAAQC,OAAOpL,QAG3B,IAEI0K,G,UC8CIe,GA9EM,SAAC,GAAkB,IAAhBf,EAAe,EAAfA,SACd5J,EAAatC,cAAbsC,SAEN,EAAwB9D,mBAAS,CAAEoI,KAAM,GAAI1L,GAAI,KAAMoL,MAAM,EAAO2E,iBAAiB,IAArF,mBAAO7K,EAAP,KAAa8M,EAAb,KAEAnP,qBAAU,WACNF,OAAOsP,SAAS,EAAG,KACpB,CAAC7K,IAEJvE,qBAAU,YACN,WACI,IAAMwJ,EAAQmD,aAAaC,QAAQ,eACnC,GAAKpD,EAAL,CAIA,IAAM6F,EAAUC,aAAW9F,GAC3B2F,GAAQ,iBAAO,CACXtG,KAAMwG,EAAQxG,KACdN,MAAM,EACNpL,GAAIkS,EAAQlS,GACZ+P,iBAAiB,WARjBiC,GAAQ,SAAA9M,GAAI,kCAAUA,GAAV,IAAgB6K,iBAAiB,OAWrDqC,KACD,IA8CH,OACI,cAAC,IAAYC,SAAb,CAAsB7D,MAAO,CAAEtJ,OAAM6G,MA7C3B,SAACL,EAAM1L,EAAIqM,EAAOa,GAC5BsC,aAAaqC,QAAQ,cAAeF,KAAKG,UAAUzF,IACnDmD,aAAaqC,QAAQ,eAAgBF,KAAKG,UAAU5E,IAEpD8E,GAAQ,iBAAO,CACXtG,KAAMA,EACNN,MAAM,EACNpL,GAAIA,EACJ+P,iBAAiB,OAqCuB5K,OAjCjC,WACXqK,aAAa8C,WAAW,eACxB9C,aAAa8C,WAAW,gBAGxBN,GAAQ,SAAC9M,GAAD,mBAAC,eACFA,GADC,IAEJwG,KAAM,GACNN,MAAM,EACNpL,GAAI,WAwB4CmQ,UARtC,WACd6B,GAAQ,SAAC9M,GAAD,mBAAC,eACFA,GADC,IAEJ6K,iBAAiB,QAK0CK,WApBhD,SAACI,GAChBhB,aAAaqC,QAAQ,cAAeF,KAAKG,UAAUtB,IAEnD,IAAM0B,EAAUC,aAAW3B,GAC3BwB,GAAQ,SAAC9M,GAAD,mBAAC,eACFA,GADC,IAEJwG,KAAMwG,EAAQxG,UAGlB/I,OAAOkC,SAAS0N,WAWhB,SACKvB,KCzCbwB,KAAQC,IAAIC,IAAQC,IAAYC,IAAUC,IAAYC,IAASC,IAAeC,KAE9E,IAAMC,GAAW7P,2BAEX8P,GAAmBC,gBAAK,kBAAM,uDAC9BC,GAAgBD,gBAAK,kBAAM,uDAC3BE,GAAgBF,gBAAK,kBAAM,8DAC3BG,GAAkBH,gBAAK,kBAAM,8DAC7BI,GAAgBJ,gBAAK,kBAAM,kCAC3BK,GAAmBL,gBAAK,kBAAM,kCAC9BM,GAAoBN,gBAAK,kBAAM,kCAuFtBO,OArFf,SAAahP,GAET,MAA8BM,qBAAW2O,MAAjCC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,WAEf,OACI,gCAEQ,qBAAKnN,UAAU,aAAf,SACI,eAACoN,GAAA,EAAD,CAEIhH,KAAM8G,EAAM7P,OACZgQ,QAASF,EACTG,UAAQ,EACRtN,UAAU,6BALd,UAMI,cAACoN,GAAA,EAAMhG,OAAP,UACI,wBAAQpH,UAAU,UAAlB,wBAEJ,cAACoN,GAAA,EAAM7F,KAAP,UAAa2F,EAAMK,eAK/B,cAAC,KAAD,UACI,cAAC,GAAD,UACI,eAAC,GAAD,WACI,cAAC,IAAD,CAAO1E,OAAQ,kBAAM,cAAC,EAAD,OACrB,cAAC,EAAD,CAAc2E,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,GAAJ,sBAA2BA,GAA3B,8BAA0DA,GAA1D,+BAA0FA,GAA1F,6BAAwHA,GAAxH,0BAAmJA,GAAnJ,uBACtB5D,UAAW+E,IAEf,cAAC,IAAD,CAAOF,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,GAAJ,mBAAwBA,GAAxB,4BAAqDA,GAArD,0BAAgFA,GAAhF,uBAAwGA,GAAxG,oBACf1D,OAAQ,SAAC7K,GAAD,OAAW,cAAC,EAAD,eAAoBA,OAE3C,cAAC,IAAD,CAAOwP,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,GAAJ,sBAA2BA,GAA3B,+BAA2DA,GAA3D,6BAAyFA,GAAzF,0BAAoHA,GAApH,uBACf1D,OAAQ,SAAC7K,GAAD,OAAW,cAAC,GAAD,eAAuBA,OAE9C,cAAC,IAAD,CAAOwP,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,GAAJ,0BAA+BA,GAA/B,mCAAmEA,GAAnE,iCAAqGA,GAArG,8BAAoIA,GAApI,2BACf1D,OAAQ,SAAC7K,GAAD,OAAW,cAAC,EAAD,eAA4BA,OAEnD,cAAC,IAAD,CAAOwP,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,GAAJ,oBAAyBA,GAAzB,6BAAuDA,GAAvD,2BAAmFA,GAAnF,wBAA4GA,GAA5G,qBACf1D,OAAQ,SAAC7K,GAAD,OAAW,cAAC,EAAD,eAA6BA,OAEpD,cAAC,WAAD,CAAU2P,SAAU,sBAAK3N,UAAU,kBAAf,cAAkC,cAACiE,EAAA,EAAD,CAASjE,UAAU,0BAA0BkE,UAAU,cAA7G,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOsJ,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,GAAJ,sBAA2BA,GAA3B,4BAAwDA,GAAxD,+BAAwFA,GAAxF,mCAChBA,GADgB,6BACcA,GADd,sBAEf1D,OAAQ,SAAC7K,GAAD,OAAW,cAAC2O,GAAD,eAAmB3O,OAE1C,cAAC,IAAD,CAAOwP,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,IAAJ,UAAmBA,GAAnB,mBAAuCA,GAAvC,sBAA8DA,GAA9D,sBAChBA,GADgB,0BACWA,GADX,WAEf1D,OAAQ,SAAC7K,GAAD,OAAW,cAAC0O,GAAD,eAAmB1O,OAE1C,cAAC,IAAD,CAAOwP,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,GAAJ,oBAAyBA,GAAzB,0BAAoDA,GAApD,6BAAkFA,GAAlF,6BAAgHA,GAAhH,iCAAkJA,GAAlJ,kBACf1D,OAAQ,SAAC7K,GAAD,OAAW,cAAC4O,GAAD,eAAqB5O,OAE5C,cAAC,EAAD,CAAcwP,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,GAAJ,iBAAsBA,GAAtB,iBACtB5D,UAAWmE,KAEf,cAAC,IAAD,CAAOU,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,GAAJ,uBAA4BA,GAA5B,6BAA0DA,GAA1D,gCAA2FA,GAA3F,gCAA4HA,GAA5H,oCAChBA,GADgB,qBACa1D,OAAQ,SAAC7K,GAAD,OAAW,cAAC6O,GAAD,eAAmB7O,OAEtE,cAAC,IAAD,CAAOwP,OAAK,EAACC,KAAM,CAAC,GAAD,OAAIlB,GAAJ,qBAA0BA,GAA1B,qBACf1D,OAAQ,SAAA7K,GAAK,OACT8K,aAAaC,QAAQ,eACjB,cAACyD,GAAD,eAAsBxO,IAEtB,cAAC,IAAD,CAAUgL,GAAI,CACVtI,SAAS,GAAD,OAAKhE,2BAAL,SACRe,MAAO,CAAEwL,KAAMjL,EAAMG,gBAKrC,cAAC,IAAD,CAAOqP,OAAK,EAACC,KAAK,IAAI5E,OAAQ,SAAC7K,GAAD,OAAW,cAAC+O,GAAD,eAAuB/O,mBAQpF,cAAC,GAAD,QCjIQ4P,QACW,cAA7B3R,OAAOkC,SAAS0P,UAEe,UAA7B5R,OAAOkC,SAAS0P,UAEhB5R,OAAOkC,SAAS0P,SAASxF,MACvB,2DCHN,IAuBeyF,GAvBO,SAAC,GAAkB,IAAhBxD,EAAe,EAAfA,SACrB,EAA0B1N,mBAAS,CAAES,QAAQ,EAAOkQ,QAAS,GAAIQ,YAAY,IAA7E,mBAAOb,EAAP,KAAcc,EAAd,KAeA,OACI,cAAC,KAAarC,SAAd,CAAuB7D,MAAO,CAAEoF,QAAOe,YAdvB,SAACV,GACbL,EAAMa,YACNC,EAAS,CAAE3Q,QAAQ,EAAOkQ,QAAS,GAAIQ,YAAY,IACnD7F,YAAW,kBAAM8F,EAAS,CAAE3Q,QAAQ,EAAMkQ,QAASA,EAASQ,YAAY,MAAS,MAEjFC,EAAS,CAAE3Q,QAAQ,EAAMkQ,QAASA,EAASQ,YAAY,KASPZ,WALrC,WACfa,EAAS,CAAE3Q,QAAQ,EAAOkQ,QAAS,GAAIQ,YAAY,MAInD,SACKzD,KCOE4D,GAzBa,SAAC,GAAkB,IAAhB5D,EAAe,EAAfA,SAE3B,EAA8C1N,mBAAS,CAAEwJ,MAAM,EAAO+H,YAAY,EAAO7U,GAAI,KAAMqE,KAAM,KAAMJ,MAAO,KAAtH,mBAAO4M,EAAP,KAAwBiE,EAAxB,KAgBA,OACI,cAAC,KAAmBzC,SAApB,CAA6B7D,MAAO,CAAEuG,UAfxB,SAAC/U,EAAIqE,EAAMJ,GACzB6Q,EAAmB,CAAEhI,MAAM,EAAM+H,YAAY,EAAO7U,GAAIA,EAAIqE,KAAMA,EAAMJ,MAAOA,KAc9B4M,kBAAiBnQ,OAXvD,WACXoU,GAAmB,SAAAE,GACf,OAAO,2BAAKA,GAAZ,IAAuBlI,MAAM,EAAO+H,YAAY,QASsB3N,MALhE,WACV4N,EAAmB,CAAEhI,MAAM,EAAO+H,YAAY,EAAO7U,GAAI,KAAMqE,KAAM,KAAMJ,MAAO,OAIlF,SACK+M,KCRbiE,IAAS1F,OACL,cAAC,GAAD,UACI,cAAC,GAAD,UACI,cAAC,GAAD,QAIRhN,SAASC,eAAe,SH+FtB,kBAAmB0S,WACrBA,UAAUC,cAAcC,MAAMtP,MAAK,SAAAuP,GACjCA,EAAaC,iB,gCIvHnB,WACMrQ,EAAcsQ,wBAAc,CAAE7J,KAAM,GAAI1L,GAAI,KAAMoL,MAAM,EAAO2E,iBAAiB,IACvE9K,O,gCCSAzE,IAXI,WAEf,IAAI6L,EAAQsF,KAAKC,MAAMpC,aAAaC,QAAQ,gBAE5C,OAAGpD,EACQ,CAAE,cAAkB,UAAYA,GAEhC,K,gCCPf,WACMsH,EAAe4B,wBAAc,IACpB5B,O,gCCFf,WACM/C,EAAqB2E,wBAAc,CAAEzI,MAAM,EAAO+H,YAAY,EAAO7U,GAAI,KAAMqE,KAAM,KAAMJ,MAAO,KACzF2M,Q","file":"static/js/main.f773371d.chunk.js","sourcesContent":["import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const all = (params) => axios.get('films/', {params})\nexport const index = (id) => axios.get(`films/${id}`)\nexport const search = (params) => axios.get('films/search', {params})\n\nexport const view = (id) => axios.patch(`films/${id}/view`)\n\nexport const video = (id) => axios.get(`films/${id}/video`)\nexport const thumbnail = (id, params) => axios.get(`films/${id}/thumbnail`, {params})\n\nexport const create = (form) => axios.post(`films`, form, {headers: authHeader()})\n\nexport const update = (id, form) => axios.put(`films/${id}`, form, {headers: authHeader()})\nexport const partialUpdate = (id, form) => axios.patch(`films/${id}`, form, {headers: authHeader()})\n\nexport const like = (id, form) => axios.patch(`films/${id}/action`, form, {headers: authHeader()})\n\nexport const remove = (id) => axios.delete(`films/${id}`, { headers: authHeader() })\n\n\n\n","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const me = (params) => axios.get('users/me', { params, headers: authHeader() })\nexport const partialUpdate = (body) => axios.patch('users', body, { headers: authHeader() })\n\nexport const userService = {\n    login,\n    logout,\n    register\n};\n\nfunction login(username, password) {\n\n    let loginHeaderMy = null\n\n    const requestOptions = {\n        method: 'POST',\n        headers: loginHeaderMy\n\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/auth`, requestOptions)\n        .then(handleResponse)\n        .then(user => {\n            localStorage.setItem('user', JSON.stringify(user));\n            return user;\n        })\n}\n\nfunction logout() {\n    localStorage.removeItem('user');\n}\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n    return fetch(`${process.env.REACT_APP_API_URL}/users/`, requestOptions)\n        .then(handleResponse);\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                logout();\n            }\n            const error = (data && data.errors) || response.statusText;\n            return Promise.reject(error);\n        }\n        return data;\n    })\n}\n\n","import { useCallback, useEffect, useRef, useMemo } from 'react';\nimport lodashDebounce from 'lodash.debounce';\n\nconst createCallback = (debounce, handleOnScroll, options) => {\n  if (debounce) {\n    return lodashDebounce(handleOnScroll, debounce, options);\n  } else {\n    return handleOnScroll;\n  }\n};\n\nfunction useBottomScrollListener(\n  onBottom = () => { },\n  options = {},\n) {\n  const { offset, triggerOnNoScroll, debounce, debounceOptions, id } = useMemo(\n    () => ({\n      offset: options?.offset ?? 20,\n      debounce: options?.debounce ?? 200,\n      debounceOptions: options?.debounceOptions ?? { leading: true },\n      triggerOnNoScroll: options?.triggerOnNoScroll ?? false,\n      id: options?.id ?? null\n    }),\n    [options?.offset, options?.debounce, options?.debounceOptions, options?.triggerOnNoScroll, options?.id],\n  );\n\n  const debouncedOnBottom = useMemo(() => createCallback(debounce, onBottom, debounceOptions), [onBottom, debounce, debounceOptions]);\n  const containerRef = useRef(null);\n  const handleOnScroll = useCallback(() => {\n\n    if (containerRef.current != null) {\n      const scrollNode = containerRef.current;\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n\n      if (scrollPosition <= scrollContainerBottomPosition) {\n        debouncedOnBottom();\n      }\n    } else if (id !== null) {\n      const scrollNode = document.getElementById(id);\n      if (scrollNode) {\n        const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\n        const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n        if (scrollPosition <= scrollContainerBottomPosition) {\n          debouncedOnBottom();\n        }\n      }\n    } else {\n      const scrollNode = document.scrollingElement || document.documentElement;\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + window.innerHeight);\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n\n      if (scrollPosition <= scrollContainerBottomPosition) {\n        debouncedOnBottom();\n      }\n    }\n  }, [debouncedOnBottom, offset, id]);\n\n  useEffect(() => {\n    const ref = containerRef.current;\n    const node = document.getElementById(id)\n\n    if (ref != null) {\n      ref.addEventListener('scroll', handleOnScroll);\n    } else if (node !== null) {\n      node.addEventListener('scroll', handleOnScroll);\n    } else {\n      window.addEventListener('scroll', handleOnScroll);\n    }\n\n    if (triggerOnNoScroll) {\n      handleOnScroll();\n    }\n\n    return () => {\n      if (ref != null) {\n        ref.removeEventListener('scroll', handleOnScroll);\n      } else if (node !== null) {\n        node.addEventListener('scroll', handleOnScroll);\n      } else {\n        window.removeEventListener('scroll', handleOnScroll);\n      }\n    };\n  }, [handleOnScroll, triggerOnNoScroll, id]);\n\n  return containerRef;\n}\n\nexport default useBottomScrollListener;\n","import axios from 'axios'\nconst instance = axios.create({\n    baseURL: process.env.REACT_APP_API_URL\n})\nexport default instance","import { useState, useEffect } from \"react\";\n\nconst useWindowsWidth = () => {\n  const [isScreenSmall, setIsScreenSmall] = useState(false);\n\n  let checkScreenSize = () => {\n    setIsScreenSmall(window.innerWidth < 600);\n  };\n  useEffect(() => {\n    checkScreenSize();\n    window.addEventListener(\"resize\", checkScreenSize);\n\n    return () => window.removeEventListener(\"resize\", checkScreenSize);\n  }, []);\n\n  return isScreenSmall;\n};\n\nexport default useWindowsWidth;\n","export const initialSearchState = {\n    options: [],\n    isLoading: false,\n    isAllFetched: false,\n    isSearching: false,\n    isOpen: false,\n    selected: null,\n    title: ''\n}\n\nexport function searchReducer(state, action) {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                selected: null,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'pick-option': {\n            return {\n                ...state,\n                title: action.title,\n                selected: action.selected\n            }\n        }\n        case 'success-load': {\n            return {\n                ...state,\n                isLoading: false,\n                isSearching: false,\n                isAllFetched: action.payload.length < 10,\n                options: [...state.options, ...action.payload]\n            }\n        }\n        case 'success-search': {\n            return {\n                ...state,\n                isLoading: false,\n                isSearching: false,\n                isAllFetched: action.payload.length < 10,\n                options: action.payload\n            }\n        }\n        case 'clear': {\n            return initialSearchState\n        }\n        case 'load': {\n            return !state.isLoading && !state.isAllFetched ? {\n                ...state,\n                isLoading: true,\n                isAllFetched: false,\n                isSearching: false,\n            } : state\n        }\n        case 'search': {\n            return {\n                ...state,\n                options: [],\n                isSearching: true,\n                isLoading: false,\n                isAllFetched: false\n            }\n        }\n        default: return state\n    }\n}","/* eslint-disable jsx-a11y/role-has-required-aria-props */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect, useCallback, useContext, useReducer, useRef } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport { Button, Col, Row, Form, Nav, Navbar, Spinner } from 'react-bootstrap';\n\nimport headerIcon from '../../images/header.png';\nimport * as filmApi from '../../services/filmService'\n\nimport { AsyncTypeahead, Menu as AsyncMenu, MenuItem as AsyncMenuItem } from 'react-bootstrap-typeahead';\n\nimport UserContext from '../../helpers/contexts/user/userContext'\n\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\nimport './navbar.css';\nimport { initialSearchState, searchReducer } from './reducer';\n\nimport useBottomScrollListener from '../../helpers/hooks/useBottomScrollListener';\nimport useWindowsWidth from '../../helpers/hooks/useWindowsWidth';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\n\nimport {\n    Menu,\n    MenuItem,\n} from '@szhsin/react-menu';\nimport '@szhsin/react-menu/dist/index.css';\n\nfunction NavbarComponent(props) {\n\n    let history = useHistory();\n    let location = useLocation();\n\n    const onSmallScreen = useWindowsWidth();\n\n    const { user, logout } = useContext(UserContext);\n\n    const [state, dispatch] = useReducer(searchReducer, initialSearchState)\n\n    const [isExpanded, setIsExpanded] = useState(false)\n\n    const { options, title, isLoading, isAllFetched, isSearching, isOpen, selected } = state\n\n    const handleSearchOnBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && !isSearching && isOpen) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isLoading, isAllFetched, isSearching, isOpen])\n\n    useBottomScrollListener(handleSearchOnBottom, { id: 'typeahead-navbar' })\n\n    const typeaheadRef = useRef(null)\n\n    const filterBy = () => true;\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", handleKeyDown);\n\n        return function cleanup() {\n            document.removeEventListener(\"keydown\", handleKeyDown);\n        }\n    })\n\n    useEffect(() => {\n        setIsExpanded(false)\n    }, [location])\n\n    useEffect(() => {\n        async function getAllSearchedFilms() {\n            await filmApi.search({ search: title, skip: options.length })\n                .then(({ data }) => {\n                    const options = data.map((film) => ({\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`\n                    }));\n\n                    dispatch({\n                        type: 'success-load',\n                        payload: options\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isLoading) getAllSearchedFilms()\n    }, [isLoading, title, options.length])\n\n    useEffect(() => {\n        async function getAllSearchedFilms() {\n            await filmApi.search({ search: title })\n                .then(({ data }) => {\n                    const options = data.map((film) => ({\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`\n                    }));\n                    dispatch({\n                        type: 'success-search',\n                        payload: options\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isSearching) getAllSearchedFilms()\n    }, [isSearching, title])\n\n    const handleKeyDown = (event) => {\n        if (event && event.target && event.target.className &&\n            event.target.className === \"rbt-input-main form-control rbt-input  focus\") {\n            let keyCode = event.keyCode || event.charCode;\n            console.log(keyCode)\n\n            switch (keyCode) {\n                case 13:\n                    handleSearchSubmit(event);\n                    break;\n                case 9:\n                    if (onSmallScreen)\n                        handleSearchSubmit(event);\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n\n    const handleSelect = (eventKey) => {\n\n        switch (eventKey) {\n            case 'add_film': {\n                history.push(`${process.env.REACT_APP_PATH_NAME}add`);\n                break;\n            }\n            case 'playlists':\n                history.push(`${process.env.REACT_APP_PATH_NAME}playlists`)\n                break;\n            default: break;\n        }\n    }\n\n    const handleSearchSubmit = (e) => {\n        e.preventDefault();\n\n        document.getElementById(\"search-form\").reset();\n        if (typeaheadRef) typeaheadRef.current.clear();\n\n        if (selected) {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}film/${selected.id}`,\n                search: '',\n                state: {}\n            });\n        }\n        else if (title === '') {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}search`,\n                search: `?title=${title}`,\n                state: {}\n            });\n        }\n        else if (options.length === 1) {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}film/${options[0].id}`,\n                search: '',\n                state: {}\n            });\n        } else {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}search`,\n                search: `?title=${title}`,\n                state: { films: options }\n            });\n        }\n\n        dispatch({\n            type: 'clear'\n        })\n    }\n\n\n    const handleLogoutClick = () => {\n        logout()\n    };\n\n    const handleProfileClick = () => {\n        history.push(`${process.env.REACT_APP_PATH_NAME}profile`)\n    };\n\n    const handleSettingsClick = () => {\n        let pathname = location.pathname\n        if (pathname === process.env.REACT_APP_PATH_NAME) pathname = pathname.slice(0, -1)\n\n        history.push({\n            pathname: `${pathname}/settings`,\n            search: location.search,\n            state: location.state\n        });\n    }\n\n    const handleToggle = (expanded) => {\n        setIsExpanded(expanded)\n    }\n    const handleSearch = useCallback((query) => {\n        dispatch({\n            type: 'search',\n            payload: query\n        })\n    }, []);\n\n    const handleLogin = () => {\n        let pathname = location.pathname\n        if (pathname === process.env.REACT_APP_PATH_NAME) pathname = pathname.slice(0, -1)\n        history.push({\n            pathname: `${pathname}/login`,\n            search: location.search,\n            state: location.state\n        });\n    }\n\n    return (\n\n        <Navbar\n            expanded={isExpanded}\n            className=\"py-2 px-4\"\n            expand=\"md\" bg=\"light\" variant=\"light\"\n            onToggle={handleToggle}\n            onSelect={e => handleSelect(e)}>\n\n            <Col className=\"pb-2\"\n                xs={{ span: 5, order: 'first' }}\n                sm={{ span: 2, order: 'first' }}\n                md={{ span: 4, order: 'first' }}>\n                <Navbar.Brand style={{ cursor: 'pointer' }}\n                    className=\"d-flex align-items-center\"\n                    onClick={() => history.push(process.env.REACT_APP_PATH_NAME)}>\n                    <Navbar.Brand>\n                        {\n                            <img alt=\"\"\n                                src={headerIcon} width=\"30\"\n                                height=\"30\" />\n                        }\n                    </Navbar.Brand>\n                    {<p className=\"d-none d-md-inline m-0\">FilmApp</p>}\n                </Navbar.Brand>\n            </Col>\n\n            <Col className=\"text-right d-md-none m-button pb-2 \"\n                xs={{ span: 6, order: 2 }}\n                sm={{ span: 2, order: 'last' }}>\n                <Navbar.Toggle className=\"m-button\" aria-controls=\"responsive-navbar-nav\" />\n            </Col>\n\n            <Col xs={{ span: 12, order: 3 }}\n                sm={{ span: 8, order: 2 }}\n                md={{ span: 5, order: 2 }}>\n                <Form id=\"search-form\" inline=\"true\">\n                    <Row className=\"m-0\" style={{ width: 100 + '%' }}>\n                        <Col xs={12} sm={10} className=\"p-0\">\n                            <AsyncTypeahead\n                                ref={typeaheadRef}\n                                className=\"search-bar\"\n                                useCache={false}\n                                filterBy={filterBy}\n                                id=\"typeahead-navbar\"\n                                isLoading={true}\n                                open={isOpen}\n                                placeholder=\"Search\"\n                                labelKey=\"title\"\n                                minLength={1}\n                                options={options}\n                                onSearch={handleSearch}\n                                onBlur={(event) => dispatch({ type: 'field', fieldName: 'isOpen', payload: false })}\n                                onFocus={(event) => {\n                                    if (title !== '')\n                                        dispatch({ type: 'field', fieldName: 'isOpen', payload: true })\n                                }}\n                                onKeyDown={(event) => dispatch({ type: 'field', fieldName: 'isOpen', payload: true })}\n                                onMenuToggle={(isOpen) => dispatch({ type: 'field', fieldName: 'isOpen', payload: isOpen })}\n                                onInputChange={(text, event) => {\n                                    dispatch({\n                                        type: 'field',\n                                        fieldName: 'title',\n                                        payload: text\n                                    })\n                                    if (text === '')\n                                        dispatch({\n                                            type: 'field',\n                                            fieldName: 'options',\n                                            payload: []\n                                        })\n                                }}\n                                onChange={(selected) => {\n                                    const title = selected.length > 0 ? selected[0].title : '';\n                                    dispatch({\n                                        type: 'pick-option',\n                                        title: title,\n                                        selected: selected.length > 0 ? selected[0] : null\n                                    })\n                                }}\n                                renderMenu={(results, menuProps) => (\n                                    <AsyncMenu {...menuProps} className=\"pt-4 pb-4\">\n                                        {results.map((result, index) => (\n                                            <AsyncMenuItem key={result.id} option={result} position={index}>\n                                                <Row className=\"p-0 m-0 entry__inner\" onClick={(e) => {\n                                                    e.stopPropagation()\n                                                    e.preventDefault()\n                                                    dispatch({\n                                                        type: 'clear'\n                                                    })\n                                                    document.getElementById(\"search-form\").reset();\n                                                    if (typeaheadRef) typeaheadRef.current.clear();\n\n                                                    history.push({\n                                                        pathname: `${process.env.REACT_APP_PATH_NAME}film/${result.id}`,\n                                                        search: '',\n                                                        state: {}\n                                                    });\n\n                                                }}>\n                                                    <img\n                                                        className=\"p-0\"\n                                                        alt=\"\"\n                                                        src={result.img}\n                                                        style={{\n                                                            height: '24px',\n                                                            marginRight: '10px',\n                                                            width: '24px',\n                                                        }}\n                                                    />\n                                                    <span className=\"entry__text\">{result.title}</span>\n                                                </Row>\n                                            </AsyncMenuItem>\n                                        ))}\n\n\n\n                                        {!isLoading && !isSearching && results.length === 0 && <a role=\"option\" className=\"dropdown-item disabled\" href=\"#\">No matches found.</a>}\n                                        {isSearching && <a role=\"option\" className=\"dropdown-item disabled\" href=\"#\">Searching...</a>}\n                                        {\n                                            <div style={{ height: 8 + 'px' }} className=\"d-flex justify-content-center\">\n                                                {isLoading && !isAllFetched && <Spinner animation=\"border\" />}\n                                            </div>\n                                        }\n                                    </AsyncMenu>\n                                )}\n\n                            />\n                        </Col>\n                        <Col sm={2}>\n                            <Button onClick={handleSearchSubmit}\n                                className=\"d-none d-sm-inline\"\n                                variant=\"light\">\n                                <FontAwesomeIcon icon={faSearch} />\n                            </Button>\n                        </Col>\n                    </Row>\n                </Form>\n            </Col>\n\n\n            <Col xs={{ span: 12, order: 'last' }}\n                sm={{ span: 12, order: 'last' }}\n                md={{ span: 3, order: 'last' }}>\n\n                <Navbar.Collapse className=\"justify-content-end\" id=\"responsive-navbar-nav\">\n\n                    <Nav activeKey=\"\" className=\"d-block d-sm-block d-md-flex  align-items-center\">\n                        <Nav.Link className=\"px-2\" eventKey=\"playlists\">Playlists</Nav.Link>\n                        {user.auth && <Nav.Link className=\"px-2\" eventKey=\"add_film\">Add</Nav.Link>}\n\n                        {\n                            user.auth ?\n                                (\n                                    <Menu\n                                        className=\"avatar-menu-items\"\n                                        align=\"end\"\n                                        viewScroll=\"close\"\n                                        offsetY={12}\n                                        position=\"initial\"\n                                        direction=\"bottom\"\n                                        menuButton={\n                                            <div\n                                                className=\"pe-2 ps-2 custom-avatar m-button\">\n                                                {user.name.toUpperCase().charAt(0)}\n                                            </div>\n                                        }\n                                    >\n                                        <MenuItem onClick={handleProfileClick} > Profile</MenuItem>\n                                        <MenuItem onClick={handleSettingsClick}>Settings</MenuItem>\n                                        <MenuItem onClick={handleLogoutClick}>Logout</MenuItem>\n                                    </Menu>\n\n\n                                ) :\n                                (\n                                    <Nav.Link className=\"pe-2 ps-2\" eventKey=\"login \"\n                                        onClick={() => handleLogin()}>\n                                        Login\n                                    </Nav.Link>\n                                )\n                        }\n                    </Nav>\n\n                </Navbar.Collapse>\n\n            </Col>\n\n\n\n        </Navbar>\n    )\n}\n\nexport default NavbarComponent","export default \"data:image/png;base64,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\"","import authHeader from '../helpers/authHeader'\nimport axios from '../helpers/axios'\n\nexport const login = (data) => axios.post('auth', {}, {\n    auth: {\n        username: data.email,\n        password: data.password\n    }\n})\nexport const register = (form) => axios.post('users', form)\n\nexport const refresh = (data) => axios.post('auth/refresh', data, {headers: authHeader()})\nexport const forget = (form) => axios.post('auth/password/forgot', form)\nexport const reset = (token, form) => axios.post(`auth/password/reset/${token}`, form)","\nexport const authInitialState = {\n    email: '',\n    nick: '',\n    password: '',\n    isSubmitted: false,\n    isSending: false,\n    isSuccess: false,\n    isError: false,\n    error: null\n}\n\nexport const authReducer = (state, action) => {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                isSubmitted: false,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'submit': {\n            return {\n                ...state,\n                isError: false,\n                error: null,\n                isSubmitted: true\n            }\n        }\n        case 'send': {\n            return {\n                ...state,\n                isSending: true\n            }\n        }\n        case 'success': {\n            return {\n\n                ...state,\n                isError: false,\n                error: null,\n                isSending: false,\n                isSuccess: true\n            }\n        }\n        case 'error': {\n            return {\n                ...state,\n                isSending: false,\n                isError: true,\n                error: action.payload\n            }\n        }\n        default: return state\n    }\n}","import React, { useState, useEffect, useContext, useReducer } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom'\n\nimport { Alert, Button, Col, Form, Modal, Spinner } from 'react-bootstrap';\n\nimport * as authApi from '../../services/authService'\n\nimport UserContext from '../../helpers/contexts/user/userContext'\nimport { authInitialState, authReducer } from './reducer';\n\nfunction Login(props) {\n\n    const { login } = useContext(UserContext);\n\n    let history = useHistory()\n    let location = useLocation()\n\n    const [state, dispatch] = useReducer(authReducer, authInitialState)\n    const { email, password, isSubmitted, isSending, isError, error } = state\n    const [show, setShow] = useState(true)\n\n    useEffect(() => {\n        async function sendData() {\n            await authApi.login({ email, password })\n                .then(res => {\n                    login(res.data.user.name, res.data.user.id, res.data.token, res.data.refreshToken)\n                    //history.replace(location.pathname.slice(0, -6))\n\n                    let pathname = location.pathname.slice(0, -6)\n                    if (pathname === '') pathname = process.env.REACT_APP_PATH_NAME\n\n                    history.replace({\n                        pathname: pathname,\n                        search: location.search,\n                        state: location.state\n                    })\n\n                    //if (!location.state) {\n                    // history.goBack();\n                    //} else {\n                    //   history.replace(location.state.from)\n                    //}\n                })\n                .catch(err => {\n                    let errorMessage = null;\n\n                    if (err.response && err.response.data && err.response.data.errors)\n                        errorMessage = err.response.data.errors;\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage\n                    })\n\n                    console.error(err)\n                })\n        }\n        if (isSending) sendData()\n    }, [isSending, email, password, history, location, login])\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        dispatch({ type: 'submit' })\n\n        if (email && password) {\n            dispatch({ type: 'send' })\n        }\n    }\n\n    const handleForgotPassword = () => {\n        history.goBack();\n\n        setTimeout(function () {\n            history.push(`${location.pathname.slice(0, -5)}forgot${location.search}`);\n        }, 500);\n    };\n\n    const modalClose = () => {\n        setShow(false)\n        if (!location.state) {\n            history.goBack();\n        } else {\n            history.push(process.env.REACT_APP_PATH_NAME)\n        }\n    };\n\n    const handleRegister = () => {\n        history.goBack();\n\n        setTimeout(function () {\n            history.push(`${location.pathname.slice(0, -5)}register${location.search}`);\n        }, 500);\n    };\n\n\n\n    return (\n\n        <Modal\n            onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Login\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={isSending ? null : handleSubmit}>\n\n                    <Form.Group>\n                        <Form.Label htmlFor=\"email\">Email</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && !email} type=\"email\" name=\"email\" value={email}\n                            onChange={e => dispatch({ type: 'field', fieldName: 'email', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Email is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className=\"mt-2\">\n                        <Form.Label htmlFor=\"password\">Password</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && !password} type=\"password\" name=\"password\"\n                            value={password} onChange={e => dispatch({ type: 'field', fieldName: 'password', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Password is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button  disabled={isSending} type=\"submit\" className=\"btn-primary\">\n                            Login\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n\n                </Form>\n\n                {\n                    isError &&\n                    <Alert variant=\"danger\" className=\"mt-2 mb-0\">\n                        {error ? error : 'Error while logging in.'}\n                    </Alert>\n                }\n\n                <Button variant=\"link\" onClick={handleRegister} className=\"p-0 mt-2 btn btn-link\">Register</Button>\n\n                <Col className=\"p-0 m-0 \" xs={12} sm={12}>\n                    <Button variant=\"link\" onClick={handleForgotPassword} className=\"p-0 mt-2 btn btn-link\">Forgot password?</Button>\n                </Col>\n\n            </Modal.Body>\n\n            <Modal.Footer>\n                <Button onClick={modalClose}>Close</Button>\n            </Modal.Footer>\n\n\n        </Modal>\n\n\n    );\n}\n\nexport default Login","import React, { useState, useReducer, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Alert, Button, Form, Modal, Spinner } from 'react-bootstrap';\nimport * as authApi from '../../services/authService'\nimport { authInitialState, authReducer } from './reducer';\n\nfunction ResetPassword(props) {\n\n    let history = useHistory()\n\n    const [state, dispatch] = useReducer(authReducer, authInitialState)\n\n    const { password, isSubmitted, isSending, isSuccess, isError, error } = state\n\n    const [show, setShow] = useState(true)\n\n    useEffect(() => {\n        async function sendData() {\n            await authApi.reset(props.match.params.token, { password: password })\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n\n                    setTimeout(function () {\n                        setShow(false);\n                        history.push(`${process.env.REACT_APP_PATH_NAME}`);\n                        setTimeout(function () {\n                            history.push(`${process.env.REACT_APP_PATH_NAME}login`);\n                        }, 500);\n                    }, 1500);\n\n                })\n                .catch(err => {\n                    let errorMessage = null;\n\n                    if (err.response && err.response.data && err.response.data.errors)\n                        errorMessage = err.response.data.errors;\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage\n                    })\n\n                })\n\n        }\n\n\n        if (isSending) sendData()\n\n    }, [isSending, history, password, props.match.params.token])\n\n    const handleSubmitPasswordChange = (e) => {\n        e.preventDefault();\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if (props.match.params.token && password && password.length >= 6) {\n            dispatch({ type: 'send' })\n        }\n    }\n\n    const modalClose = () => {\n        setShow(false)\n        history.push(`${process.env.REACT_APP_PATH_NAME}`);\n    };\n\n    return (\n\n        <Modal\n            onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n        >\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Reset\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={handleSubmitPasswordChange}>\n                    <Form.Group>\n                        <Form.Label htmlFor=\"password\">Password</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && (password.length < 6)} type=\"password\"\n                            name=\"password\" value={password} maxLength=\"11\"\n                            onChange={e => dispatch({ type: 'field', fieldName: 'password', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type={\"invalid\"}>\n                            {\n                                password.length === 0 ? \"Password is required\" : \"Password too short (min 6 chars)\"\n                            }\n\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    {\n                        isSuccess &&\n                        <Alert variant=\"success\" className=\"mt-2\">\n                            Password has been reseated! Redirecting to login page.\n                        </Alert>\n                    }\n\n                    {\n                        isError &&\n                        <Alert variant=\"danger\" className=\"mt-2\">\n                            {error ? error : 'Error while resetting password.'}\n                        </Alert>\n                    }\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button type=\"submit\" className=\"btn-primary\">\n                            Reset password\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                            }\n                    </Form.Group>\n\n                </Form>\n\n            </Modal.Body>\n\n            <Modal.Footer>\n                <Button onClick={modalClose}>Close</Button>\n            </Modal.Footer>\n\n\n        </Modal>\n\n\n    );\n}\n\n\nexport default ResetPassword","import React, { useState, useReducer, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Alert, Button, Form, Modal, Spinner } from 'react-bootstrap';\nimport * as authApi from '../../services/authService'\nimport { authInitialState, authReducer } from './reducer';\n\nfunction ForgotPassword(props) {\n    let history = useHistory()\n\n    const [show, setShow] = useState(true)\n\n    const [state, dispatch] = useReducer(authReducer, authInitialState)\n\n    const { email, isSuccess, isSubmitted, isSending, isError, error } = state\n\n    useEffect(() => {\n        async function submitData() {\n\n            await authApi.forget({ email: email })\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n                })\n                .catch(err => {\n                    let errorMessage = null;\n\n                    if (err.response && err.response.data && err.response.data.errors)\n                        errorMessage = err.response.data.errors;\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage\n                    })\n\n                    console.error(err)\n                })\n        }\n        if (isSending) submitData()\n    }, [isSending, email])\n\n    const handleSubmitForgotRequest = (e) => {\n        e.preventDefault();\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if (email) {\n            dispatch({\n                type: 'send'\n            })\n        }\n    };\n\n    const modalClose = () => {\n        setShow(false)\n        history.goBack();\n    };\n\n\n    return (\n\n        <Modal\n            onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Forgot\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={handleSubmitForgotRequest}>\n                    <Form.Group>\n                        <Form.Label htmlFor=\"email\">Email</Form.Label>\n                        <Form.Control\n                            isInvalid={(isSubmitted && !email)}\n\n                            type=\"email\" name=\"email\" value={email} onChange={e => dispatch({ type: 'field', fieldName: 'email', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Email is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n\n\n                    {\n                        isSuccess &&\n                        <Alert variant=\"success\" className=\"mt-2\">\n                            Email with link to reset password has been sent.\n                        </Alert>\n                    }\n\n                    {\n                        isError &&\n                        <Alert variant=\"danger\" className=\"mt-2\">\n                            {error ? error : \"Error while sending email.\"}\n                        </Alert>\n                    }\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button type=\"submit\" className=\"btn-primary\">\n                            Reset password\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n\n                </Form>\n\n            </Modal.Body>\n\n            <Modal.Footer>\n                <Button onClick={modalClose}>Close</Button>\n            </Modal.Footer>\n\n\n        </Modal>\n\n\n    );\n}\n\nexport default ForgotPassword","import {Redirect, Route} from \"react-router\";\nimport React from \"react\";\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n    return <Route\n        {...rest}\n        render={props =>\n            localStorage.getItem('accessToken') ? (\n                <Component {...props} />\n            ) : (\n                <Redirect to={{\n                    pathname: `${process.env.REACT_APP_PATH_NAME}login`,\n                    state: {from: props.location}\n                }}/>\n            )\n        }/>\n};\n\nexport default PrivateRoute","const userInitialState = {\n    name: '',\n    email: ''\n}\n\nexport const settingsInitialState = {\n    ...userInitialState,\n    password: '',\n    initialUser: userInitialState,\n    isInitialLoaded: false,\n    isSubmitted: false,\n    isSending: false,\n    error: '',\n    success: ''\n}\n\nexport const settingsReducer = (state, action) => {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                error: '',\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'initial-success': {\n            return {\n                ...state,\n                initialUser: {\n                    email: action.email,\n                    name: action.name\n                },\n                isInitialLoaded: true\n            }\n        }\n        case 'submit': {\n            return {\n                ...state,\n                isSubmitted: true,\n                error: null,\n            }\n        }\n        case 'send': {\n            return {\n                ...state,\n                isSending: true\n            }\n        }\n        case 'success': {\n            return {\n                ...state,\n                isSubmitted: false,\n                isSending: false,\n                success: 'Changes saved successfully!',\n                error: null\n            }\n        }\n        case 'error': {\n            return {\n                ...state,\n                isSending: false,\n                isSubmitted: false,\n                error: action.payload\n            }\n        }\n        default: return state\n    }\n}","import { Modal, Form, Button, Spinner, Alert } from \"react-bootstrap\";\nimport { useEffect, useState, useReducer, useContext } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport UserContext from \"../../helpers/contexts/user/userContext\";\nimport { settingsInitialState, settingsReducer } from \"./reducer\";\nimport * as userApi from '../../services/userService'\n\nconst Settings = (props) => {\n\n    const { user, clearUser, updateUser } = useContext(UserContext)\n\n    let history = useHistory()\n    let location = useLocation()\n\n    const [state, dispatch] = useReducer(settingsReducer, settingsInitialState)\n    // eslint-disable-next-line no-unused-vars\n    const { email, name, password, initialUser, isSubmitted, isSending, isInitialLoaded, success, error } = state\n\n    const [show, setShow] = useState(true)\n\n    useEffect(() => {\n        if (!user.auth && user.isInitialLoaded) {\n            setShow(false)\n            history.replace(`${process.env.REACT_APP_PATH_NAME}`)\n            history.push(`${process.env.REACT_APP_PATH_NAME}login`)\n            clearUser()\n        }\n    }, [user, history, clearUser])\n\n    useEffect(() => {\n        async function getUser() {\n            await userApi.me()\n                .then(res => {\n                    dispatch({\n                        type: 'initial-success',\n                        name: res.data.name,\n                        email: res.data.email\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                    dispatch({\n                        type: 'error',\n                        payload: true\n                    })\n                })\n        }\n        getUser()\n    }, [])\n\n    useEffect(() => {\n        async function updateUserData() {\n            let toUpdate = {}\n            if (password) toUpdate = { password: password }\n            if (email && email !== '' && email !== initialUser.email) toUpdate = { ...toUpdate, email: email }\n            if (name && name !== '' && name !== initialUser.name) toUpdate = { ...toUpdate, name: name }\n\n            await userApi.partialUpdate(toUpdate)\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n\n                    setTimeout(() => {\n                        let pathname = location.pathname.slice(0, -9)\n                        if (pathname === '') pathname = process.env.REACT_APP_PATH_NAME\n                        history.replace({\n                            pathname: pathname,\n                            search: location.search,\n                            state: location.state\n                        })\n                        updateUser(res.data.accessToken)\n                    }, 500)\n                })\n                .catch(err => {\n                    console.error(err)\n                    dispatch({\n                        type: 'error',\n                        payload: err.response && err.response.data && err.response.data.error ? err.response.data.error : 'Something went wrong!'\n                    })\n                })\n        }\n        if (isSending) updateUserData()\n    }, [email, initialUser.email, initialUser.name, isSending, name, password, history, location, updateUser])\n\n    const modalClose = () => {\n        setShow(false)\n        history.goBack();\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if (password ||\n            (email && email !== '' && email !== initialUser.email) ||\n            (name && name !== '' && name !== initialUser.name)) {\n            dispatch({\n                type: 'send'\n            })\n        }\n    }\n\n    return (\n        <Modal onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title>\n                    Settings\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={isSending ? null : handleSubmit}>\n                    <Form.Group>\n                        <Form.Label htmlFor=\"name\">Name</Form.Label>\n                        <Form.Control type=\"text\" name=\"email\"\n                            value={name} placeholder={initialUser.name}\n                            onChange={e => dispatch({ type: 'field', fieldName: 'name', payload: e.target.value })}>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group className=\"mt-2\">\n                        <Form.Label htmlFor=\"email\">Email</Form.Label>\n                        <Form.Control type=\"email\" name=\"email\"\n                            value={email} placeholder={initialUser.email}\n                            onChange={e => dispatch({ type: 'field', fieldName: 'email', payload: e.target.value })}>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group className=\"mt-2\">\n                        <Form.Label htmlFor=\"password\">Password</Form.Label>\n                        <Form.Control type=\"password\" name=\"password\"\n                            value={password} onChange={e => dispatch({ type: 'field', fieldName: 'password', payload: e.target.value })}>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button disabled={isSending || !isInitialLoaded} type=\"submit\" className=\"btn-primary\">\n                            Change\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n                </Form>\n                {\n                    error &&\n                    <Alert variant=\"danger\" className=\"mt-2 mb-0\">\n                        {error ? error : 'Error while logging in.'}\n                    </Alert>\n                }\n                {\n                    success &&\n                    <Alert variant=\"success\" className=\"mt-2 mb-0\">\n                        {success}\n                    </Alert>\n                }\n            </Modal.Body>\n        </Modal>\n    )\n}\n\nexport default Settings","import React, { useState, useReducer, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Alert, Button, Form, Modal, Spinner } from 'react-bootstrap';\nimport * as authApi from '../../services/authService'\nimport { authInitialState, authReducer } from './reducer';\nimport UserContext from '../../helpers/contexts/user/userContext'\n\nfunction Register(props) {\n\n    let history = useHistory()\n\n    const { login } = useContext(UserContext)\n    const [state, dispatch] = useReducer(authReducer, authInitialState)\n    const { email, nick, password, isSubmitted, isSuccess, isSending, isError, error } = state\n\n    const [show, setShow] = useState(true)\n\n    useEffect(() => {\n        async function submitData() {\n\n            await authApi.register({ email: email, password: password, name: nick })\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n                    setTimeout(() => {\n                        login(res.data.user.name, res.data.user.id, res.data.token, res.data.refreshToken)\n                        history.goBack()\n                    }, 1500)\n                })\n                .catch(err => {\n                    let errorMessage = null;\n\n                    if (err.response && err.response.data && err.response.data.errors)\n                        errorMessage = err.response.data.errors;\n                    else if (err.response && err.response.data && err.response.data.error)\n                        errorMessage = err.response.data.error\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage\n                    })\n                    console.error(err)\n                })\n        }\n\n        if (isSending) submitData()\n\n    }, [isSending, email, nick, password, history, login])\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if (email && nick && password && password.length >= 6) {\n            dispatch({\n                type: 'send'\n            })\n        }\n    }\n\n    const modalClose = () => {\n        setShow(false)\n        history.goBack();\n    };\n\n\n    return (\n\n        <Modal\n            onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Register\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={handleSubmit}>\n                    <Form.Group>\n                        <Form.Label htmlFor=\"nick\">Nick</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && !nick} type=\"text\" name=\"nick\" value={nick}\n                            onChange={e => dispatch({ type: 'field', fieldName: 'nick', payload: e.target.value })} >\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Nick is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className=\"mt-2\">\n                        <Form.Label htmlFor=\"email\">Email</Form.Label>\n                        <Form.Control\n                            isInvalid={(isSubmitted && !email)}\n                            type=\"email\" name=\"email\" value={email} onChange={e => dispatch({ type: 'field', fieldName: 'email', payload: e.target.value })} >\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Email is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className=\"mt-2\">\n                        <Form.Label htmlFor=\"password\">Password</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && (password.length < 6)} type=\"password\"\n                            name=\"password\" value={password} maxLength=\"11\"\n                            onChange={e => dispatch({ type: 'field', fieldName: 'password', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            {\n                                password.length === 0 ? \"Password is required\" : \"Password too short (min 6 chars)\"\n                            }\n\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    {\n                        isSuccess &&\n                        <Alert variant=\"success\" className=\"mt-2\">\n                            You have successfully registered and logged in.\n                        </Alert>\n                    }\n\n                    {\n                        isError &&\n                        <Alert variant=\"danger\" className=\"mt-2\">\n                            {error ? error : 'Error while registtering.'}\n                        </Alert>\n                    }\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button type=\"submit\" className=\"btn-primary\">\n                            Register\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n\n                </Form>\n\n            </Modal.Body>\n\n            <Modal.Footer>\n                <Button onClick={modalClose}>Close</Button>\n            </Modal.Footer>\n\n\n        </Modal>\n    );\n}\n\nexport default Register","import { useContext } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport RemoveModalContext from \"../contexts/removeModal/removeModalContext\";\n\nconst RemoveModal = (props) => {\n    const { removeModalData, remove, clear } = useContext(RemoveModalContext)\n\n    const handleRemove = () => remove()\n\n    const handleClose = () => clear();\n\n    return (\n        <>\n            <Modal show={removeModalData.show} onHide={handleClose} centered>\n                <Modal.Header>\n                    <Modal.Title>Delete {removeModalData.type}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>Do you really want to delete {removeModalData.type} <b>{removeModalData.title}</b>?\n                    <br />\n                    Action cannot be undone!\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Cancel\n                    </Button>\n                    <Button variant=\"primary\" onClick={handleRemove}>\n                        Delete\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n}\n\nexport default RemoveModal","import { useContext, useMemo } from 'react'\nimport { refresh } from '../../services/authService';\nimport axios from '../axios'\nimport UserContext from '../contexts/user/userContext';\n\nconst WithAxios = ({ children }) => {\n\n    const { logout } = useContext(UserContext);\n\n    useMemo(() => {\n        axios.interceptors.response.use((response) => {\n            return response\n        }, (error) => {\n            const isAuth = localStorage.getItem('accessToken')\n            const originalRequest = error.config\n\n            if (error.response && error.response.status === 401 && isAuth && !originalRequest._retry) {\n                if (error.config.url === 'auth/refresh') {\n                    logout()\n                    return Promise.reject(error)\n                }\n                originalRequest._retry = true\n                return refresh({ \"refreshToken\": JSON.parse(localStorage.getItem(\"refreshToken\")) })\n                    .then(res => {\n                        if (res.status === 201) {\n                            const accessToken = res.data.token\n                            localStorage.setItem('accessToken', JSON.stringify(accessToken))\n                            originalRequest.headers['Authorization'] = 'Bearer ' + accessToken\n                            return axios(originalRequest)\n                        }\n                    })\n            }\n            return Promise.reject(error);\n        })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    return children\n}\n\nexport default WithAxios","import { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport UserContext from './userContext';\nimport jwt_decode from \"jwt-decode\";\n\nconst UserProvider = ({ children }) => {\n    let { pathname } = useLocation()\n\n    const [user, setUser] = useState({ name: '', id: null, auth: false, isInitialLoaded: false });\n\n    useEffect(() => {\n        window.scrollTo(0, 0)\n    }, [pathname])\n\n    useEffect(() => {\n        function getMe() {\n            const token = localStorage.getItem('accessToken')\n            if (!token) {\n                setUser(user => ({ ...user, isInitialLoaded: true }))\n                return\n            }\n            const decoded = jwt_decode(token);\n            setUser(() => ({\n                name: decoded.name,\n                auth: true,\n                id: decoded.id,\n                isInitialLoaded: true\n            }));\n        }\n        getMe()\n    }, [])\n\n    const login = (name, id, token, refreshToken) => {\n        localStorage.setItem('accessToken', JSON.stringify(token));\n        localStorage.setItem('refreshToken', JSON.stringify(refreshToken));\n\n        setUser(() => ({\n            name: name,\n            auth: true,\n            id: id,\n            isInitialLoaded: true\n        }));\n    };\n\n    const logout = () => {\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('refreshToken');\n\n\n        setUser((user) => ({\n            ...user,\n            name: '',\n            auth: false,\n            id: null\n        }));\n    };\n\n    const updateUser = (accessToken) => {\n        localStorage.setItem('accessToken', JSON.stringify(accessToken));\n\n        const decoded = jwt_decode(accessToken);\n        setUser((user) => ({\n            ...user,\n            name: decoded.name\n        }));\n\n        window.location.reload();\n    }\n\n    const clearUser = () => {\n        setUser((user) => ({\n            ...user,\n            isInitialLoaded: false\n        }));\n    }\n\n    return (\n        <UserContext.Provider value={{ user, login, logout, clearUser, updateUser }}>\n            {children}\n        </UserContext.Provider>\n    );\n};\n\nexport default UserProvider","import React, { useContext, lazy, Suspense } from 'react';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nimport NavbarComponent from './components/navbar';\nimport LoginComponent from './components/auth/login'\nimport ResetPasswordComponent from './components/auth/resetPassword';\nimport ForgotPasswordComponent from './components/auth/forgotPassword';\nimport PrivateRoute from './helpers/components/privateRoute'\nimport SettingsComponent from './components/settings'\nimport RegisterComponent from './components/auth/register'\n\nimport RemoveModal from './helpers/components/removeModal'\n\nimport { Route, BrowserRouter as Router, Redirect } from 'react-router-dom';\nimport { Spinner, Toast } from \"react-bootstrap\";\n\n//  --------- icons ------------\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n    faPlay,\n    faSortUp,\n    faSortDown,\n    faTrashAlt,\n    faTimes,\n    faGlobeEurope,\n    faLock\n} from '@fortawesome/free-solid-svg-icons'\n\nimport { Switch } from \"react-router\";\n\nimport ToastContext from './helpers/contexts/toast/toastContext'\n\nimport WithAxios from \"./helpers/components/withAxios\";\nimport UserProvider from './helpers/contexts/user/userProvider';\n\nlibrary.add(faPlay, faSortDown, faSortUp, faTrashAlt, faTimes, faGlobeEurope, faLock);\n\nconst pathName = process.env.REACT_APP_PATH_NAME\n\nconst ProfileComponent = lazy(() => import('./components/profilePage'))\nconst HomeComponent = lazy(() => import('./components/homePage'))\nconst FilmComponent = lazy(() => import('./components/filmPage'))\nconst SearchComponent = lazy(() => import('./components/searchPage'))\nconst PlaylistsPage = lazy(() => import('./components/playlistsPage'))\nconst AddFilmComponent = lazy(() => import('./components/add/filmAdd'))\nconst NotFoundComponent = lazy(() => import('./components/notFound'))\n\nfunction App(props) {\n\n    const { toast, clearToast } = useContext(ToastContext)\n\n    return (\n        <div>\n            {\n                <div className=\"toast-root\">\n                    <Toast\n\n                        show={toast.isOpen}\n                        onClose={clearToast}\n                        autohide\n                        className=\"toast-element bg-secondary\">\n                        <Toast.Header>\n                            <strong className=\"me-auto\">Playlist</strong>\n                        </Toast.Header>\n                        <Toast.Body>{toast.message}</Toast.Body>\n                    </Toast>\n                </div>\n            }\n\n            <Router>\n                <UserProvider>\n                    <WithAxios>\n                        <Route render={() => <NavbarComponent />} />\n                        <PrivateRoute exact path={[`${pathName}settings`, `${pathName}profile/settings`, `${pathName}film/:id/settings`, `${pathName}search/settings`, `${pathName}add/settings`, `${pathName}playlists/settings`]}\n                            component={SettingsComponent} />\n\n                        <Route exact path={[`${pathName}login`, `${pathName}film/:id/login`, `${pathName}search/login`, `${pathName}add/login`, `${pathName}playlists/login`]}\n                            render={(props) => <LoginComponent {...props} />} />\n\n                        <Route exact path={[`${pathName}register`, `${pathName}film/:id/register`, `${pathName}search/register`, `${pathName}add/register`, `${pathName}playlists/register`]}\n                            render={(props) => <RegisterComponent {...props} />} />\n\n                        <Route exact path={[`${pathName}reset/:token`, `${pathName}film/:id/reset/:token`, `${pathName}search/reset/:token`, `${pathName}add/reset/:token`, `${pathName}playlists/reset/:token`]}\n                            render={(props) => <ResetPasswordComponent {...props} />} />\n\n                        <Route exact path={[`${pathName}forgot`, `${pathName}film/:id/forgot`, `${pathName}search/forgot`, `${pathName}add/forgot`, `${pathName}playlists/forgot`]}\n                            render={(props) => <ForgotPasswordComponent {...props} />} />\n\n                        <Suspense fallback={<div className=\"suspense-loader\"> <Spinner className=\"suspense-loader-spinner\" animation=\"border\" /></div>}>\n                            <Switch>\n                                <Route exact path={[`${pathName}film/:id`, `${pathName}film/:id/login`, `${pathName}film/:id/register`, `${pathName}film/:id/reset/:token`,\n                                `${pathName}film/:id/forgot`, `${pathName}film/:id/settings`]}\n                                    render={(props) => <FilmComponent {...props} />} />\n\n                                <Route exact path={[`${pathName}`, `${pathName}login`, `${pathName}register`, `${pathName}settings`,\n                                `${pathName}reset/:token`, `${pathName}forgot`]}\n                                    render={(props) => <HomeComponent {...props} />} />\n\n                                <Route exact path={[`${pathName}search`, `${pathName}search/login`, `${pathName}search/settings`, `${pathName}search/register`, `${pathName}search/reset/:token`, `${pathName}search/forgot`]}\n                                    render={(props) => <SearchComponent {...props} />} />\n\n                                <PrivateRoute exact path={[`${pathName}add`, `${pathName}add/settings`]}\n                                    component={AddFilmComponent} />\n\n                                <Route exact path={[`${pathName}playlists`, `${pathName}playlists/login`, `${pathName}playlists/settings`, `${pathName}playlists/register`, `${pathName}playlists/reset/:token`,\n                                `${pathName}playlists/forgot`]} render={(props) => <PlaylistsPage {...props} />} />\n\n                                <Route exact path={[`${pathName}profile`, `${pathName}profile/settings`]}\n                                    render={props =>\n                                        localStorage.getItem('accessToken') ? (\n                                            <ProfileComponent {...props} />\n                                        ) : (\n                                            <Redirect to={{\n                                                pathname: `${process.env.REACT_APP_PATH_NAME}login`,\n                                                state: { from: props.location }\n                                            }} />\n                                        )\n                                    } />\n\n                                <Route exact path=\"*\" render={(props) => <NotFoundComponent {...props} />} />\n\n                            </Switch>\n                        </Suspense>\n                    </WithAxios>\n                </UserProvider>\n\n            </Router>\n            <RemoveModal />\n        </div>\n    );\n}\n\nexport default App\n\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { useState } from 'react'\nimport ToastContext from './toastContext'\n\nconst ToastProvider = ({ children }) => {\n    const [toast, setToast] = useState({ isOpen: false, message: '', isPrevoius: false })\n\n    const createToast = (message) => {\n        if (toast.isPrevoius) {\n            setToast({ isOpen: false, message: '', isPrevoius: true })\n            setTimeout(() => setToast({ isOpen: true, message: message, isPrevoius: true }), 850)\n        } else {\n            setToast({ isOpen: true, message: message, isPrevoius: true })\n        }\n    }\n\n    const clearToast = () => {\n        setToast({ isOpen: false, message: '', isPrevoius: false })\n    }\n\n    return (\n        <ToastContext.Provider value={{ toast, createToast, clearToast }}>\n            {children}\n        </ToastContext.Provider>\n    )\n}\n\nexport default ToastProvider","import { useState } from 'react'\nimport RemoveModalContext from './removeModalContext'\n\nconst RemoveModalProvider = ({ children }) => {\n\n    const [removeModalData, setRemoveModalData] = useState({ show: false, isRemoving: false, id: null, type: null, title: '' })\n\n    const showModal = (id, type, title) => {\n        setRemoveModalData({ show: true, isRemoving: false, id: id, type: type, title: title })\n    }\n\n    const remove = () => {\n        setRemoveModalData(prevState => {\n            return { ...prevState, show: false, isRemoving: true }\n        })\n    }\n\n    const clear = () => {\n        setRemoveModalData({ show: false, isRemoving: false, id: null, type: null, title: '' })\n    }\n\n    return (\n        <RemoveModalContext.Provider value={{ showModal, removeModalData, remove, clear }} >\n            {children}\n        </RemoveModalContext.Provider>\n    )\n}\n\nexport default RemoveModalProvider","import \"es6-promise\";\nimport \"isomorphic-fetch\";\n\nimport 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/ie11';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport ToastProvider from \"./helpers/contexts/toast/toastProvider\";\nimport RemoveModalProvider from \"./helpers/contexts/removeModal/removeModalProvider\";\n\nReactDOM.render(\n    <ToastProvider>\n        <RemoveModalProvider>\n            <App />\n        </RemoveModalProvider>\n    </ToastProvider>\n    ,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createContext } from 'react';\nconst UserContext = createContext({ name: '', id: null, auth: false, isInitialLoaded: false });\nexport default UserContext","const authHeader = () => {\n\n    let token = JSON.parse(localStorage.getItem('accessToken'));\n\n    if(token){\n        return { 'Authorization' : 'Bearer ' + token};\n    } else{\n        return {};\n    }\n}\n\nexport default authHeader","import { createContext } from \"react\";\nconst ToastContext = createContext('')\nexport default ToastContext","import { createContext } from 'react'\nconst RemoveModalContext = createContext({ show: false, isRemoving: false, id: null, type: null, title: '' })\nexport default RemoveModalContext"],"sourceRoot":""}