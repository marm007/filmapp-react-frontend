{"version":3,"sources":["config/index.js","services/playlistService.js","helpers/components/changePrivacyButton.js","components/blurredImage/index.js","../node_modules/react-text-truncate/lib/index.js","helpers/components/removeButton.js","../node_modules/react-bootstrap/esm/Ratio.js","helpers/components/playlist.js","components/playlistsPage/reducer.js","components/playlistsPage/index.js"],"names":["commentsMaxFetchCount","recommendationsMaxFetchCount","playlistButtonMaxFetchCount","pageInitialMaxFetchCount","pageMaxFetchCount","create","body","axios","post","headers","authHeader","index","id","get","show","params","partialUpdate","patch","remove","delete","ChangePrivacyButton","isPublic","isProfile","dispatchPrivacyUpdate","filmDispatch","useState","isChanging","setIsChanging","useEffect","a","playlistApi","is_public","then","res","type","payload","data","undefined","fieldName","catch","err","console","error","changePrivacy","privacyButton","style","marginLeft","borderRadius","width","height","className","onClick","e","stopPropagation","icon","BlurredImageComponent","props","image","setImage","aspectRatio","alt","src","define","exports","_react","_propTypes","Object","defineProperty","value","default","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_objectWithoutProperties","source","excluded","key","i","target","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","propertyIsEnumerable","call","sourceKeys","keys","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","_setPrototypeOf","p","_defineProperty","TextTruncate","_Component","_getPrototypeOf2","_this","this","_len","arguments","args","Array","_key","apply","concat","rafId","window","cancelAnimationFrame","requestAnimationFrame","update","bind","truncated","onToggled","setTimeout","onTruncated","onCalculated","getComputedStyle","scope","font","join","canvas","forceUpdate","document","createElement","docFragment","createDocumentFragment","appendChild","getContext","addEventListener","onResize","removeEventListener","text","Math","ceil","measureText","_this$props","line","containerClassName","element","textElement","textTruncateChild","truncateText","maxCalculateTimes","scopeWidth","getBoundingClientRect","measureWidth","childText","children","currentPos","maxTextLength","truncatedText","splitPos","startPos","displayLine","lastIsEng","isPrevLineWithoutSpace","lastPos","lastSpaceIndex","ext","loopCnt","substr","lastIndexOf","_this2","_this$props2","_this$props2$style","fontWeight","fontStyle","fontSize","fontFamily","renderText","getRenderText","rootProps","ref","el","overflow","Component","string","oneOfType","number","bool","func","node","module","RemoveButton","handleRemove","Ratio","React","bsPrefix","useBootstrapPrefix","num","isCustomRatio","_jsx","classNames","only","defaultProps","Playlist","playlist","handleRedirect","colWidth","setStyle","film_id","xs","sm","md","lg","img","margin","display","justifyContent","alignItems","title","author_name","initialState","playlists","playlistsCount","isLoading","isAllFetched","isInitialLoaded","playlistsPageReducer","state","action","Set","responseCount","PlaylistsPage","history","useHistory","useReducer","dispatch","handleOnPlaylistsBottom","useCallback","useBottomScrollListener","triggerOnNoScroll","limit","result","filtered","filter","forEach","process","fetchInitialPlaylists","skip","fetchPlaylists","setRedirect","playlistID","filmID","push","pathname","search","Row","map","Spinner","animation"],"mappings":"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","file":"static/js/10.392296fa.chunk.js","sourcesContent":["export const commentsMaxFetchCount = 10\nexport const recommendationsMaxFetchCount = 12\n\nexport const playlistButtonMaxFetchCount = 10\n\nexport const pageInitialMaxFetchCount = 40\nexport const pageMaxFetchCount = 20\n","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const create = (body) => axios.post('playlists', body, { headers: authHeader() })\nexport const index = (id) => axios.get(`playlists/${id}`, { headers: authHeader() })\nexport const show = (params) => axios.get(`playlists`, { params, headers: authHeader() })\nexport const partialUpdate = (id, body) => axios.patch(`playlists/${id}`, body, { headers: authHeader() })\n\n\nexport const remove = (id) => axios.delete(`playlists/${id}`, { headers: authHeader() })\n\n","import { Col } from \"react-bootstrap\"\nimport { ButtonBase } from \"@material-ui/core\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useEffect, useState } from \"react\"\nimport * as playlistApi from '../../services/playlistService'\n\nconst ChangePrivacyButton = ({ isPublic, id, isProfile, dispatchPrivacyUpdate, filmDispatch }) => {\n\n    const [isChanging, setIsChanging] = useState(false)\n\n\n    useEffect(() => {\n        async function changePrivacy() {\n            await playlistApi.partialUpdate(id, { is_public: !isPublic })\n                .then(res => {\n                    setIsChanging(false)\n\n                    dispatchPrivacyUpdate({\n                        type: 'change-playlist-privacy-success',\n                        payload: res.data\n                    })\n\n                    if (filmDispatch !== undefined) {\n                        filmDispatch({\n                            type: 'field',\n                            fieldName: 'reloadPlaylist',\n                            payload: true\n                        })\n                    }\n                })\n                .catch(err => {\n                    console.error(err)\n                    setIsChanging(false)\n                })\n        }\n        if (isChanging) changePrivacy()\n    }, [dispatchPrivacyUpdate, isChanging, isPublic, id, filmDispatch])\n\n    const handleChangePrivacy = (e) => {\n        e.stopPropagation()\n        if (!isChanging) setIsChanging(true)\n    }\n\n    const privacyButton = (\n        <ButtonBase\n            style={{ marginLeft: 'auto', borderRadius: 20 + \"px\", width: 24 + \"px\", height: 24 + \"px\" }}\n            className=\"m-button\"\n            onClick={handleChangePrivacy}>\n            <FontAwesomeIcon icon={isPublic ? \"globe-europe\" : \"lock\"} />\n        </ButtonBase>\n    )\n\n    return isProfile ?\n        (\n            <Col className=\"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0\"\n            >\n                <Col\n                    className=\"remove-holder p-0 m-0 flex-grow-0\"\n                    style={{ height: '24px', width: '24' }}>\n                    {privacyButton}\n                </Col>\n            </Col>\n        ) :\n        privacyButton\n}\n\nexport default ChangePrivacyButton","import React, { useState, useEffect } from 'react';\nimport { Ratio } from 'react-bootstrap'\n\nfunction BlurredImageComponent(props) {\n\n    const [image, setImage] = useState(\"data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\")\n\n    useEffect(() => {\n        setImage(props.image);\n    }, [props.image])\n\n\n    return (\n        <Ratio aspectRatio=\"16x9\">\n            <img\n                alt=\"\"\n                className=\"embed-responsive-item play-image\"\n                src={image} />\n        </Ratio>);\n}\n\nexport default BlurredImageComponent;","\"use strict\";\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"react\", \"prop-types\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"react\"), require(\"prop-types\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.React, global.propTypes);\n    global.undefined = mod.exports;\n  }\n})(void 0, function (exports, _react, _propTypes) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = undefined;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var TextTruncate = function (_Component) {\n    _inherits(TextTruncate, _Component);\n\n    function TextTruncate() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, TextTruncate);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TextTruncate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_this), \"onResize\", function () {\n        if (_this.rafId) {\n          window.cancelAnimationFrame(_this.rafId);\n        }\n\n        _this.rafId = window.requestAnimationFrame(_this.update.bind(_assertThisInitialized(_this)));\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onToggled\", function (truncated) {\n        typeof _this.props.onToggled === 'function' && setTimeout(function () {\n          return _this.props.onToggled(truncated);\n        }, 0);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onTruncated\", function () {\n        typeof _this.props.onTruncated === 'function' && setTimeout(function () {\n          return _this.props.onTruncated();\n        }, 0);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onCalculated\", function () {\n        typeof _this.props.onCalculated === 'function' && setTimeout(function () {\n          return _this.props.onCalculated();\n        }, 0);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"update\", function () {\n        var style = window.getComputedStyle(_this.scope);\n        var font = [style['font-weight'], style['font-style'], style['font-size'], style['font-family'], style['letter-spacing']].join(' ');\n        _this.canvas.font = font;\n\n        _this.forceUpdate();\n      });\n\n      return _this;\n    }\n\n    _createClass(TextTruncate, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var canvas = document.createElement('canvas');\n        var docFragment = document.createDocumentFragment();\n        var style = window.getComputedStyle(this.scope);\n        var font = [style['font-weight'], style['font-style'], style['font-size'], style['font-family']].join(' ');\n        docFragment.appendChild(canvas);\n        this.canvas = canvas.getContext('2d');\n        this.canvas.font = font;\n        this.forceUpdate();\n        window.addEventListener('resize', this.onResize);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        window.removeEventListener('resize', this.onResize);\n\n        if (this.rafId) {\n          window.cancelAnimationFrame(this.rafId);\n        }\n      }\n    }, {\n      key: \"measureWidth\",\n      value: function measureWidth(text) {\n        return Math.ceil(this.canvas.measureText(text).width);\n      }\n    }, {\n      key: \"getRenderText\",\n      value: function getRenderText() {\n        var _this$props = this.props,\n            containerClassName = _this$props.containerClassName,\n            element = _this$props.element,\n            line = _this$props.line,\n            onCalculated = _this$props.onCalculated,\n            onTruncated = _this$props.onTruncated,\n            onToggled = _this$props.onToggled,\n            text = _this$props.text,\n            textElement = _this$props.textElement,\n            textTruncateChild = _this$props.textTruncateChild,\n            truncateText = _this$props.truncateText,\n            maxCalculateTimes = _this$props.maxCalculateTimes,\n            props = _objectWithoutProperties(_this$props, [\"containerClassName\", \"element\", \"line\", \"onCalculated\", \"onTruncated\", \"onToggled\", \"text\", \"textElement\", \"textTruncateChild\", \"truncateText\", \"maxCalculateTimes\"]);\n\n        var scopeWidth = this.scope.getBoundingClientRect().width; // return if display:none\n\n        if (scopeWidth === 0) {\n          return null;\n        } // return if all of text can be displayed\n\n\n        if (scopeWidth >= this.measureWidth(text)) {\n          this.onToggled(false);\n          return (0, _react.createElement)(textElement, props, text);\n        }\n\n        var childText = '';\n\n        if (textTruncateChild && typeof textTruncateChild.type === 'string') {\n          var type = textTruncateChild.type;\n\n          if (type.indexOf('span') >= 0 || type.indexOf('a') >= 0) {\n            childText = textTruncateChild.props.children;\n          }\n        }\n\n        var currentPos = 1;\n        var maxTextLength = text.length;\n        var truncatedText = '';\n        var splitPos = 0;\n        var startPos = 0;\n        var displayLine = line;\n        var width = 0;\n        var lastIsEng = false;\n        var isPrevLineWithoutSpace = false;\n        var lastPos = 0;\n        var lastSpaceIndex = -1;\n        var ext = '';\n        var loopCnt = 0;\n\n        while (displayLine-- > 0) {\n          ext = displayLine ? '' : truncateText + (childText ? ' ' + childText : '');\n\n          while (currentPos <= maxTextLength) {\n            truncatedText = text.substr(startPos, currentPos);\n            width = this.measureWidth(truncatedText + ext);\n\n            if (width < scopeWidth) {\n              splitPos = text.indexOf(' ', currentPos + 1);\n\n              if (splitPos === -1) {\n                currentPos += 1;\n                lastIsEng = false;\n              } else {\n                lastIsEng = true;\n                currentPos = splitPos;\n              }\n            } else {\n              do {\n                if (loopCnt++ >= maxCalculateTimes) {\n                  break;\n                }\n\n                truncatedText = text.substr(startPos, currentPos);\n\n                if (!displayLine) {\n                  currentPos--;\n                }\n\n                if (truncatedText[truncatedText.length - 1] === ' ') {\n                  truncatedText = text.substr(startPos, currentPos - 1);\n                }\n\n                if (lastIsEng) {\n                  lastSpaceIndex = truncatedText.lastIndexOf(' ');\n\n                  if (lastSpaceIndex > -1) {\n                    currentPos = lastSpaceIndex;\n\n                    if (displayLine) {\n                      currentPos++;\n                    }\n\n                    truncatedText = text.substr(startPos, currentPos);\n                  } else {\n                    currentPos--;\n                    truncatedText = text.substr(startPos, currentPos);\n                  }\n                } else {\n                  currentPos--;\n                  truncatedText = text.substr(startPos, currentPos);\n                }\n\n                width = this.measureWidth(truncatedText + ext);\n              } while (width >= scopeWidth && truncatedText.length > 0);\n\n              startPos += currentPos;\n              break;\n            }\n          }\n\n          if (currentPos >= maxTextLength) {\n            startPos = maxTextLength;\n            break;\n          }\n\n          if (lastIsEng && !isPrevLineWithoutSpace && text.substr(lastPos, currentPos).indexOf(' ') === -1) {\n            isPrevLineWithoutSpace = text.substr(lastPos, currentPos).indexOf(' ') === -1;\n            displayLine--;\n          }\n\n          lastPos = currentPos + 1;\n        }\n\n        if (startPos === maxTextLength) {\n          this.onToggled(false);\n          return (0, _react.createElement)(textElement, props, text);\n        }\n\n        this.onTruncated();\n        this.onToggled(true);\n        return _react2[\"default\"].createElement(\"span\", props, (0, _react.createElement)(textElement, props, text.substr(0, startPos) + truncateText + ' '), textTruncateChild);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var _this$props2 = this.props,\n            element = _this$props2.element,\n            text = _this$props2.text,\n            _this$props2$style = _this$props2.style,\n            style = _this$props2$style === void 0 ? {} : _this$props2$style,\n            containerClassName = _this$props2.containerClassName,\n            line = _this$props2.line,\n            onCalculated = _this$props2.onCalculated,\n            onTruncated = _this$props2.onTruncated,\n            onToggled = _this$props2.onToggled,\n            textElement = _this$props2.textElement,\n            textTruncateChild = _this$props2.textTruncateChild,\n            truncateText = _this$props2.truncateText,\n            maxCalculateTimes = _this$props2.maxCalculateTimes,\n            props = _objectWithoutProperties(_this$props2, [\"element\", \"text\", \"style\", \"containerClassName\", \"line\", \"onCalculated\", \"onTruncated\", \"onToggled\", \"textElement\", \"textTruncateChild\", \"truncateText\", \"maxCalculateTimes\"]);\n\n        var fontWeight = style.fontWeight,\n            fontStyle = style.fontStyle,\n            fontSize = style.fontSize,\n            fontFamily = style.fontFamily;\n        var renderText = this.scope && line ? this.getRenderText() : (0, _react.createElement)(textElement, props, text);\n        ;\n        var rootProps = {\n          ref: function ref(el) {\n            _this2.scope = el;\n          },\n          className: containerClassName,\n          style: {\n            overflow: 'hidden',\n            fontWeight: fontWeight,\n            fontStyle: fontStyle,\n            fontSize: fontSize,\n            fontFamily: fontFamily\n          }\n        };\n        this.scope && this.onCalculated();\n        return (0, _react.createElement)(element, rootProps, renderText);\n      }\n    }]);\n\n    return TextTruncate;\n  }(_react.Component);\n\n  _defineProperty(TextTruncate, \"propTypes\", {\n    containerClassName: _propTypes2[\"default\"].string,\n    element: _propTypes2[\"default\"].string,\n    line: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].bool]),\n    onCalculated: _propTypes2[\"default\"].func,\n    onTruncated: _propTypes2[\"default\"].func,\n    onToggled: _propTypes2[\"default\"].func,\n    text: _propTypes2[\"default\"].string,\n    textElement: _propTypes2[\"default\"].node,\n    textTruncateChild: _propTypes2[\"default\"].node,\n    truncateText: _propTypes2[\"default\"].string,\n    maxCalculateTimes: _propTypes2[\"default\"].number\n  });\n\n  _defineProperty(TextTruncate, \"defaultProps\", {\n    element: 'div',\n    line: 1,\n    text: '',\n    textElement: 'span',\n    truncateText: '…',\n    maxCalculateTimes: 10\n  });\n\n  exports.default = TextTruncate;\n  ;\n  module.exports = exports.default;\n});\n","import { Col } from \"react-bootstrap\"\nimport { ButtonBase } from \"@material-ui/core\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\n\nconst RemoveButton = ({ handleRemove }) => {\n    return (\n        <Col\n            className=\"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0\">\n            <Col\n                className=\"remove-holder p-0 m-0 flex-grow-0\"\n                style={{ height: '24px', width: '24px' }}>\n                <ButtonBase\n                    style={{ marginLeft: 'auto', borderRadius: 20 + \"px\", width: 24 + \"px\", height: 24 + \"px\" }}\n                    className=\"m-button \"\n                    onClick={handleRemove}>\n                    <FontAwesomeIcon icon=\"trash-alt\" />\n                </ButtonBase>\n            </Col>\n        </Col>\n    )\n}\n\nexport default RemoveButton","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  aspectRatio: '1x1'\n};\n\nfunction toPercent(num) {\n  if (num <= 0 || num > 100) return '100%';\n  if (num < 1) return `${num * 100}%`;\n  return `${num}%`;\n}\n\nconst Ratio = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  children,\n  aspectRatio,\n  style,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'ratio');\n  const isCustomRatio = typeof aspectRatio === 'number';\n  return /*#__PURE__*/_jsx(\"div\", {\n    ref: ref,\n    ...props,\n    style: { ...style,\n      ...(isCustomRatio && {\n        '--bs-aspect-ratio': toPercent(aspectRatio)\n      })\n    },\n    className: classNames(bsPrefix, className, !isCustomRatio && `${bsPrefix}-${aspectRatio}`),\n    children: React.Children.only(children)\n  });\n});\nRatio.defaultProps = defaultProps;\nexport default Ratio;","import React, { useEffect, useState } from 'react';\nimport { Col, Row } from 'react-bootstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport TextTruncate from \"react-text-truncate\";\nimport BlurredImageComponent from \"../../components/blurredImage\";\nimport RemoveButton from './removeButton';\nimport ChangePrivacyButton from './changePrivacyButton';\n\nconst Playlist = ({ playlist, handleRedirect, handleRemove, isProfile, dispatchPrivacyUpdate }) => {\n\n    const colWidth = isProfile ? 8 : 10\n\n    const [style, setStyle] = useState(\"mb-5 play-outer-container remove-container\")\n\n    useEffect(() => {\n        if (!playlist.film_id) setStyle(\"mb-5 play-cursor-default remove-container\")\n    }, [playlist.film_id])\n\n\n    return (\n        <Col xs={12} sm={6} md={3} lg={2}\n            key={playlist.id}>\n            <Col className={style} onClick={() => handleRedirect(playlist.id, playlist.film_id)}>\n                <div className=\"embed-responsive embed-responsive-16by9 z-depth-1-half play-container\">\n                    <BlurredImageComponent\n                        image={playlist.img} />\n\n                    <Row style={{ width: '100%', margin: 0 }} className=\"play-middle\">\n                        <Col xs={5} sm={5} style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'center' }}>\n                            <FontAwesomeIcon icon=\"play\" />\n                        </Col>\n                        <Col xs={7} sm={7} style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center' }}>\n                            <small className=\"fw-bold\" >Play all</small>\n                        </Col>\n                    </Row>\n                </div>\n\n                <Row className=\"m-0\">\n                    <Col xs={colWidth} sm={colWidth} className=\"p-0\">\n                        <TextTruncate line={1} text={playlist.title}\n                            className=\"mb-1 mt-1 title \" />\n                    </Col>\n\n\n                    {\n                        isProfile && <Col xs={4} sm={4} className=\"p-0 d-flex justify-content-end\">\n                            <ChangePrivacyButton\n                                id={playlist.id}\n                                isPublic={playlist.is_public}\n                                isProfile={true}\n                                dispatchPrivacyUpdate={dispatchPrivacyUpdate} />\n                            <RemoveButton handleRemove={handleRemove} />\n                        </Col>\n                    }\n                </Row>\n                <p className=\"mb-0 author-nick-color\">\n                    <small>{playlist.author_name}</small>\n                </p>\n            </Col>\n        </Col>\n\n    )\n}\n\nexport default Playlist","import { pageInitialMaxFetchCount, pageMaxFetchCount  } from '../../config'\n\n\nexport const initialState = {\n    playlists: null,\n    playlistsCount: 0,\n    isLoading: false,\n    isAllFetched: false,\n    isInitialLoaded: false,\n    error: null,\n}\n\nexport const playlistsPageReducer = (state, action) => {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'initial-success': {\n            return {\n                ...state,\n                playlists: [...new Set([...action.playlists])],\n                isLoading: false,\n                isInitialLoaded: true,\n                isAllFetched: action.responseCount < pageInitialMaxFetchCount,\n                playlistsCount: state.playlistsCount + action.responseCount,\n            }\n        }\n        case 'load': {\n            return {\n                ...state,\n                isLoading: true,\n                isAllFetched: false,\n                error: null\n            }\n        }\n        case 'success': {\n            return {\n                ...state,\n                playlists: [...new Set([...state.playlists, ...action.playlists])],\n                isLoading: false,\n                isAllFetched: action.responseCount < pageMaxFetchCount,\n                playlistsCount: state.playlistsCount + action.responseCount,\n                error: null\n            }\n        }\n        case 'clear': {\n            return initialState\n        }\n        case 'error': {\n            return {\n                ...state,\n                isLoading: false,\n                isAllFetched: false,\n                error: action.payload\n            }\n        }\n        default:\n            return state\n    }\n}\n","import React, { useEffect, useReducer, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Row, Spinner } from 'react-bootstrap';\n\nimport * as playlistApi from '../../services/playlistService'\n\nimport { playlistsPageReducer, initialState } from './reducer'\nimport useBottomScrollListener from '../../helpers/hooks/useBottomScrollListener';\nimport Playlist from '../../helpers/components/playlist';\nimport { pageInitialMaxFetchCount, pageMaxFetchCount } from '../../config';\n\nconst pathName = process.env.REACT_APP_PATH_NAME;\n\nfunction PlaylistsPage(props) {\n\n    let history = useHistory()\n\n    const [state, dispatch] = useReducer(playlistsPageReducer, initialState)\n    const { playlists, isLoading, isAllFetched, isInitialLoaded, playlistsCount } = state\n\n    const handleOnPlaylistsBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && isInitialLoaded) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isAllFetched, isLoading, isInitialLoaded])\n\n    useBottomScrollListener(handleOnPlaylistsBottom, { triggerOnNoScroll: true })\n\n    useEffect(() => {\n        async function fetchInitialPlaylists() {\n            await playlistApi.show({ limit: pageInitialMaxFetchCount })\n                .then(res => {\n                    const result = res.data;\n\n                    let filtered = result.filter(playlist => playlist.film_id)\n\n                    filtered.forEach(playlist => {\n                        playlist.img = `${process.env.REACT_APP_API_URL}films/${playlist.film_id}/thumbnail?width=small_webp`\n                    });\n\n                    dispatch({\n                        type: 'initial-success',\n                        playlists: filtered,\n                        responseCount: result.length\n                    })\n\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        dispatch({ type: 'clear' })\n        fetchInitialPlaylists()\n\n    }, [])\n\n    useEffect(() => {\n        async function fetchPlaylists() {\n            await playlistApi.show({ skip: playlistsCount, limit: pageMaxFetchCount })\n                .then(res => {\n                    const result = res.data;\n\n                    let filtered = result.filter(playlist => playlist.film_id)\n\n                    filtered.forEach(playlist => {\n                        playlist.img = `${process.env.REACT_APP_API_URL}films/${playlist.film_id}/thumbnail?width=small_webp`\n                    });\n\n                    dispatch({\n                        type: 'success',\n                        playlists: filtered,\n                        responseCount: result.length\n                    })\n\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isLoading && isInitialLoaded) fetchPlaylists()\n\n    }, [isLoading, isInitialLoaded, playlists, playlistsCount])\n\n\n    const setRedirect = (playlistID, filmID) => {\n        history.push({\n            pathname: `${pathName}film/` + filmID,\n            search: `?list=${playlistID}`\n        });\n    };\n\n\n    return (\n        <Row className=\"mt-5 mx-2\">\n            {\n                playlists && playlists.map((playlist, index) => <Playlist key={playlist.id} playlist={playlist} index={index} handleRedirect={setRedirect} />)\n            }\n            {\n                !isAllFetched && <div className={!isInitialLoaded ? \"suspense-loader\" : \"fetch-loader d-flex justify-content-center\"}>\n                    {\n                        (isLoading || !isInitialLoaded) &&\n                        <Spinner className={!isInitialLoaded ? \"suspense-loader-spinner\" : \"\"} animation=\"border\" />\n                    }\n                </div>\n            }\n\n        </Row>\n\n    )\n}\n\nexport default PlaylistsPage\n"],"sourceRoot":""}