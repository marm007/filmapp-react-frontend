{"version":3,"sources":["components/models/navbar/reducer.js","components/models/navbar/index.js","images/header.png","services/filmService.js","helpers/hooks/useBottomScrollListener.js","helpers/hooks/useWindowsWidth.js"],"names":["initialSearchState","options","isLoading","isAllFetched","isSearching","isOpen","selected","title","searchReducer","state","action","type","fieldName","payload","length","NavbarComponent","props","history","useHistory","location","useLocation","onMediumScreen","useWindowsWidth","useContext","UserContext","user","logout","useReducer","dispatch","handleSearchOnBottom","useCallback","useBottomScrollListener","id","typeaheadRef","useRef","useEffect","document","addEventListener","handleKeyDown","removeEventListener","window","$","collapse","a","filmApi","search","skip","then","data","map","film","imgNormal","process","imgWebp","catch","err","console","error","getAllSearchedFilms","event","target","className","keyCode","charCode","handleSearchSubmit","isMobile","e","preventDefault","getElementById","reset","current","clear","push","pathname","films","handleSearch","query","onClick","alt","src","width","height","ref","useCache","filterBy","open","placeholder","labelKey","minLength","onSearch","onBlur","onFocus","onKeyDown","onMenuToggle","onInputChange","text","onChange","renderMenu","results","menuProps","result","index","option","position","stopPropagation","role","href","icon","faSearch","auth","align","viewScroll","direction","menuButton","name","toUpperCase","charAt","slice","handleLogin","all","params","axios","get","view","patch","create","form","post","headers","authHeader","update","put","like","remove","delete","createCallback","debounce","handleOnScroll","lodashDebounce","onBottom","useMemo","offset","debounceOptions","leading","triggerOnNoScroll","debouncedOnBottom","containerRef","scrollNode","scrollContainerBottomPosition","Math","round","scrollTop","clientHeight","scrollHeight","scrollingElement","documentElement","innerHeight","node","useState","innerWidth","isScreenSmall","setIsScreenSmall","checkScreenSize"],"mappings":"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","file":"static/js/10.9c9de117.chunk.js","sourcesContent":["export const initialSearchState = {\r\n    options: [],\r\n    isLoading: false,\r\n    isAllFetched: false,\r\n    isSearching: false,\r\n    isOpen: false,\r\n    selected: null,\r\n    title: ''\r\n}\r\n\r\nexport function searchReducer(state, action) {\r\n    switch (action.type) {\r\n        case 'field': {\r\n            return {\r\n                ...state,\r\n                selected: null,\r\n                [action.fieldName]: action.payload\r\n            }\r\n        }\r\n        case 'pick-option': {\r\n            return {\r\n                ...state,\r\n                title: action.title,\r\n                selected: action.selected\r\n            }\r\n        }\r\n        case 'success-load': {\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                isSearching: false,\r\n                isAllFetched: action.payload.length < 10,\r\n                options: [...state.options, ...action.payload]\r\n            }\r\n        }\r\n        case 'success-search': {\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                isSearching: false,\r\n                isAllFetched: action.payload.length < 10,\r\n                options: action.payload\r\n            }\r\n        }\r\n        case 'clear': {\r\n            return initialSearchState\r\n        }\r\n        case 'load': {\r\n            return !state.isLoading && !state.isAllFetched ? {\r\n                ...state,\r\n                isLoading: true,\r\n                isAllFetched: false,\r\n                isSearching: false,\r\n            } : state\r\n        }\r\n        case 'search': {\r\n            return {\r\n                ...state,\r\n                options: [],\r\n                isSearching: true,\r\n                isLoading: false,\r\n                isAllFetched: false\r\n            }\r\n        }\r\n        default: return state\r\n    }\r\n}","/* eslint-disable jsx-a11y/role-has-required-aria-props */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useEffect, useCallback, useContext, useReducer, useRef } from 'react';\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { isMobile } from 'react-device-detect';\r\nimport headerIcon from '../../../images/header.png';\r\nimport * as filmApi from '../../../services/filmService'\r\n\r\nimport { AsyncTypeahead, Menu as AsyncMenu, MenuItem as AsyncMenuItem } from 'react-bootstrap-typeahead';\r\n\r\nimport UserContext from '../../../helpers/contexts/user/userContext'\r\n\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\nimport { initialSearchState, searchReducer } from './reducer';\r\n\r\nimport useBottomScrollListener from '../../../helpers/hooks/useBottomScrollListener';\r\nimport useWindowsWidth from '../../../helpers/hooks/useWindowsWidth';\r\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport {\r\n    Menu,\r\n    MenuItem,\r\n} from '@szhsin/react-menu';\r\n\r\nimport './navbar.css';\r\nimport '@szhsin/react-menu/dist/index.css';\r\n\r\nfunction NavbarComponent(props) {\r\n\r\n    let history = useHistory();\r\n    let location = useLocation();\r\n\r\n    const onMediumScreen = useWindowsWidth(768);\r\n\r\n    const { user, logout } = useContext(UserContext);\r\n\r\n    const [state, dispatch] = useReducer(searchReducer, initialSearchState)\r\n\r\n    const { options, title, isLoading, isAllFetched, isSearching, isOpen, selected } = state\r\n\r\n    const handleSearchOnBottom = useCallback(() => {\r\n        if (!isLoading && !isAllFetched && !isSearching && isOpen) {\r\n            dispatch({\r\n                type: 'load'\r\n            })\r\n        }\r\n    }, [isLoading, isAllFetched, isSearching, isOpen])\r\n\r\n    useBottomScrollListener(handleSearchOnBottom, { id: 'typeahead-navbar' })\r\n\r\n    const typeaheadRef = useRef(null)\r\n\r\n    const filterBy = () => true;\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\", handleKeyDown);\r\n\r\n        return function cleanup() {\r\n            document.removeEventListener(\"keydown\", handleKeyDown);\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        window.$('#navbar-collapse-menu').collapse('hide')\r\n    }, [location])\r\n\r\n    useEffect(() => {\r\n        async function getAllSearchedFilms() {\r\n            await filmApi.search({ search: title, skip: options.length })\r\n                .then(({ data }) => {\r\n                    const options = data.map((film) => ({\r\n                        ...film,\r\n                        imgNormal: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small`,\r\n                        imgWebp: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`\r\n                    }));\r\n\r\n                    dispatch({\r\n                        type: 'success-load',\r\n                        payload: options\r\n                    })\r\n                })\r\n                .catch(err => {\r\n                    console.error(err)\r\n                })\r\n        }\r\n\r\n        if (isLoading) getAllSearchedFilms()\r\n    }, [isLoading, title, options.length])\r\n\r\n    useEffect(() => {\r\n        async function getAllSearchedFilms() {\r\n            await filmApi.search({ search: title })\r\n                .then(({ data }) => {\r\n                    const options = data.map((film) => ({\r\n                        ...film,\r\n                        imgNormal: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small`,\r\n                        imgWebp: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`\r\n                    }));\r\n                    dispatch({\r\n                        type: 'success-search',\r\n                        payload: options\r\n                    })\r\n                })\r\n                .catch(err => {\r\n                    console.error(err)\r\n                })\r\n        }\r\n\r\n        if (isSearching) getAllSearchedFilms()\r\n    }, [isSearching, title])\r\n\r\n    const handleKeyDown = (event) => {\r\n        if (event && event.target && event.target.className &&\r\n            event.target.className === \"rbt-input-main form-control rbt-input  focus\") {\r\n            let keyCode = event.keyCode || event.charCode;\r\n\r\n            switch (keyCode) {\r\n                case 13:\r\n                    handleSearchSubmit(event);\r\n                    break;\r\n                case 9:\r\n                    if (isMobile)\r\n                        handleSearchSubmit(event);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleAddFilm = () => history.push(`${process.env.REACT_APP_PATH_NAME}add`)\r\n\r\n    const handleShowPlaylists = () => history.push(`${process.env.REACT_APP_PATH_NAME}playlists`)\r\n\r\n    const handleSearchSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        document.getElementById(\"search-form\").reset();\r\n        if (typeaheadRef) typeaheadRef.current.clear();\r\n\r\n        if (selected) {\r\n            history.push({\r\n                pathname: `${process.env.REACT_APP_PATH_NAME}film/${selected.id}`,\r\n                search: '',\r\n                state: {}\r\n            });\r\n        }\r\n        else if (title === '') {\r\n            history.push({\r\n                pathname: `${process.env.REACT_APP_PATH_NAME}search`,\r\n                search: `?title=${title}`,\r\n                state: {}\r\n            });\r\n        }\r\n        else if (options.length === 1) {\r\n            history.push({\r\n                pathname: `${process.env.REACT_APP_PATH_NAME}film/${options[0].id}`,\r\n                search: '',\r\n                state: {}\r\n            });\r\n        } else {\r\n            history.push({\r\n                pathname: `${process.env.REACT_APP_PATH_NAME}search`,\r\n                search: `?title=${title}`,\r\n                state: { films: options }\r\n            });\r\n        }\r\n\r\n        dispatch({\r\n            type: 'clear'\r\n        })\r\n    }\r\n\r\n\r\n    const handleLogoutClick = () => {\r\n        logout()\r\n    };\r\n\r\n    const handleProfileClick = () => {\r\n        history.push(`${process.env.REACT_APP_PATH_NAME}profile`)\r\n    };\r\n\r\n    const handleSettingsClick = () => {\r\n        let pathname = location.pathname\r\n        if (pathname === process.env.REACT_APP_PATH_NAME) pathname = pathname.slice(0, -1)\r\n\r\n        history.push({\r\n            pathname: `${pathname}/settings`,\r\n            search: location.search,\r\n            state: location.state\r\n        });\r\n    }\r\n\r\n    const handleSearch = useCallback((query) => {\r\n        dispatch({\r\n            type: 'search',\r\n            payload: query\r\n        })\r\n    }, []);\r\n\r\n    const handleLogin = () => {\r\n        let pathname = location.pathname\r\n        if (pathname === process.env.REACT_APP_PATH_NAME) pathname = pathname.slice(0, -1)\r\n        history.push({\r\n            pathname: `${pathname}/login`,\r\n            search: location.search,\r\n            state: location.state\r\n        });\r\n    }\r\n\r\n    return (\r\n\r\n        <nav\r\n            className=\"navbar navbar-expand-md navbar-light bg-light py-2 px-4\">\r\n            <div className=\"col-5 col-sm-2 col-md-4 order-first order-sm-first order-md-first pb-2\">\r\n                <div className=\"navbar-brand d-flex align-items-center\"\r\n                    onClick={() => history.push(process.env.REACT_APP_PATH_NAME)}>\r\n                    <img alt=\"\"\r\n                        className=\"cursor-pointer\"\r\n                        src={headerIcon}\r\n                        width=\"30\"\r\n                        height=\"30\" />\r\n                    <span className=\"navbar-brand d-none d-md-inline m-0 pl-3 cursor-pointer\">FilmApp</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"col-6 order-2 col-sm-2 order-sm-last text-right d-md-none m-button\">\r\n                <button type=\"button\" className=\"navbar-toggler m-button\"\r\n                    aria-controls=\"navbar-collapse-menu\" data-toggle=\"collapse\"\r\n                    data-target=\"#navbar-collapse-menu\" aria-expanded=\"false\" aria-label=\"toggle-navigation\" >\r\n                    <span className=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"col-12 order-3 col-sm-8 order-sm-2 col-md-5 order-md-5\" >\r\n                <form id=\"search-form\" className=\"row row-cols-lg-auto align-items-center\">\r\n                    <div className=\"row m-0 w-100\">\r\n                        <div className=\"col-12 col-sm-10 p-0 mt-2 m-sm-0\">\r\n                            <AsyncTypeahead\r\n                                ref={typeaheadRef}\r\n                                className=\"search-bar\"\r\n                                useCache={false}\r\n                                filterBy={filterBy}\r\n                                id=\"typeahead-navbar\"\r\n                                isLoading={true}\r\n                                open={isOpen}\r\n                                placeholder=\"Search\"\r\n                                labelKey=\"title\"\r\n                                minLength={1}\r\n                                options={options}\r\n                                onSearch={handleSearch}\r\n                                onBlur={(event) => dispatch({ type: 'field', fieldName: 'isOpen', payload: false })}\r\n                                onFocus={(event) => {\r\n                                    if (title !== '')\r\n                                        dispatch({ type: 'field', fieldName: 'isOpen', payload: true })\r\n                                }}\r\n                                onKeyDown={(event) => dispatch({ type: 'field', fieldName: 'isOpen', payload: true })}\r\n                                onMenuToggle={(isOpen) => dispatch({ type: 'field', fieldName: 'isOpen', payload: isOpen })}\r\n                                onInputChange={(text, event) => {\r\n                                    dispatch({\r\n                                        type: 'field',\r\n                                        fieldName: 'title',\r\n                                        payload: text\r\n                                    })\r\n                                    if (text === '')\r\n                                        dispatch({\r\n                                            type: 'field',\r\n                                            fieldName: 'options',\r\n                                            payload: []\r\n                                        })\r\n                                }}\r\n                                onChange={(selected) => {\r\n                                    const title = selected.length > 0 ? selected[0].title : '';\r\n                                    dispatch({\r\n                                        type: 'pick-option',\r\n                                        title: title,\r\n                                        selected: selected.length > 0 ? selected[0] : null\r\n                                    })\r\n                                }}\r\n                                renderMenu={(results, menuProps) => (\r\n                                    <AsyncMenu {...menuProps} className=\"pt-4 pb-4\">\r\n                                        {results.map((result, index) => (\r\n                                            <AsyncMenuItem key={result.id} option={result} position={index}>\r\n                                                <div className=\"row p-0 m-0 entry__inner\" onClick={(e) => {\r\n                                                    e.stopPropagation()\r\n                                                    e.preventDefault()\r\n                                                    dispatch({\r\n                                                        type: 'clear'\r\n                                                    })\r\n                                                    document.getElementById(\"search-form\").reset();\r\n                                                    if (typeaheadRef) typeaheadRef.current.clear();\r\n\r\n                                                    history.push({\r\n                                                        pathname: `${process.env.REACT_APP_PATH_NAME}film/${result.id}`,\r\n                                                        search: '',\r\n                                                        state: {}\r\n                                                    });\r\n\r\n                                                }}>\r\n                                                <picture>\r\n                                                    <source type=\"image/webp\" src={result.imgWebp} />\r\n                                                    <source type=\"image/jpeg\" src={result.imgNormal} />\r\n                                                    <img\r\n                                                        className=\"p-0 search-menu-image\"\r\n                                                        alt=\"\"\r\n                                                        src={result.imgNormal}\r\n                                                    />\r\n                                                </picture>\r\n                                                  \r\n                                                    <span className=\"entry__text\">{result.title}</span>\r\n                                                </div>\r\n                                            </AsyncMenuItem>\r\n                                        ))}\r\n\r\n\r\n\r\n                                        {!isLoading && !isSearching && results.length === 0 && <a role=\"option\" className=\"dropdown-item disabled\" href=\"#\">No matches found.</a>}\r\n                                        {isSearching && <a role=\"option\" className=\"dropdown-item disabled\" href=\"#\">Searching...</a>}\r\n                                        {\r\n                                            <div className=\"d-flex justify-content-center search-menu-spinner\">\r\n                                                {isLoading && !isAllFetched && <div className=\"spinner-border\" />}\r\n                                            </div>\r\n                                        }\r\n                                    </AsyncMenu>\r\n                                )}\r\n\r\n                            />\r\n                        </div>\r\n                        <div className=\"col col-sm-2\">\r\n                            <button type=\"button\" onClick={handleSearchSubmit}\r\n                                className=\"btn btn-light d-none d-sm-inline\">\r\n                                <FontAwesomeIcon icon={faSearch} />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n\r\n\r\n            <div className=\"collapse navbar-collapse justify-content-end col-12 order-last col-sm-12 order-sm-last col-md-3 order-md-last p-0\"\r\n                id=\"navbar-collapse-menu\">\r\n\r\n                <div className=\"navbar-nav d-block d-sm-block d-md-flex align-items-center\">\r\n                    <div className=\"nav-item px-2 my-2 px-md-1 my-md-0\">\r\n                        <span className=\"d-inline cursor-pointer nav-link p-0\" onClick={handleShowPlaylists}>Playlists</span>\r\n                    </div>\r\n                    {user.auth && <div className=\"nav-item px-2 mb-2 px-md-1 mb-md-0\">\r\n                        <span className=\"d-inline cursor-pointer nav-link p-0\" onClick={handleAddFilm}>Add</span>\r\n                    </div>}\r\n\r\n                    {\r\n                        user.auth ?\r\n                            (\r\n                                <Menu\r\n                                    className=\"avatar-menu-items\"\r\n                                    align={onMediumScreen ? \"start\" : \"end\"}\r\n                                    viewScroll=\"close\"\r\n                                    position=\"initial\"\r\n                                    direction=\"bottom\"\r\n                                    menuButton={\r\n                                        <div\r\n                                            className=\"my-0 p-md-0 custom-avatar m-button\">\r\n                                            {user.name.toUpperCase().charAt(0)}\r\n                                        </div>\r\n                                    }\r\n                                >\r\n                                    <MenuItem onClick={handleProfileClick}>Profile</MenuItem>\r\n                                    <MenuItem onClick={handleSettingsClick}>Settings</MenuItem>\r\n                                    <MenuItem onClick={handleLogoutClick}>Logout</MenuItem>\r\n                                </Menu>\r\n\r\n\r\n                            ) :\r\n                            (\r\n                                <div className=\"nav-item pr-2 pl-2\">\r\n                                    <span className=\"d-inline cursor-pointer nav-link p-0\"\r\n                                        onClick={() => handleLogin()}>Login</span>\r\n                                </div>\r\n                            )\r\n                    }\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default NavbarComponent","export default \"data:image/png;base64,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\"","import axios from '../helpers/axios'\r\nimport authHeader from '../helpers/authHeader'\r\n\r\n\r\nexport const all = (params) => axios.get('films/', {params})\r\nexport const index = (id) => axios.get(`films/${id}`)\r\nexport const search = (params) => axios.get('films/search', {params})\r\n\r\nexport const view = (id) => axios.patch(`films/${id}/view`)\r\n\r\nexport const video = (id) => axios.get(`films/${id}/video`)\r\nexport const thumbnail = (id, params) => axios.get(`films/${id}/thumbnail`, {params})\r\n\r\nexport const create = (form) => axios.post(`films`, form, {headers: authHeader()})\r\n\r\nexport const update = (id, form) => axios.put(`films/${id}`, form, {headers: authHeader()})\r\nexport const partialUpdate = (id, form) => axios.patch(`films/${id}`, form, {headers: authHeader()})\r\n\r\nexport const like = (id, form) => axios.patch(`films/${id}/action`, form, {headers: authHeader()})\r\n\r\nexport const remove = (id) => axios.delete(`films/${id}`, { headers: authHeader() })\r\n\r\n\r\n\r\n","import { useCallback, useEffect, useRef, useMemo } from 'react';\r\nimport lodashDebounce from 'lodash.debounce';\r\n\r\nconst createCallback = (debounce, handleOnScroll, options) => {\r\n  if (debounce) {\r\n    return lodashDebounce(handleOnScroll, debounce, options);\r\n  } else {\r\n    return handleOnScroll;\r\n  }\r\n};\r\n\r\nfunction useBottomScrollListener(\r\n  onBottom = () => { },\r\n  options = {},\r\n) {\r\n  const { offset, triggerOnNoScroll, debounce, debounceOptions, id } = useMemo(\r\n    () => ({\r\n      offset: options?.offset ?? 20,\r\n      debounce: options?.debounce ?? 200,\r\n      debounceOptions: options?.debounceOptions ?? { leading: true },\r\n      triggerOnNoScroll: options?.triggerOnNoScroll ?? false,\r\n      id: options?.id ?? null\r\n    }),\r\n    [options?.offset, options?.debounce, options?.debounceOptions, options?.triggerOnNoScroll, options?.id],\r\n  );\r\n\r\n  const debouncedOnBottom = useMemo(() => createCallback(debounce, onBottom, debounceOptions), [onBottom, debounce, debounceOptions]);\r\n  const containerRef = useRef(null);\r\n  const handleOnScroll = useCallback(() => {\r\n\r\n    if (containerRef.current != null) {\r\n      const scrollNode = containerRef.current;\r\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\r\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\r\n\r\n      if (scrollPosition <= scrollContainerBottomPosition) {\r\n        debouncedOnBottom();\r\n      }\r\n    } else if (id !== null) {\r\n      const scrollNode = document.getElementById(id);\r\n      if (scrollNode) {\r\n        const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\r\n        const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\r\n        if (scrollPosition <= scrollContainerBottomPosition) {\r\n          debouncedOnBottom();\r\n        }\r\n      }\r\n    } else {\r\n      const scrollNode = document.scrollingElement || document.documentElement;\r\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + window.innerHeight);\r\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\r\n\r\n      if (scrollPosition <= scrollContainerBottomPosition) {\r\n        debouncedOnBottom();\r\n      }\r\n    }\r\n  }, [debouncedOnBottom, offset, id]);\r\n\r\n  useEffect(() => {\r\n    const ref = containerRef.current;\r\n    const node = document.getElementById(id)\r\n\r\n    if (ref != null) {\r\n      ref.addEventListener('scroll', handleOnScroll);\r\n    } else if (node !== null) {\r\n      node.addEventListener('scroll', handleOnScroll);\r\n    } else {\r\n      window.addEventListener('scroll', handleOnScroll);\r\n    }\r\n\r\n    if (triggerOnNoScroll) {\r\n      handleOnScroll();\r\n    }\r\n\r\n    return () => {\r\n      if (ref != null) {\r\n        ref.removeEventListener('scroll', handleOnScroll);\r\n      } else if (node !== null) {\r\n        node.addEventListener('scroll', handleOnScroll);\r\n      } else {\r\n        window.removeEventListener('scroll', handleOnScroll);\r\n      }\r\n    };\r\n  }, [handleOnScroll, triggerOnNoScroll, id]);\r\n\r\n  return containerRef;\r\n}\r\n\r\nexport default useBottomScrollListener;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useWindowsWidth = (width = 600) => {\r\n  const [isScreenSmall, setIsScreenSmall] = useState(window.innerWidth < width);\r\n\r\n  let checkScreenSize = () => {\r\n    setIsScreenSmall(window.innerWidth < width);\r\n  };\r\n  useEffect(() => {\r\n    checkScreenSize();\r\n    window.addEventListener(\"resize\", checkScreenSize);\r\n\r\n    return () => window.removeEventListener(\"resize\", checkScreenSize);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return isScreenSmall;\r\n};\r\n\r\nexport default useWindowsWidth;\r\n"],"sourceRoot":""}