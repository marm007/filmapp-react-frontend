(this.webpackJsonpfilmapp_frontened=this.webpackJsonpfilmapp_frontened||[]).push([[10],{481:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o}));var a=10,i=12,r=10,c=40,o=20},482:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var a=n(23),i=n(57),r=function(e){return a.a.post("playlists",e,{headers:Object(i.a)()})},c=function(e){return a.a.get("playlists/".concat(e),{headers:Object(i.a)()})},o=function(e){return a.a.get("playlists",{params:e,headers:Object(i.a)()})},s=function(e,t){return a.a.patch("playlists/".concat(e),t,{headers:Object(i.a)()})},l=function(e){return a.a.delete("playlists/".concat(e),{headers:Object(i.a)()})}},483:function(e,t,n){"use strict";var a=n(25),i=n.n(a),r=n(41),c=n(16),o=n(270),s=n(479),l=n(190),u=n(0),f=n(482),d=n(1);t.a=function(e){var t=e.isPublic,n=e.id,a=e.isProfile,p=e.dispatchPrivacyUpdate,m=e.filmDispatch,b=Object(u.useState)(!1),h=Object(c.a)(b,2),y=h[0],j=h[1];Object(u.useEffect)((function(){function e(){return(e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.c(n,{is_public:!t}).then((function(e){j(!1),p({type:"change-playlist-privacy-success",payload:e.data}),void 0!==m&&m({type:"field",fieldName:"reloadPlaylist",payload:!0})})).catch((function(e){console.error(e),j(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y&&function(){e.apply(this,arguments)}()}),[p,y,t,n,m]);var x=Object(d.jsx)(s.a,{style:{marginLeft:"auto",borderRadius:"20px",width:"24px",height:"24px"},className:"m-button",onClick:function(e){e.stopPropagation(),y||j(!0)},children:Object(d.jsx)(l.a,{icon:t?"globe-europe":"lock"})});return a?Object(d.jsx)(o.a,{className:"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0",children:Object(d.jsx)(o.a,{className:"remove-holder p-0 m-0 flex-grow-0",style:{height:"24px",width:"24"},children:x})}):x}},484:function(e,t,n){"use strict";var a=n(16),i=n(0),r=n(502),c=n(1);t.a=function(e){var t=Object(i.useState)("data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="),n=Object(a.a)(t,2),o=n[0],s=n[1];return Object(i.useEffect)((function(){s(e.image)}),[e.image]),Object(c.jsx)(r.a,{aspectRatio:"16x9",children:Object(c.jsx)("img",{alt:"",className:"embed-responsive-item play-image",src:o})})}},486:function(e,t,n){"use strict";var a,i,r;i=[t,n(0),n(3)],void 0===(r="function"===typeof(a=function(t,n,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n),r=c(a);function c(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(null==e)return{};var n,a,i=l(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function p(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?b(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){function t(){var e,n;u(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return j(b(n=p(this,(e=m(t)).call.apply(e,[this].concat(i)))),"onResize",(function(){n.rafId&&window.cancelAnimationFrame(n.rafId),n.rafId=window.requestAnimationFrame(n.update.bind(b(n)))})),j(b(n),"onToggled",(function(e){"function"===typeof n.props.onToggled&&setTimeout((function(){return n.props.onToggled(e)}),0)})),j(b(n),"onTruncated",(function(){"function"===typeof n.props.onTruncated&&setTimeout((function(){return n.props.onTruncated()}),0)})),j(b(n),"onCalculated",(function(){"function"===typeof n.props.onCalculated&&setTimeout((function(){return n.props.onCalculated()}),0)})),j(b(n),"update",(function(){var e=window.getComputedStyle(n.scope),t=[e["font-weight"],e["font-style"],e["font-size"],e["font-family"],e["letter-spacing"]].join(" ");n.canvas.font=t,n.forceUpdate()})),n}return h(t,e),d(t,[{key:"componentDidMount",value:function(){var e=document.createElement("canvas"),t=document.createDocumentFragment(),n=window.getComputedStyle(this.scope),a=[n["font-weight"],n["font-style"],n["font-size"],n["font-family"]].join(" ");t.appendChild(e),this.canvas=e.getContext("2d"),this.canvas.font=a,this.forceUpdate(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.rafId&&window.cancelAnimationFrame(this.rafId)}},{key:"measureWidth",value:function(e){return Math.ceil(this.canvas.measureText(e).width)}},{key:"getRenderText",value:function(){var e=this.props,t=(e.containerClassName,e.element,e.line),a=(e.onCalculated,e.onTruncated,e.onToggled,e.text),r=e.textElement,c=e.textTruncateChild,o=e.truncateText,l=e.maxCalculateTimes,u=s(e,["containerClassName","element","line","onCalculated","onTruncated","onToggled","text","textElement","textTruncateChild","truncateText","maxCalculateTimes"]),f=this.scope.getBoundingClientRect().width;if(0===f)return null;if(f>=this.measureWidth(a))return this.onToggled(!1),(0,n.createElement)(r,u,a);var d="";if(c&&"string"===typeof c.type){var p=c.type;(p.indexOf("span")>=0||p.indexOf("a")>=0)&&(d=c.props.children)}for(var m=1,b=a.length,h="",y=0,j=0,x=t,O=0,g=!1,v=!1,w=0,C=-1,T="",A=0;x-- >0;){for(T=x?"":o+(d?" "+d:"");m<=b;){if(h=a.substr(j,m),!((O=this.measureWidth(h+T))<f)){do{if(A++>=l)break;h=a.substr(j,m),x||m--," "===h[h.length-1]&&(h=a.substr(j,m-1)),g&&(C=h.lastIndexOf(" "))>-1?(m=C,x&&m++,h=a.substr(j,m)):(m--,h=a.substr(j,m)),O=this.measureWidth(h+T)}while(O>=f&&h.length>0);j+=m;break}-1===(y=a.indexOf(" ",m+1))?(m+=1,g=!1):(g=!0,m=y)}if(m>=b){j=b;break}g&&!v&&-1===a.substr(w,m).indexOf(" ")&&(v=-1===a.substr(w,m).indexOf(" "),x--),w=m+1}return j===b?(this.onToggled(!1),(0,n.createElement)(r,u,a)):(this.onTruncated(),this.onToggled(!0),i.default.createElement("span",u,(0,n.createElement)(r,u,a.substr(0,j)+o+" "),c))}},{key:"render",value:function(){var e=this,t=this.props,a=t.element,i=t.text,r=t.style,c=void 0===r?{}:r,o=t.containerClassName,l=t.line,u=(t.onCalculated,t.onTruncated,t.onToggled,t.textElement),f=(t.textTruncateChild,t.truncateText,t.maxCalculateTimes,s(t,["element","text","style","containerClassName","line","onCalculated","onTruncated","onToggled","textElement","textTruncateChild","truncateText","maxCalculateTimes"])),d=c.fontWeight,p=c.fontStyle,m=c.fontSize,b=c.fontFamily,h=this.scope&&l?this.getRenderText():(0,n.createElement)(u,f,i),y={ref:function(t){e.scope=t},className:o,style:{overflow:"hidden",fontWeight:d,fontStyle:p,fontSize:m,fontFamily:b}};return this.scope&&this.onCalculated(),(0,n.createElement)(a,y,h)}}]),t}(n.Component);j(x,"propTypes",{containerClassName:r.default.string,element:r.default.string,line:r.default.oneOfType([r.default.number,r.default.bool]),onCalculated:r.default.func,onTruncated:r.default.func,onToggled:r.default.func,text:r.default.string,textElement:r.default.node,textTruncateChild:r.default.node,truncateText:r.default.string,maxCalculateTimes:r.default.number}),j(x,"defaultProps",{element:"div",line:1,text:"",textElement:"span",truncateText:"\u2026",maxCalculateTimes:10}),t.default=x,e.exports=t.default})?a.apply(t,i):a)||(e.exports=r)},487:function(e,t,n){"use strict";var a=n(270),i=n(479),r=n(190),c=n(1);t.a=function(e){var t=e.handleRemove;return Object(c.jsx)(a.a,{className:"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0",children:Object(c.jsx)(a.a,{className:"remove-holder p-0 m-0 flex-grow-0",style:{height:"24px",width:"24px"},children:Object(c.jsx)(i.a,{style:{marginLeft:"auto",borderRadius:"20px",width:"24px",height:"24px"},className:"m-button ",onClick:t,children:Object(c.jsx)(r.a,{icon:"trash-alt"})})})})}},502:function(e,t,n){"use strict";var a=n(2),i=n(8),r=n(6),c=n.n(r),o=n(0),s=n(9),l=n(1),u=["bsPrefix","className","children","aspectRatio","style"];var f=o.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,f=e.children,d=e.aspectRatio,p=e.style,m=Object(i.a)(e,u);n=Object(s.a)(n,"ratio");var b,h="number"===typeof d;return Object(l.jsx)("div",Object(a.a)(Object(a.a)({ref:t},m),{},{style:Object(a.a)(Object(a.a)({},p),h&&{"--bs-aspect-ratio":(b=d,b<=0||b>100?"100%":"".concat(b<1?100*b:b,"%"))}),className:c()(n,r,!h&&"".concat(n,"-").concat(d)),children:o.Children.only(f)}))}));f.defaultProps={aspectRatio:"1x1"},t.a=f},504:function(e,t,n){"use strict";var a=n(16),i=n(0),r=n(270),c=n(470),o=n(190),s=n(486),l=n.n(s),u=n(484),f=n(487),d=n(483),p=n(1);t.a=function(e){var t=e.playlist,n=e.handleRedirect,s=e.handleRemove,m=e.isProfile,b=e.dispatchPrivacyUpdate,h=m?8:10,y=Object(i.useState)("mb-5 play-outer-container remove-container"),j=Object(a.a)(y,2),x=j[0],O=j[1];return Object(i.useEffect)((function(){t.film_id||O("mb-5 play-cursor-default remove-container")}),[t.film_id]),Object(p.jsx)(r.a,{xs:12,sm:6,md:3,lg:2,children:Object(p.jsxs)(r.a,{className:x,onClick:function(){return n(t.id,t.film_id)},children:[Object(p.jsxs)("div",{className:"embed-responsive embed-responsive-16by9 z-depth-1-half play-container",children:[Object(p.jsx)(u.a,{image:t.img}),Object(p.jsxs)(c.a,{style:{width:"100%",margin:0},className:"play-middle",children:[Object(p.jsx)(r.a,{xs:5,sm:5,style:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:Object(p.jsx)(o.a,{icon:"play"})}),Object(p.jsx)(r.a,{xs:7,sm:7,style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:Object(p.jsx)("small",{className:"fw-bold",children:"Play all"})})]})]}),Object(p.jsxs)(c.a,{className:"m-0",children:[Object(p.jsx)(r.a,{xs:h,sm:h,className:"p-0",children:Object(p.jsx)(l.a,{line:1,text:t.title,className:"mb-1 mt-1 title "})}),m&&Object(p.jsxs)(r.a,{xs:4,sm:4,className:"p-0 d-flex justify-content-end",children:[Object(p.jsx)(d.a,{id:t.id,isPublic:t.is_public,isProfile:!0,dispatchPrivacyUpdate:b}),Object(p.jsx)(f.a,{handleRemove:s})]})]}),Object(p.jsx)("p",{className:"mb-0 author-nick-color",children:Object(p.jsx)("small",{children:t.author_name})})]})},t.id)}},613:function(e,t,n){"use strict";n.r(t);var a=n(25),i=n.n(a),r=n(41),c=n(16),o=n(0),s=n(22),l=n(470),u=n(471),f=n(482),d=n(155),p=n(17),m=n(2),b=n(481),h={playlists:null,playlistsCount:0,isLoading:!1,isAllFetched:!1,isInitialLoaded:!1,error:null},y=function(e,t){switch(t.type){case"field":return Object(m.a)(Object(m.a)({},e),{},Object(p.a)({},t.fieldName,t.payload));case"initial-success":return Object(m.a)(Object(m.a)({},e),{},{playlists:Object(d.a)(new Set(Object(d.a)(t.playlists))),isLoading:!1,isInitialLoaded:!0,isAllFetched:t.responseCount<b.b,playlistsCount:e.playlistsCount+t.responseCount});case"load":return Object(m.a)(Object(m.a)({},e),{},{isLoading:!0,isAllFetched:!1,error:null});case"success":return Object(m.a)(Object(m.a)({},e),{},{playlists:Object(d.a)(new Set([].concat(Object(d.a)(e.playlists),Object(d.a)(t.playlists)))),isLoading:!1,isAllFetched:t.responseCount<b.c,playlistsCount:e.playlistsCount+t.responseCount,error:null});case"clear":return h;case"error":return Object(m.a)(Object(m.a)({},e),{},{isLoading:!1,isAllFetched:!1,error:t.payload});default:return e}},j=n(191),x=n(504),O=n(1);t.default=function(e){var t=Object(s.g)(),n=Object(o.useReducer)(y,h),a=Object(c.a)(n,2),d=a[0],p=a[1],m=d.playlists,g=d.isLoading,v=d.isAllFetched,w=d.isInitialLoaded,C=d.playlistsCount,T=Object(o.useCallback)((function(){g||v||!w||p({type:"load"})}),[v,g,w]);Object(j.a)(T,{triggerOnNoScroll:!0}),Object(o.useEffect)((function(){function e(){return(e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.e({limit:b.b}).then((function(e){var t=e.data,n=t.filter((function(e){return e.film_id}));n.forEach((function(e){e.img="".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.film_id,"/thumbnail?width=small_webp")})),p({type:"initial-success",playlists:n,responseCount:t.length})})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p({type:"clear"}),function(){e.apply(this,arguments)}()}),[]),Object(o.useEffect)((function(){function e(){return(e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.e({skip:C,limit:b.c}).then((function(e){var t=e.data,n=t.filter((function(e){return e.film_id}));n.forEach((function(e){e.img="".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.film_id,"/thumbnail?width=small_webp")})),p({type:"success",playlists:n,responseCount:t.length})})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g&&w&&function(){e.apply(this,arguments)}()}),[g,w,m,C]);var A=function(e,n){t.push({pathname:"".concat("/filmapp-react-frontend/","film/")+n,search:"?list=".concat(e)})};return Object(O.jsxs)(l.a,{className:"mt-5 mx-2",children:[m&&m.map((function(e,t){return Object(O.jsx)(x.a,{playlist:e,index:t,handleRedirect:A},e.id)})),!v&&Object(O.jsx)("div",{className:w?"fetch-loader d-flex justify-content-center":"suspense-loader",children:(g||!w)&&Object(O.jsx)(u.a,{className:w?"":"suspense-loader-spinner",animation:"border"})})]})}}}]);
//# sourceMappingURL=10.93188f80.chunk.js.map