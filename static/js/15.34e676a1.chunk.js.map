{"version":3,"sources":["components/dialogs/updateUser/reducer.js","components/dialogs/updateUser/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","helpers/index.js","components/models/input/index.js","services/userService.js"],"names":["userInitialState","name","email","settingsInitialState","password","initialUser","isInitialLoaded","isSubmitted","isSending","error","isSuccess","success","settingsReducer","state","action","type","fieldName","payload","Settings","useContext","UserContext","user","clearUser","updateUser","history","useHistory","location","useLocation","useReducer","dispatch","useEffect","auth","replace","process","push","a","userApi","then","res","data","catch","err","console","getUser","toUpdate","length","setTimeout","handleCloseModalWindow","accessToken","response","updateUserData","id","title","onClose","onSubmit","e","preventDefault","className","htmlFor","value","isInvalid","onChange","target","disabled","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined","displayCommentDate","comment","date","Date","parse","createdAt","getDate","slice","getMonth","getFullYear","getHours","getMinutes","parseSearchDate","film","today","time","Math","abs","floor","UTC","toSplit","pathname","split","historyObject","search","Input","placeholder","InputTag","inputRef","useRef","current","classList","add","remove","ref","me","params","axios","get","headers","authHeader","partialUpdate","body","patch"],"mappings":"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","file":"static/js/15.34e676a1.chunk.js","sourcesContent":["const userInitialState = {\n    name: '',\n    email: ''\n}\n\nexport const settingsInitialState = {\n    ...userInitialState,\n    password: '',\n    initialUser: userInitialState,\n    isInitialLoaded: false,\n    isSubmitted: false,\n    isSending: false,\n    error: '',\n    isSuccess: false,\n    success: '',\n}\n\nexport const settingsReducer = (state, action) => {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                error: '',\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'initial-success': {\n            return {\n                ...state,\n                email: action.email,\n                name: action.name,\n                initialUser: {\n                    email: action.email,\n                    name: action.name\n                },\n                isInitialLoaded: true\n            }\n        }\n        case 'submit': {\n            return {\n                ...state,\n                isSubmitted: true,\n                error: null,\n            }\n        }\n        case 'send': {\n            return {\n                ...state,\n                isSending: true\n            }\n        }\n        case 'success': {\n            return {\n                ...state,\n                isSubmitted: false,\n                isSending: false,\n                isSuccess: true,\n                success: action.payload ? action.payload : 'Changes saved successfully!',\n                error: null\n            }\n        }\n        case 'error': {\n            return {\n                ...state,\n                isSending: false,\n                isSubmitted: false,\n                isSuccess: false,\n                error: action.payload\n            }\n        }\n        default: return state\n    }\n}","import React, { useEffect, useReducer, useContext } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport UserContext from \"../../../helpers/contexts/user/userContext\";\nimport { settingsInitialState, settingsReducer } from \"./reducer\";\nimport * as userApi from '../../../services/userService'\nimport Modal from \"../../models/modal\";\nimport Input from \"../../models/input\";\nimport { handleCloseModalWindow } from \"../../../helpers\";\n\nconst Settings = () => {\n\n    const { user, clearUser, updateUser } = useContext(UserContext)\n\n    let history = useHistory()\n    let location = useLocation()\n\n    const [state, dispatch] = useReducer(settingsReducer, settingsInitialState)\n    // eslint-disable-next-line no-unused-vars\n    const { email, name, password, initialUser, isSubmitted, isSending, isInitialLoaded, success, isSuccess, error } = state\n\n\n    useEffect(() => {\n        if (!user.auth && user.isInitialLoaded) {\n            history.replace(`${process.env.REACT_APP_PATH_NAME}`)\n            history.push(`${process.env.REACT_APP_PATH_NAME}login`)\n            clearUser()\n        }\n    }, [user, history, clearUser])\n\n    useEffect(() => {\n        async function getUser() {\n            await userApi.me()\n                .then(res => {\n                    dispatch({\n                        type: 'initial-success',\n                        name: res.data.name,\n                        email: res.data.email\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                    dispatch({\n                        type: 'error',\n                        payload: true\n                    })\n                })\n        }\n        getUser()\n    }, [])\n\n    useEffect(() => {\n        async function updateUserData() {\n            let toUpdate = {}\n            if (password && password.length > 6) toUpdate = { password: password }\n            if (email) toUpdate = { ...toUpdate, email: email }\n            if (name) toUpdate = { ...toUpdate, name: name }\n\n            await userApi.partialUpdate(toUpdate)\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n\n                    setTimeout(() => {\n                        handleCloseModalWindow(history, '/settings')\n                        updateUser(res.data.accessToken)\n                    }, 500)\n                })\n                .catch(err => {\n                    console.error(err)\n                    dispatch({\n                        type: 'error',\n                        payload: err.response && err.response.data && err.response.data.error ? err.response.data.error : 'Something went wrong!'\n                    })\n                })\n        }\n        if (isSending) updateUserData()\n    }, [email, isSending, name, password, history, location, updateUser])\n\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if ((password && password.length >= 6) ||\n            email ||\n            name) {\n            dispatch({\n                type: 'send'\n            })\n        }\n    }\n\n    const modalClose = () => {\n        handleCloseModalWindow(history, '/settings')\n    }\n\n    return (\n        <Modal id=\"settingsModal\" title=\"Settings\" onClose={modalClose}>\n            <form onSubmit={isSending ? null : handleSubmit}>\n                <div>\n                    <label className=\"form-label\" htmlFor=\"name\">Name</label>\n                    <Input type=\"text\" name=\"name\"\n                        value={name}\n                        isInvalid={isSubmitted && !name}\n                        onChange={e => dispatch({ type: 'field', fieldName: 'name', payload: e.target.value })} />\n                    <div className=\"invalid-feedback\">\n                        Name cannot be empty\n                    </div>\n                </div>\n                <div className=\"mt-2 form-group\">\n                    <label className=\"form-label\" htmlFor=\"email\">Email</label>\n                    <Input type=\"email\" name=\"email\"\n                        value={email}\n                        isInvalid={isSubmitted && !email}\n                        onChange={e => dispatch({ type: 'field', fieldName: 'email', payload: e.target.value })} />\n                    <div className=\"invalid-feedback\">\n                        Email cannot be empty\n                    </div>\n                </div>\n                <div className=\"mt-2 form-group\">\n                    <label className=\"form-label\" htmlFor=\"password\">Password</label>\n                    <Input type=\"password\" name=\"password\" isInvalid={isSubmitted && (password && password.length < 6)}\n                        value={password} onChange={e => dispatch({ type: 'field', fieldName: 'password', payload: e.target.value })} />\n                    <div className=\"invalid-feedback\">\n                        Password must be at least 6 characters long!\n                    </div>\n                </div>\n                <div className=\"d-flex align-items-center mt-2\">\n                    <button type=\"submit\" className=\"btn btn-primary\"\n                        disabled={isSending || !isInitialLoaded ||\n                            (isInitialLoaded && email === initialUser.email && name === initialUser.name &&\n                                (!password || (password && password.length < 6)))}\n                    >\n                        Change\n                    </button>\n\n                    {\n                        isSending &&\n                        <div className=\"ml-2 spinner-grow\" />\n                    }\n                </div>\n            </form>\n            {\n                error &&\n                <div className=\"alert alert-danger mt-2 mb-0\">\n                    {error ? error : 'Error while logging in.'}\n                </div>\n            }\n            {\n                isSuccess &&\n                <div className=\"alert alert-success mt-2 mb-0\">\n                    {success}\n                </div>\n            }\n        </Modal>\n    )\n}\n\nexport default Settings","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export const checkIfPlaylistButtonClick = (target) => {\n    if ((target.tagName === 'path' && target.parentNode.className.animVal && target.parentNode.className.animVal.includes('playlist-add-icon')) ||\n        (target.tagName === 'svg' && target.className.animVal && target.className.animVal.includes('playlist-add-icon')) ||\n        (target.className && typeof target.className === 'string' && target.className.includes('playlist-add-icon-holder')))\n        return true\n    return false\n}\n\nexport const displayCommentDate = (comment) => {\n    let date = new Date(Date.parse(comment.createdAt));\n    let time = (('0' + date.getDate()).slice(-2) + '-' + ('0' + (date.getMonth() + 1)).slice(-2) + '-'\n        + ('0' + date.getFullYear()).slice(-2)\n        + ' o ' + ('0' + date.getHours()).slice(-2) + ':' + ('0' + date.getMinutes()).slice(-2))\n    return time;\n};\n\nexport const parseSearchDate = (film) => {\n\n    let date = new Date(Date.parse(film.createdAt));\n    let today = new Date();\n\n\n    let time = Math.abs(Math.floor((\n        Date.UTC(\n            date.getFullYear(),\n            date.getMonth(),\n            date.getDate(),\n            date.getHours(),\n            date.getMinutes()) -\n        Date.UTC(\n            today.getFullYear(),\n            today.getMonth(),\n            today.getDate(),\n            today.getHours(),\n            today.getMinutes()))\n        / (1000 * 60)));\n\n    if (time / 60 >= 1) {\n        time /= 60;\n\n        if (time / 24 >= 1) {\n\n            time /= 24;\n\n            if (time / 30 >= 1) {\n\n                time /= 30;\n\n                if (time / 12 >= 1) {\n\n                    time = time / 12;\n                    time = Math.floor(time) + ' years ';\n\n                } else {\n                    time = Math.floor(time) + ' months ';\n                }\n\n            } else {\n                time = Math.floor(time) + ' days ';\n            }\n\n        } else {\n            time = Math.floor(time) + ' hours ';\n        }\n    } else {\n        time = Math.floor(time) + ' minutes ';\n    }\n\n    time = time + 'ago';\n\n    return time;\n};\n\n\nexport const handleCloseModalWindow = (history, toSplit, replace = false) => {\n\n    let pathname = history.location.pathname.split(toSplit)[0]\n\n    const historyObject = {\n        pathname: pathname === '' ? process.env.REACT_APP_PATH_NAME : pathname,\n        search: history.location.search,\n        state: history.location.state\n    }\n\n    if (replace) {\n        history.replace(historyObject)\n    }\n    else {\n        history.push(historyObject)\n    }\n\n}","import { useEffect, useRef } from \"react\"\n\nconst Input = ({ isInvalid, onChange, type, name, value, placeholder = '' }) => {\n\n    const InputTag = type === 'textarea' ? 'textarea' : 'input'\n\n    const inputRef = useRef(null)\n\n    useEffect(() => {\n        let ref = inputRef.current\n        if (ref) {\n            if (isInvalid) inputRef.current.classList.add('is-invalid')\n            else inputRef.current.classList.remove('is-invalid')\n        }\n    }, [isInvalid])\n\n    return (\n        <InputTag ref={inputRef} className=\"form-control\"\n            placeholder={placeholder}\n            type={type} name={name}\n            value={value} onChange={onChange} />\n    )\n}\n\nexport default Input","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const me = (params) => axios.get('users/me', { params, headers: authHeader() })\nexport const partialUpdate = (body) => axios.patch('users', body, { headers: authHeader() })\n\nexport const userService = {\n    login,\n    logout,\n    register\n};\n\nfunction login(username, password) {\n\n    let loginHeaderMy = null\n\n    const requestOptions = {\n        method: 'POST',\n        headers: loginHeaderMy\n\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/auth`, requestOptions)\n        .then(handleResponse)\n        .then(user => {\n            localStorage.setItem('user', JSON.stringify(user));\n            return user;\n        })\n}\n\nfunction logout() {\n    localStorage.removeItem('user');\n}\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n    return fetch(`${process.env.REACT_APP_API_URL}/users/`, requestOptions)\n        .then(handleResponse);\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                logout();\n            }\n            const error = (data && data.errors) || response.statusText;\n            return Promise.reject(error);\n        }\n        return data;\n    })\n}\n\n"],"sourceRoot":""}