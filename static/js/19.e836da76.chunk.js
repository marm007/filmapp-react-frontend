(this.webpackJsonpfilmapp_frontened=this.webpackJsonpfilmapp_frontened||[]).push([[19],{518:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var s=r(7),a=r(139),n=r(46),c=r(1),i=r(541),o=r(553),l=r(140),d=r(2),u=function(e){var t=Object(s.g)(),r=Object(c.useReducer)(o.b,o.a),a=Object(n.a)(r,2),u=a[0],p=a[1],b=u.password,m=u.isSubmitted,f=u.isSending,j=u.isSuccess,h=u.isError,O=u.error;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{onSubmit:function(r){if(r.preventDefault(),p({type:"submit"}),e.match.params.token&&b&&b.length>=6)return p({type:"send"}),Object(l.e)(e.match.params.token,{password:b}).then((function(e){p({type:"success"}),setTimeout((function(){t.push("".concat("/filmapp-react-frontend/")),setTimeout((function(){t.push("".concat("/filmapp-react-frontend/","login"))}),500)}),1500)})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),p({type:"error",payload:t})}))},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(d.jsx)(i.a,{isInvalid:m&&b.length<6,type:"password",name:"password",value:b,onChange:function(e){return p({type:"field",fieldName:"password",payload:e.target.value})}}),Object(d.jsx)("div",{className:"invalid-feedback",children:0===b.length?"Password is required":"Password too short (min 6 chars)"})]}),Object(d.jsxs)("div",{className:"d-flex align-items-center mt-2 form-group",children:[Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset password"}),f&&Object(d.jsx)("div",{className:"spinner-grow ml-2"})]})]}),j&&Object(d.jsx)("div",{className:"alert alert-success mt-2",children:"Password has been reseated! Redirecting to login page."}),h&&Object(d.jsx)("div",{className:"alert alert-danger mt-2",children:O||"Error while resetting password."})]})};function p(){var e=Object(s.g)();return Object(d.jsx)(a.a,{id:"resetPasswordModal",title:"Reset",onClose:function(){e.push("".concat("/filmapp-react-frontend/"))},children:Object(d.jsx)(u,{})})}},541:function(e,t,r){"use strict";var s=r(1),a=r(2);t.a=function(e){var t=e.isInvalid,r=e.onChange,n=e.type,c=e.name,i=e.value,o=e.placeholder,l=void 0===o?"":o,d="textarea"===n?"textarea":"input",u=Object(s.useRef)(null);return Object(s.useEffect)((function(){u.current&&(t?u.current.classList.add("is-invalid"):u.current.classList.remove("is-invalid"))}),[t]),Object(a.jsx)(d,{ref:u,className:"form-control",placeholder:l,type:n,name:c,value:i,onChange:r})}},553:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return c}));var s=r(137),a=r(15),n={email:"",nick:"",password:"",isSubmitted:!1,isSending:!1,isSuccess:!1,isError:!1,error:null},c=function(e,t){switch(t.type){case"field":return Object(a.a)(Object(a.a)({},e),{},Object(s.a)({isSubmitted:!1},t.fieldName,t.payload));case"submit":return Object(a.a)(Object(a.a)({},e),{},{isError:!1,error:null,isSubmitted:!0});case"send":return Object(a.a)(Object(a.a)({},e),{},{isSending:!0});case"success":return Object(a.a)(Object(a.a)({},e),{},{isError:!1,error:null,isSending:!1,isSuccess:!0});case"error":return Object(a.a)(Object(a.a)({},e),{},{isSending:!1,isError:!0,error:t.payload});default:return e}}}}]);
//# sourceMappingURL=19.e836da76.chunk.js.map