(this.webpackJsonpfilmapp_frontened=this.webpackJsonpfilmapp_frontened||[]).push([[11],{507:function(e,t,r){"use strict";r.r(t);var n=r(526),a=r.n(n),s=r(527),i=r(60),c=r(1),o=r(7),u=r(139),l=r(539),d=r(547),f=r(140),b=r(2);t.default=function(){var e=Object(o.g)(),t=Object(c.useReducer)(d.b,d.a),r=Object(i.a)(t,2),n=r[0],m=r[1],p=n.email,j=n.isSuccess,v=n.isSubmitted,h=n.isSending,O=n.isError,x=n.error;Object(c.useEffect)((function(){function e(){return(e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a({email:p}).then((function(e){m({type:"success"})})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),m({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h&&function(){e.apply(this,arguments)}()}),[h,p]);return Object(b.jsx)(u.a,{id:"forgotPasswordModal",title:"Forgot",onClose:function(){e.goBack()},children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m({type:"submit"}),p&&m({type:"send"})},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)(l.a,{isInvalid:v&&!p,type:"email",name:"email",value:p,onChange:function(e){return m({type:"field",fieldName:"email",payload:e.target.value})}}),Object(b.jsx)("div",{className:"invalid-feedback",children:"Email is required"})]}),j&&Object(b.jsx)("div",{className:"alert alert-danger mt-2",children:"Email with link to reset password has been sent."}),O&&Object(b.jsx)("div",{className:"alert alert-danger mt-2",children:x||"Error while sending email."}),Object(b.jsxs)("div",{className:"d-flex align-items-center mt-2",children:[Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset password"}),h&&Object(b.jsx)("div",{className:"spinner-grow ml-2"})]})]})})}},526:function(e,t,r){e.exports=r(240)},527:function(e,t,r){"use strict";function n(e,t,r,n,a,s,i){try{var c=e[s](i),o=c.value}catch(u){return void r(u)}c.done?t(o):Promise.resolve(o).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,s){var i=e.apply(t,r);function c(e){n(i,a,s,c,o,"next",e)}function o(e){n(i,a,s,c,o,"throw",e)}c(void 0)}))}}r.d(t,"a",(function(){return a}))},539:function(e,t,r){"use strict";var n=r(1),a=r(2);t.a=function(e){var t=e.isInvalid,r=e.onChange,s=e.type,i=e.name,c=e.value,o=e.placeholder,u=void 0===o?"":o,l="textarea"===s?"textarea":"input",d=Object(n.useRef)(null);return Object(n.useEffect)((function(){d.current&&(t?d.current.classList.add("is-invalid"):d.current.classList.remove("is-invalid"))}),[t]),Object(a.jsx)(l,{ref:d,className:"form-control",placeholder:u,type:s,name:i,value:c,onChange:r})}},547:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i}));var n=r(137),a=r(15),s={email:"",nick:"",password:"",isSubmitted:!1,isSending:!1,isSuccess:!1,isError:!1,error:null},i=function(e,t){switch(t.type){case"field":return Object(a.a)(Object(a.a)({},e),{},Object(n.a)({isSubmitted:!1},t.fieldName,t.payload));case"submit":return Object(a.a)(Object(a.a)({},e),{},{isError:!1,error:null,isSubmitted:!0});case"send":return Object(a.a)(Object(a.a)({},e),{},{isSending:!0});case"success":return Object(a.a)(Object(a.a)({},e),{},{isError:!1,error:null,isSending:!1,isSuccess:!0});case"error":return Object(a.a)(Object(a.a)({},e),{},{isSending:!1,isError:!0,error:t.payload});default:return e}}}}]);
//# sourceMappingURL=11.4ec79a39.chunk.js.map