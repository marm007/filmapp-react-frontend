(this.webpackJsonpfilmapp_frontened=this.webpackJsonpfilmapp_frontened||[]).push([[1],{117:function(e,t,n){"use strict";var a=n(0),c=Object(a.createContext)("");t.a=c},118:function(e,t,n){"use strict";var a=n(0),c=Object(a.createContext)({show:!1,isRemoving:!1,id:null,type:null,title:""});t.a=c},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));var a=n(23),c=n(57),r=function(e){return a.a.get("films/",{params:e})},s=function(e){return a.a.get("films/".concat(e))},i=function(e){return a.a.get("films/search",{params:e})},o=function(e){return a.a.patch("films/".concat(e,"/view"))},l=function(e){return a.a.post("films",e,{headers:Object(c.a)()})},d=function(e,t){return a.a.patch("films/".concat(e,"/action"),t,{headers:Object(c.a)()})},u=function(e){return a.a.delete("films/".concat(e),{headers:Object(c.a)()})}},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n(23),c=n(57),r=function(e){return a.a.get("users/me",{params:e,headers:Object(c.a)()})},s=function(e){return a.a.patch("users",e,{headers:Object(c.a)()})}},191:function(e,t,n){"use strict";var a=n(0),c=n(134),r=n.n(c),s=function(e,t,n){return e?r()(t,e,n):t};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(a.useMemo)((function(){var e,n,a,c,r;return{offset:null!==(e=null===t||void 0===t?void 0:t.offset)&&void 0!==e?e:20,debounce:null!==(n=null===t||void 0===t?void 0:t.debounce)&&void 0!==n?n:200,debounceOptions:null!==(a=null===t||void 0===t?void 0:t.debounceOptions)&&void 0!==a?a:{leading:!0},triggerOnNoScroll:null!==(c=null===t||void 0===t?void 0:t.triggerOnNoScroll)&&void 0!==c&&c,id:null!==(r=null===t||void 0===t?void 0:t.id)&&void 0!==r?r:null}}),[null===t||void 0===t?void 0:t.offset,null===t||void 0===t?void 0:t.debounce,null===t||void 0===t?void 0:t.debounceOptions,null===t||void 0===t?void 0:t.triggerOnNoScroll,null===t||void 0===t?void 0:t.id]),c=n.offset,r=n.triggerOnNoScroll,i=n.debounce,o=n.debounceOptions,l=n.id,d=Object(a.useMemo)((function(){return s(i,e,o)}),[e,i,o]),u=Object(a.useRef)(null),j=Object(a.useCallback)((function(){if(null!=u.current){var e=u.current,t=Math.round(e.scrollTop+e.clientHeight);Math.round(e.scrollHeight-c)<=t&&d()}else if(null!==l){var n=document.getElementById(l);if(n){var a=Math.round(n.scrollTop+n.clientHeight);Math.round(n.scrollHeight-c)<=a&&d()}}else{var r=document.scrollingElement||document.documentElement,s=Math.round(r.scrollTop+window.innerHeight);Math.round(r.scrollHeight-c)<=s&&d()}}),[d,c,l]);return Object(a.useEffect)((function(){var e=u.current,t=document.getElementById(l);return null!=e?e.addEventListener("scroll",j):null!==t?t.addEventListener("scroll",j):window.addEventListener("scroll",j),r&&j(),function(){null!=e?e.removeEventListener("scroll",j):null!==t?t.addEventListener("scroll",j):window.removeEventListener("scroll",j)}}),[j,r,l]),u}},23:function(e,t,n){"use strict";var a=n(267),c=n.n(a).a.create({baseURL:"https://marm007-filmapp-backend-node.herokuapp.com/api/"});t.a=c},253:function(e,t,n){"use strict";var a=n(16),c=n(0);t.a=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],s=function(){r(window.innerWidth<600)};return Object(c.useEffect)((function(){return s(),window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[]),n}},379:function(e,t,n){},381:function(e,t,n){},421:function(e,t,n){},447:function(e,t,n){"use strict";n.r(t);n(282),n(283),n(284),n(229);var a=n(0),c=n(20),r=n.n(c),s=(n(379),n(2)),i=(n(380),n(381),n(25)),o=n.n(i),l=n(41),d=n(16),u=n(22),j=n(190),b=n(477),p=n(475),m=n(192),f=n(472),h=n(467),O=n(468),g=n(456),x=n(473),v=n(271),y=n.n(v),w=n(153),A=n.n(w),N=n(157),k=n(154),C=n(51),L=(n(420),n(421),n(155)),S=n(17),E={options:[],isLoading:!1,isAllFetched:!1,isSearching:!1,isOpen:!1,selected:null,title:""};function B(e,t){switch(t.type){case"field":return Object(s.a)(Object(s.a)({},e),{},Object(S.a)({selected:null},t.fieldName,t.payload));case"pick-option":return Object(s.a)(Object(s.a)({},e),{},{title:t.title,selected:t.selected});case"success-load":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isSearching:!1,isAllFetched:t.payload.length<10,options:[].concat(Object(L.a)(e.options),Object(L.a)(t.payload))});case"success-search":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isSearching:!1,isAllFetched:t.payload.length<10,options:t.payload});case"clear":return E;case"load":return e.isLoading||e.isAllFetched?e:Object(s.a)(Object(s.a)({},e),{},{isLoading:!0,isAllFetched:!1,isSearching:!1});case"search":return Object(s.a)(Object(s.a)({},e),{},{options:[],isSearching:!0,isLoading:!1,isAllFetched:!1});default:return e}}var I=n(191),T=n(253),F=n(60),P=n(1);var D=function(e){var t=Object(u.g)(),n=Object(u.h)(),c=Object(T.a)(),r=Object(a.useContext)(C.a),i=r.user,v=r.logout,w=Object(a.useReducer)(B,E),L=Object(d.a)(w,2),S=L[0],D=L[1],H=Object(a.useState)(!1),G=Object(d.a)(H,2),R=G[0],U=G[1],Y=S.options,M=S.title,J=S.isLoading,X=S.isAllFetched,z=S.isSearching,K=S.isOpen,Z=S.selected,V=Object(a.useCallback)((function(){J||X||z||!K||D({type:"load"})}),[J,X,z,K]);Object(I.a)(V,{id:"typeahead-navbar"});var W=Object(a.useRef)(null),Q=Object(a.useState)(null),q=Object(d.a)(Q,2),_=q[0],$=q[1];Object(a.useEffect)((function(){return document.addEventListener("keydown",ee),function(){document.removeEventListener("keydown",ee)}})),Object(a.useEffect)((function(){U(!1)}),[n]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.f({search:M,skip:Y.length}).then((function(e){var t=e.data.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{img:"".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.id,"/thumbnail?width=small_webp")})}));D({type:"success-load",payload:t})})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}J&&function(){e.apply(this,arguments)}()}),[J,M,Y.length]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.f({search:M}).then((function(e){var t=e.data.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{img:"".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.id,"/thumbnail?width=small_webp")})}));D({type:"success-search",payload:t})})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}z&&function(){e.apply(this,arguments)}()}),[z,M]);var ee=function(e){if(e&&e.target&&e.target.className&&"rbt-input-main form-control rbt-input  focus"===e.target.className){var t=e.keyCode||e.charCode;switch(console.log(t),t){case 13:te(e);break;case 9:c&&te(e)}}},te=function(e){e.preventDefault(),document.getElementById("search-form").reset(),W&&W.current.clear(),Z?t.push({pathname:"".concat("/filmapp-react-frontend/","film/").concat(Z.id),search:"",state:{}}):""===M?t.push({pathname:"".concat("/filmapp-react-frontend/","search"),search:"?title=".concat(M),state:{}}):1===Y.length?t.push({pathname:"".concat("/filmapp-react-frontend/","film/").concat(Y[0].id),search:"",state:{}}):t.push({pathname:"".concat("/filmapp-react-frontend/","search"),search:"?title=".concat(M),state:{films:Y}}),D({type:"clear"})},ne=Object(a.useCallback)((function(e){D({type:"search",payload:e})}),[]);return Object(P.jsxs)(p.a,{expanded:R,className:"py-2 px-4",expand:"md",bg:"light",variant:"light",onToggle:function(e){U(e)},onSelect:function(e){return function(e){switch(e){case"add_film":t.push("".concat("/filmapp-react-frontend/","add"));break;case"playlists":t.push("".concat("/filmapp-react-frontend/","playlists"))}}(e)},children:[Object(P.jsx)(m.a,{className:"pb-2",xs:{span:5,order:"first"},sm:{span:2,order:"first"},md:{span:4,order:"first"},children:Object(P.jsxs)(p.a.Brand,{style:{cursor:"pointer"},className:"d-flex align-items-center",onClick:function(){return t.push("/filmapp-react-frontend/")},children:[Object(P.jsx)(p.a.Brand,{children:Object(P.jsx)("img",{alt:"",src:"data:image/png;base64,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",width:"30",height:"30"})}),Object(P.jsx)("p",{className:"d-none d-md-inline m-0",children:"FilmApp"})]})}),Object(P.jsx)(m.a,{className:"text-right d-md-none m-button pb-2 ",xs:{span:6,order:2},sm:{span:2,order:"last"},children:Object(P.jsx)(p.a.Toggle,{className:"m-button","aria-controls":"responsive-navbar-nav"})}),Object(P.jsx)(m.a,{xs:{span:12,order:3},sm:{span:8,order:2},md:{span:5,order:2},children:Object(P.jsx)(f.a,{id:"search-form",inline:"true",children:Object(P.jsxs)(h.a,{className:"m-0",style:{width:"100%"},children:[Object(P.jsx)(m.a,{xs:12,sm:10,className:"p-0",children:Object(P.jsx)(k.a,{ref:W,className:"search-bar",useCache:!1,filterBy:function(){return!0},id:"typeahead-navbar",isLoading:!0,open:K,placeholder:"Search",labelKey:"title",minLength:1,options:Y,onSearch:ne,onBlur:function(e){return D({type:"field",fieldName:"isOpen",payload:!1})},onFocus:function(e){""!==M&&D({type:"field",fieldName:"isOpen",payload:!0})},onKeyDown:function(e){return D({type:"field",fieldName:"isOpen",payload:!0})},onMenuToggle:function(e){return D({type:"field",fieldName:"isOpen",payload:e})},onInputChange:function(e,t){D({type:"field",fieldName:"title",payload:e}),""===e&&D({type:"field",fieldName:"options",payload:[]})},onChange:function(e){var t=e.length>0?e[0].title:"";D({type:"pick-option",title:t,selected:e.length>0?e[0]:null})},renderMenu:function(e,n){return Object(P.jsxs)(k.b,Object(s.a)(Object(s.a)({},n),{},{className:"pt-4 pb-4",children:[e.map((function(e,n){return Object(P.jsx)(k.c,{option:e,position:n,children:Object(P.jsxs)(h.a,{className:"p-0 m-0 entry__inner",onClick:function(n){n.stopPropagation(),n.preventDefault(),D({type:"clear"}),document.getElementById("search-form").reset(),W&&W.current.clear(),t.push({pathname:"".concat("/filmapp-react-frontend/","film/").concat(e.id),search:"",state:{}})},children:[Object(P.jsx)("img",{className:"p-0",alt:"",src:e.img,style:{height:"24px",marginRight:"10px",width:"24px"}}),Object(P.jsx)("span",{className:"entry__text",children:e.title})]})},e.id)})),!J&&!z&&0===e.length&&Object(P.jsx)("a",{role:"option",className:"dropdown-item disabled",href:"#",children:"No matches found."}),z&&Object(P.jsx)("a",{role:"option",className:"dropdown-item disabled",href:"#",children:"Searching..."}),Object(P.jsx)("div",{style:{height:"8px"},className:"d-flex justify-content-center",children:J&&!X&&Object(P.jsx)(O.a,{animation:"border"})})]}))}})}),Object(P.jsx)(m.a,{sm:2,children:Object(P.jsx)(g.a,{onClick:te,className:"d-none d-sm-inline",variant:"light",children:Object(P.jsx)(j.a,{icon:F.g})})})]})})}),Object(P.jsx)(m.a,{xs:{span:12,order:"last"},sm:{span:12,order:"last"},md:{span:3,order:"last"},children:Object(P.jsx)(p.a.Collapse,{className:"justify-content-end",id:"responsive-navbar-nav",children:Object(P.jsxs)(x.a,{activeKey:"",className:"d-block d-sm-block d-md-flex  align-items-center",children:[Object(P.jsx)(x.a.Link,{className:"px-2",eventKey:"playlists",children:"Playlists"}),i.auth&&Object(P.jsx)(x.a.Link,{className:"px-2",eventKey:"add_film",children:"Add"}),i.auth?Object(P.jsx)(b.a,{onClick:function(e){$(e.currentTarget)},className:"pe-2 ps-2 custom-avatar m-button",children:i.name.toUpperCase().charAt(0)}):Object(P.jsx)(x.a.Link,{className:"pe-2 ps-2",eventKey:"login ",onClick:function(){return function(){var e=n.pathname;"/filmapp-react-frontend/"===e&&(e=e.slice(0,-1)),t.push({pathname:"".concat(e,"/login"),search:n.search,state:n.state})}()},children:"Login"})]})})}),Object(P.jsxs)(y.a,{id:"film-navbar-menu",anchorEl:_,keepMounted:!0,open:Boolean(_),onClose:function(){$(null)},children:[Object(P.jsx)(A.a,{onClick:function(){$(null),t.push("".concat("/filmapp-react-frontend/","profile"))},children:"Profile"}),Object(P.jsx)(A.a,{onClick:function(){$(null);var e=n.pathname;"/filmapp-react-frontend/"===e&&(e=e.slice(0,-1)),t.push({pathname:"".concat(e,"/settings"),search:n.search,state:n.state})},children:"Settings"}),Object(P.jsx)(A.a,{onClick:function(){$(null),v()},children:"Logout"})]})]})},H=n(471),G=n(470),R=n(57),U=n(23),Y=function(e){return U.a.post("auth",{},{auth:{username:e.email,password:e.password}})},M=function(e){return U.a.post("users",e)},J=function(e){return U.a.post("auth/password/forgot",e)},X=function(e,t){return U.a.post("auth/password/reset/".concat(e),t)},z={email:"",nick:"",password:"",isSubmitted:!1,isSending:!1,isSuccess:!1,isError:!1,error:null},K=function(e,t){switch(t.type){case"field":return Object(s.a)(Object(s.a)({},e),{},Object(S.a)({isSubmitted:!1},t.fieldName,t.payload));case"submit":return Object(s.a)(Object(s.a)({},e),{},{isError:!1,error:null,isSubmitted:!0});case"send":return Object(s.a)(Object(s.a)({},e),{},{isSending:!0});case"success":return Object(s.a)(Object(s.a)({},e),{},{isError:!1,error:null,isSending:!1,isSuccess:!0});case"error":return Object(s.a)(Object(s.a)({},e),{},{isSending:!1,isError:!0,error:t.payload});default:return e}};var Z=function(e){var t=Object(a.useContext)(C.a).login,n=Object(u.g)(),c=Object(u.h)(),r=Object(a.useReducer)(K,z),s=Object(d.a)(r,2),i=s[0],j=s[1],b=i.email,p=i.password,h=i.isSubmitted,x=i.isSending,v=i.isError,y=i.error,w=Object(a.useState)(!0),A=Object(d.a)(w,2),N=A[0],k=A[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({email:b,password:p}).then((function(e){t(e.data.user.name,e.data.user.id,e.data.token,e.data.refreshToken);var a=c.pathname.slice(0,-6);""===a&&(a="/filmapp-react-frontend/"),n.replace({pathname:a,search:c.search,state:c.state})})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),j({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x&&function(){e.apply(this,arguments)}()}),[x,b,p,n,c,t]);var L=function(){k(!1),c.state?n.push("/filmapp-react-frontend/"):n.goBack()};return Object(P.jsxs)(H.a,{onHide:L,show:N,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(P.jsx)(H.a.Header,{closeButton:!0,children:Object(P.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",children:"Login"})}),Object(P.jsxs)(H.a.Body,{children:[Object(P.jsxs)(f.a,{onSubmit:x?null:function(e){e.preventDefault(),j({type:"submit"}),b&&p&&j({type:"send"})},children:[Object(P.jsxs)(f.a.Group,{children:[Object(P.jsx)(f.a.Label,{htmlFor:"email",children:"Email"}),Object(P.jsx)(f.a.Control,{isInvalid:h&&!b,type:"email",name:"email",value:b,onChange:function(e){return j({type:"field",fieldName:"email",payload:e.target.value})}}),Object(P.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Email is required"})]}),Object(P.jsxs)(f.a.Group,{className:"mt-2",children:[Object(P.jsx)(f.a.Label,{htmlFor:"password",children:"Password"}),Object(P.jsx)(f.a.Control,{isInvalid:h&&!p,type:"password",name:"password",value:p,onChange:function(e){return j({type:"field",fieldName:"password",payload:e.target.value})}}),Object(P.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Password is required"})]}),Object(P.jsxs)(f.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(P.jsx)(g.a,{disabled:x,type:"submit",className:"btn-primary",children:"Login"}),x&&Object(P.jsx)(O.a,{className:"ms-2",animation:"grow"})]})]}),v&&Object(P.jsx)(G.a,{variant:"danger",className:"mt-2 mb-0",children:y||"Error while logging in."}),Object(P.jsx)(g.a,{variant:"link",onClick:function(){n.goBack(),setTimeout((function(){n.push("".concat(c.pathname.slice(0,-5),"register").concat(c.search))}),500)},className:"p-0 mt-2 btn btn-link",children:"Register"}),Object(P.jsx)(m.a,{className:"p-0 m-0 ",xs:12,sm:12,children:Object(P.jsx)(g.a,{variant:"link",onClick:function(){n.goBack(),setTimeout((function(){n.push("".concat(c.pathname.slice(0,-5),"forgot").concat(c.search))}),500)},className:"p-0 mt-2 btn btn-link",children:"Forgot password?"})})]}),Object(P.jsx)(H.a.Footer,{children:Object(P.jsx)(g.a,{onClick:L,children:"Close"})})]})};var V=function(e){var t=Object(u.g)(),n=Object(a.useReducer)(K,z),c=Object(d.a)(n,2),r=c[0],s=c[1],i=r.password,j=r.isSubmitted,b=r.isSending,p=r.isSuccess,m=r.isError,h=r.error,x=Object(a.useState)(!0),v=Object(d.a)(x,2),y=v[0],w=v[1];Object(a.useEffect)((function(){function n(){return(n=Object(l.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X(e.match.params.token,{password:i}).then((function(e){s({type:"success"}),setTimeout((function(){w(!1),t.push("".concat("/filmapp-react-frontend/")),setTimeout((function(){t.push("".concat("/filmapp-react-frontend/","login"))}),500)}),1500)})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),s({type:"error",payload:t})}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}b&&function(){n.apply(this,arguments)}()}),[b,t,i,e.match.params.token]);var A=function(){w(!1),t.push("".concat("/filmapp-react-frontend/"))};return Object(P.jsxs)(H.a,{onHide:A,show:y,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(P.jsx)(H.a.Header,{closeButton:!0,children:Object(P.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",children:"Reset"})}),Object(P.jsx)(H.a.Body,{children:Object(P.jsxs)(f.a,{onSubmit:function(t){t.preventDefault(),s({type:"submit"}),e.match.params.token&&i&&i.length>=6&&s({type:"send"})},children:[Object(P.jsxs)(f.a.Group,{children:[Object(P.jsx)(f.a.Label,{htmlFor:"password",children:"Password"}),Object(P.jsx)(f.a.Control,{isInvalid:j&&i.length<6,type:"password",name:"password",value:i,maxLength:"11",onChange:function(e){return s({type:"field",fieldName:"password",payload:e.target.value})}}),Object(P.jsx)(f.a.Control.Feedback,{type:"invalid",children:0===i.length?"Password is required":"Password too short (min 6 chars)"})]}),p&&Object(P.jsx)(G.a,{variant:"success",className:"mt-2",children:"Password has been reseated! Redirecting to login page."}),m&&Object(P.jsx)(G.a,{variant:"danger",className:"mt-2",children:h||"Error while resetting password."}),Object(P.jsxs)(f.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(P.jsx)(g.a,{type:"submit",className:"btn-primary",children:"Reset password"}),b&&Object(P.jsx)(O.a,{className:"ms-2",animation:"grow"})]})]})}),Object(P.jsx)(H.a.Footer,{children:Object(P.jsx)(g.a,{onClick:A,children:"Close"})})]})};var W=function(e){var t=Object(u.g)(),n=Object(a.useState)(!0),c=Object(d.a)(n,2),r=c[0],s=c[1],i=Object(a.useReducer)(K,z),j=Object(d.a)(i,2),b=j[0],p=j[1],m=b.email,h=b.isSuccess,x=b.isSubmitted,v=b.isSending,y=b.isError,w=b.error;Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J({email:m}).then((function(e){p({type:"success"})})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),p({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v&&function(){e.apply(this,arguments)}()}),[v,m]);var A=function(){s(!1),t.goBack()};return Object(P.jsxs)(H.a,{onHide:A,show:r,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(P.jsx)(H.a.Header,{closeButton:!0,children:Object(P.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",children:"Forgot"})}),Object(P.jsx)(H.a.Body,{children:Object(P.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),p({type:"submit"}),m&&p({type:"send"})},children:[Object(P.jsxs)(f.a.Group,{children:[Object(P.jsx)(f.a.Label,{htmlFor:"email",children:"Email"}),Object(P.jsx)(f.a.Control,{isInvalid:x&&!m,type:"email",name:"email",value:m,onChange:function(e){return p({type:"field",fieldName:"email",payload:e.target.value})}}),Object(P.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Email is required"})]}),h&&Object(P.jsx)(G.a,{variant:"success",className:"mt-2",children:"Email with link to reset password has been sent."}),y&&Object(P.jsx)(G.a,{variant:"danger",className:"mt-2",children:w||"Error while sending email."}),Object(P.jsxs)(f.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(P.jsx)(g.a,{type:"submit",className:"btn-primary",children:"Reset password"}),v&&Object(P.jsx)(O.a,{className:"ms-2",animation:"grow"})]})]})}),Object(P.jsx)(H.a.Footer,{children:Object(P.jsx)(g.a,{onClick:A,children:"Close"})})]})},Q=n(8),q=["component"],_=function(e){var t=e.component,n=Object(Q.a)(e,q);return Object(P.jsx)(u.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){return localStorage.getItem("accessToken")?Object(P.jsx)(t,Object(s.a)({},e)):Object(P.jsx)(u.a,{to:{pathname:"".concat("/filmapp-react-frontend/","login"),state:{from:e.location}}})}}))},$={name:"",email:""},ee=Object(s.a)(Object(s.a)({},$),{},{password:"",initialUser:$,isInitialLoaded:!1,isSubmitted:!1,isSending:!1,error:"",success:""}),te=function(e,t){switch(t.type){case"field":return Object(s.a)(Object(s.a)({},e),{},Object(S.a)({error:""},t.fieldName,t.payload));case"initial-success":return Object(s.a)(Object(s.a)({},e),{},{initialUser:{email:t.email,name:t.name},isInitialLoaded:!0});case"submit":return Object(s.a)(Object(s.a)({},e),{},{isSubmitted:!0,error:null});case"send":return Object(s.a)(Object(s.a)({},e),{},{isSending:!0});case"success":return Object(s.a)(Object(s.a)({},e),{},{isSubmitted:!1,isSending:!1,success:"Changes saved successfully!",error:null});case"error":return Object(s.a)(Object(s.a)({},e),{},{isSending:!1,isSubmitted:!1,error:t.payload});default:return e}},ne=n(158),ae=function(e){var t=Object(a.useContext)(C.a),n=t.user,c=t.clearUser,r=t.updateUser,i=Object(u.g)(),j=Object(u.h)(),b=Object(a.useReducer)(te,ee),p=Object(d.a)(b,2),m=p[0],h=p[1],x=m.email,v=m.name,y=m.password,w=m.initialUser,A=(m.isSubmitted,m.isSending),N=m.isInitialLoaded,k=m.success,L=m.error,S=Object(a.useState)(!0),E=Object(d.a)(S,2),B=E[0],I=E[1];Object(a.useEffect)((function(){!n.auth&&n.isInitialLoaded&&(I(!1),i.replace("".concat("/filmapp-react-frontend/")),i.push("".concat("/filmapp-react-frontend/","login")),c())}),[n,i,c]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.a().then((function(e){h({type:"initial-success",name:e.data.name,email:e.data.email})})).catch((function(e){console.error(e),h({type:"error",payload:!0})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},y&&(t={password:y}),x&&""!==x&&x!==w.email&&(t=Object(s.a)(Object(s.a)({},t),{},{email:x})),v&&""!==v&&v!==w.name&&(t=Object(s.a)(Object(s.a)({},t),{},{name:v})),e.next=6,ne.b(t).then((function(e){h({type:"success"}),setTimeout((function(){var t=j.pathname.slice(0,-9);""===t&&(t="/filmapp-react-frontend/"),i.replace({pathname:t,search:j.search,state:j.state}),r(e.data.accessToken)}),500)})).catch((function(e){console.error(e),h({type:"error",payload:e.response&&e.response.data&&e.response.data.error?e.response.data.error:"Something went wrong!"})}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}A&&function(){e.apply(this,arguments)}()}),[x,w.email,w.name,A,v,y,i,j,r]);return Object(P.jsxs)(H.a,{onHide:function(){I(!1),i.goBack()},show:B,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(P.jsx)(H.a.Header,{closeButton:!0,children:Object(P.jsx)(H.a.Title,{children:"Settings"})}),Object(P.jsxs)(H.a.Body,{children:[Object(P.jsxs)(f.a,{onSubmit:A?null:function(e){e.preventDefault(),h({type:"submit"}),(y||x&&""!==x&&x!==w.email||v&&""!==v&&v!==w.name)&&h({type:"send"})},children:[Object(P.jsxs)(f.a.Group,{children:[Object(P.jsx)(f.a.Label,{htmlFor:"name",children:"Name"}),Object(P.jsx)(f.a.Control,{type:"text",name:"email",value:v,placeholder:w.name,onChange:function(e){return h({type:"field",fieldName:"name",payload:e.target.value})}})]}),Object(P.jsxs)(f.a.Group,{className:"mt-2",children:[Object(P.jsx)(f.a.Label,{htmlFor:"email",children:"Email"}),Object(P.jsx)(f.a.Control,{type:"email",name:"email",value:x,placeholder:w.email,onChange:function(e){return h({type:"field",fieldName:"email",payload:e.target.value})}})]}),Object(P.jsxs)(f.a.Group,{className:"mt-2",children:[Object(P.jsx)(f.a.Label,{htmlFor:"password",children:"Password"}),Object(P.jsx)(f.a.Control,{type:"password",name:"password",value:y,onChange:function(e){return h({type:"field",fieldName:"password",payload:e.target.value})}})]}),Object(P.jsxs)(f.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(P.jsx)(g.a,{disabled:A||!N,type:"submit",className:"btn-primary",children:"Change"}),A&&Object(P.jsx)(O.a,{className:"ms-2",animation:"grow"})]})]}),L&&Object(P.jsx)(G.a,{variant:"danger",className:"mt-2 mb-0",children:L||"Error while logging in."}),k&&Object(P.jsx)(G.a,{variant:"success",className:"mt-2 mb-0",children:k})]})]})};var ce=function(e){var t=Object(u.g)(),n=Object(a.useContext)(C.a).login,c=Object(a.useReducer)(K,z),r=Object(d.a)(c,2),s=r[0],i=r[1],j=s.email,b=s.nick,p=s.password,m=s.isSubmitted,h=s.isSuccess,x=s.isSending,v=s.isError,y=s.error,w=Object(a.useState)(!0),A=Object(d.a)(w,2),N=A[0],k=A[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({email:j,password:p,name:b}).then((function(e){i({type:"success"}),setTimeout((function(){n(e.data.user.name,e.data.user.id,e.data.token,e.data.refreshToken),t.goBack()}),1500)})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors?t=e.response.data.errors:e.response&&e.response.data&&e.response.data.error&&(t=e.response.data.error),i({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x&&function(){e.apply(this,arguments)}()}),[x,j,b,p,t,n]);var L=function(){k(!1),t.goBack()};return Object(P.jsxs)(H.a,{onHide:L,show:N,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(P.jsx)(H.a.Header,{closeButton:!0,children:Object(P.jsx)(H.a.Title,{id:"contained-modal-title-vcenter",children:"Register"})}),Object(P.jsx)(H.a.Body,{children:Object(P.jsxs)(f.a,{onSubmit:function(e){e.preventDefault(),i({type:"submit"}),j&&b&&p&&p.length>=6&&i({type:"send"})},children:[Object(P.jsxs)(f.a.Group,{children:[Object(P.jsx)(f.a.Label,{htmlFor:"nick",children:"Nick"}),Object(P.jsx)(f.a.Control,{isInvalid:m&&!b,type:"text",name:"nick",value:b,onChange:function(e){return i({type:"field",fieldName:"nick",payload:e.target.value})}}),Object(P.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Nick is required"})]}),Object(P.jsxs)(f.a.Group,{className:"mt-2",children:[Object(P.jsx)(f.a.Label,{htmlFor:"email",children:"Email"}),Object(P.jsx)(f.a.Control,{isInvalid:m&&!j,type:"email",name:"email",value:j,onChange:function(e){return i({type:"field",fieldName:"email",payload:e.target.value})}}),Object(P.jsx)(f.a.Control.Feedback,{type:"invalid",children:"Email is required"})]}),Object(P.jsxs)(f.a.Group,{className:"mt-2",children:[Object(P.jsx)(f.a.Label,{htmlFor:"password",children:"Password"}),Object(P.jsx)(f.a.Control,{isInvalid:m&&p.length<6,type:"password",name:"password",value:p,maxLength:"11",onChange:function(e){return i({type:"field",fieldName:"password",payload:e.target.value})}}),Object(P.jsx)(f.a.Control.Feedback,{type:"invalid",children:0===p.length?"Password is required":"Password too short (min 6 chars)"})]}),h&&Object(P.jsx)(G.a,{variant:"success",className:"mt-2",children:"You have successfully registered and logged in."}),v&&Object(P.jsx)(G.a,{variant:"danger",className:"mt-2",children:y||"Error while registtering."}),Object(P.jsxs)(f.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(P.jsx)(g.a,{type:"submit",className:"btn-primary",children:"Register"}),x&&Object(P.jsx)(O.a,{className:"ms-2",animation:"grow"})]})]})}),Object(P.jsx)(H.a.Footer,{children:Object(P.jsx)(g.a,{onClick:L,children:"Close"})})]})},re=n(118),se=function(e){var t=Object(a.useContext)(re.a),n=t.removeModalData,c=t.remove,r=t.clear,s=function(){return r()};return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(H.a,{show:n.show,onHide:s,centered:!0,children:[Object(P.jsx)(H.a.Header,{children:Object(P.jsxs)(H.a.Title,{children:["Delete ",n.type]})}),Object(P.jsxs)(H.a.Body,{children:["Do you really want to delete ",n.type," ",Object(P.jsx)("b",{children:n.title}),"?",Object(P.jsx)("br",{}),"Action cannot be undone!"]}),Object(P.jsxs)(H.a.Footer,{children:[Object(P.jsx)(g.a,{variant:"secondary",onClick:s,children:"Cancel"}),Object(P.jsx)(g.a,{variant:"primary",onClick:function(){return c()},children:"Delete"})]})]})})},ie=n(65),oe=n(474),le=n(85),de=n(117),ue=function(e){var t=e.children,n=Object(a.useContext)(C.a).logout;return Object(a.useMemo)((function(){U.a.interceptors.response.use((function(e){return e}),(function(e){var t,a=localStorage.getItem("accessToken"),c=e.config;return e.response&&401===e.response.status&&a&&!c._retry?"auth/refresh"===e.config.url?(n(),Promise.reject(e)):(c._retry=!0,(t={refreshToken:JSON.parse(localStorage.getItem("refreshToken"))},U.a.post("auth/refresh",t,{headers:Object(R.a)()})).then((function(e){if(201===e.status){var t=e.data.token;return localStorage.setItem("accessToken",JSON.stringify(t)),c.headers.Authorization="Bearer "+t,Object(U.a)(c)}}))):Promise.reject(e)}))}),[]),t},je=n(188),be=function(e){var t=e.children,n=Object(u.h)().pathname,c=Object(a.useState)({name:"",id:null,auth:!1,isInitialLoaded:!1}),r=Object(d.a)(c,2),i=r[0],o=r[1];Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n]),Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("accessToken");if(e){var t=Object(je.a)(e);o((function(){return{name:t.name,auth:!0,id:t.id,isInitialLoaded:!0}}))}else o((function(e){return Object(s.a)(Object(s.a)({},e),{},{isInitialLoaded:!0})}))}()}),[]);return Object(P.jsx)(C.a.Provider,{value:{user:i,login:function(e,t,n,a){localStorage.setItem("accessToken",JSON.stringify(n)),localStorage.setItem("refreshToken",JSON.stringify(a)),o((function(){return{name:e,auth:!0,id:t,isInitialLoaded:!0}}))},logout:function(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),o((function(e){return Object(s.a)(Object(s.a)({},e),{},{name:"",auth:!1,id:null})}))},clearUser:function(){o((function(e){return Object(s.a)(Object(s.a)({},e),{},{isInitialLoaded:!1})}))},updateUser:function(e){localStorage.setItem("accessToken",JSON.stringify(e));var t=Object(je.a)(e);o((function(e){return Object(s.a)(Object(s.a)({},e),{},{name:t.name})})),window.location.reload()}},children:t})};le.b.add(F.f,F.h,F.i,F.m,F.l,F.d,F.e);var pe="/filmapp-react-frontend/",me=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,606))})),fe=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,607))})),he=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(7)]).then(n.bind(null,605))})),Oe=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5),n.e(9)]).then(n.bind(null,608))})),ge=Object(a.lazy)((function(){return n.e(10).then(n.bind(null,609))})),xe=Object(a.lazy)((function(){return n.e(11).then(n.bind(null,610))})),ve=Object(a.lazy)((function(){return n.e(12).then(n.bind(null,611))}));var ye=function(e){var t=Object(a.useContext)(de.a),n=t.toast,c=t.clearToast;return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"toast-root",children:Object(P.jsxs)(oe.a,{show:n.isOpen,onClose:c,autohide:!0,className:"toast-element bg-secondary",children:[Object(P.jsx)(oe.a.Header,{children:Object(P.jsx)("strong",{className:"me-auto",children:"Playlist"})}),Object(P.jsx)(oe.a.Body,{children:n.message})]})}),Object(P.jsx)(ie.a,{children:Object(P.jsx)(be,{children:Object(P.jsxs)(ue,{children:[Object(P.jsx)(u.b,{render:function(){return Object(P.jsx)(D,{})}}),Object(P.jsx)(_,{exact:!0,path:["".concat(pe,"settings"),"".concat(pe,"profile/settings"),"".concat(pe,"film/:id/settings"),"".concat(pe,"search/settings"),"".concat(pe,"add/settings"),"".concat(pe,"playlists/settings")],component:ae}),Object(P.jsx)(u.b,{exact:!0,path:["".concat(pe,"login"),"".concat(pe,"film/:id/login"),"".concat(pe,"search/login"),"".concat(pe,"add/login"),"".concat(pe,"playlists/login")],render:function(e){return Object(P.jsx)(Z,Object(s.a)({},e))}}),Object(P.jsx)(u.b,{exact:!0,path:["".concat(pe,"register"),"".concat(pe,"film/:id/register"),"".concat(pe,"search/register"),"".concat(pe,"add/register"),"".concat(pe,"playlists/register")],render:function(e){return Object(P.jsx)(ce,Object(s.a)({},e))}}),Object(P.jsx)(u.b,{exact:!0,path:["".concat(pe,"reset/:token"),"".concat(pe,"film/:id/reset/:token"),"".concat(pe,"search/reset/:token"),"".concat(pe,"add/reset/:token"),"".concat(pe,"playlists/reset/:token")],render:function(e){return Object(P.jsx)(V,Object(s.a)({},e))}}),Object(P.jsx)(u.b,{exact:!0,path:["".concat(pe,"forgot"),"".concat(pe,"film/:id/forgot"),"".concat(pe,"search/forgot"),"".concat(pe,"add/forgot"),"".concat(pe,"playlists/forgot")],render:function(e){return Object(P.jsx)(W,Object(s.a)({},e))}}),Object(P.jsx)(a.Suspense,{fallback:Object(P.jsxs)("div",{className:"suspense-loader",children:[" ",Object(P.jsx)(O.a,{className:"suspense-loader-spinner",animation:"border"})]}),children:Object(P.jsxs)(u.d,{children:[Object(P.jsx)(u.b,{exact:!0,path:["".concat(pe,"film/:id"),"".concat(pe,"film/:id/login"),"".concat(pe,"film/:id/register"),"".concat(pe,"film/:id/reset/:token"),"".concat(pe,"film/:id/forgot"),"".concat(pe,"film/:id/settings")],render:function(e){return Object(P.jsx)(he,Object(s.a)({},e))}}),Object(P.jsx)(u.b,{exact:!0,path:["".concat(pe),"".concat(pe,"login"),"".concat(pe,"register"),"".concat(pe,"settings"),"".concat(pe,"reset/:token"),"".concat(pe,"forgot")],render:function(e){return Object(P.jsx)(fe,Object(s.a)({},e))}}),Object(P.jsx)(u.b,{exact:!0,path:["".concat(pe,"search"),"".concat(pe,"search/login"),"".concat(pe,"search/settings"),"".concat(pe,"search/register"),"".concat(pe,"search/reset/:token"),"".concat(pe,"search/forgot")],render:function(e){return Object(P.jsx)(Oe,Object(s.a)({},e))}}),Object(P.jsx)(_,{exact:!0,path:["".concat(pe,"add"),"".concat(pe,"add/settings")],render:function(e){return Object(P.jsx)(xe,Object(s.a)({},e))}}),Object(P.jsx)(u.b,{exact:!0,path:["".concat(pe,"playlists"),"".concat(pe,"playlists/login"),"".concat(pe,"playlists/settings"),"".concat(pe,"playlists/register"),"".concat(pe,"playlists/reset/:token"),"".concat(pe,"playlists/forgot")],render:function(e){return Object(P.jsx)(ge,Object(s.a)({},e))}}),Object(P.jsx)(u.b,{exact:!0,path:["".concat(pe,"profile"),"".concat(pe,"profile/settings")],render:function(e){return localStorage.getItem("accessToken")?Object(P.jsx)(me,Object(s.a)({},e)):Object(P.jsx)(u.a,{to:{pathname:"".concat("/filmapp-react-frontend/","login"),state:{from:e.location}}})}}),Object(P.jsx)(u.b,{exact:!0,path:"*",render:function(e){return Object(P.jsx)(ve,Object(s.a)({},e))}})]})})]})})}),Object(P.jsx)(se,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var we=function(e){var t=e.children,n=Object(a.useState)({isOpen:!1,message:"",isPrevoius:!1}),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(P.jsx)(de.a.Provider,{value:{toast:r,createToast:function(e){r.isPrevoius?(s({isOpen:!1,message:"",isPrevoius:!0}),setTimeout((function(){return s({isOpen:!0,message:e,isPrevoius:!0})}),850)):s({isOpen:!0,message:e,isPrevoius:!0})},clearToast:function(){s({isOpen:!1,message:"",isPrevoius:!1})}},children:t})},Ae=function(e){var t=e.children,n=Object(a.useState)({show:!1,isRemoving:!1,id:null,type:null,title:""}),c=Object(d.a)(n,2),r=c[0],i=c[1];return Object(P.jsx)(re.a.Provider,{value:{showModal:function(e,t,n){i({show:!0,isRemoving:!1,id:e,type:t,title:n})},removeModalData:r,remove:function(){i((function(e){return Object(s.a)(Object(s.a)({},e),{},{show:!1,isRemoving:!0})}))},clear:function(){i({show:!1,isRemoving:!1,id:null,type:null,title:""})}},children:t})};r.a.render(Object(P.jsx)(we,{children:Object(P.jsx)(Ae,{children:Object(P.jsx)(ye,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},51:function(e,t,n){"use strict";var a=n(0),c=Object(a.createContext)({name:"",id:null,auth:!1,isInitialLoaded:!1});t.a=c},57:function(e,t,n){"use strict";t.a=function(){var e=JSON.parse(localStorage.getItem("accessToken"));return e?{Authorization:"Bearer "+e}:{}}}},[[447,2,3]]]);
//# sourceMappingURL=main.6c1ffef1.chunk.js.map