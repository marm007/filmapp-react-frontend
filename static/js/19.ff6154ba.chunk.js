(this.webpackJsonpfilmapp_frontened=this.webpackJsonpfilmapp_frontened||[]).push([[19],{517:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return p}));var s=t(8),n=t(138),a=t(47),c=t(1),i=t(552),o=t(139),l=t(540),d=t(2),u=function(){var e=Object(s.g)(),r=Object(s.i)().token,t=Object(c.useReducer)(i.b,i.a),n=Object(a.a)(t,2),u=n[0],p=n[1],b=u.password,f=u.isSubmitted,j=u.isSending,m=u.isSuccess,h=u.isError,O=u.error;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),p({type:"submit"}),r&&b&&b.length>=6)return p({type:"send"}),Object(o.e)(r,{password:b}).then((function(r){p({type:"success"}),setTimeout((function(){e.push("".concat("/filmapp-react-frontend/")),setTimeout((function(){e.push("".concat("/filmapp-react-frontend/","login"))}),500)}),1500)})).catch((function(e){var r=null;e.response&&e.response.data&&e.response.data.errors&&(r=e.response.data.errors),p({type:"error",payload:r})}))},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(d.jsx)(l.a,{isInvalid:f&&b.length<6,type:"password",name:"password",value:b,onChange:function(e){return p({type:"field",fieldName:"password",payload:e.target.value})}}),Object(d.jsx)("div",{className:"invalid-feedback",children:0===b.length?"Password is required":"Password too short (min 6 chars)"})]}),Object(d.jsxs)("div",{className:"d-flex align-items-center mt-2 form-group",children:[Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset password"}),j&&Object(d.jsx)("div",{className:"spinner-grow ml-2"})]})]}),m&&Object(d.jsx)("div",{className:"alert alert-success mt-2",children:"Password has been reseated! Redirecting to login page."}),h&&Object(d.jsx)("div",{className:"alert alert-danger mt-2",children:O||"Error while resetting password."})]})};function p(){var e=Object(s.g)();return Object(d.jsx)(n.a,{id:"resetPasswordModal",title:"Reset",onClose:function(){e.push("".concat("/filmapp-react-frontend/"))},children:Object(d.jsx)(u,{})})}},540:function(e,r,t){"use strict";var s=t(1),n=t(2);r.a=function(e){var r=e.isInvalid,t=e.onChange,a=e.type,c=e.name,i=e.value,o=e.placeholder,l=void 0===o?"":o,d=Object(s.useRef)(null);return Object(s.useEffect)((function(){d.current&&(r?d.current.classList.add("is-invalid"):d.current.classList.remove("is-invalid"))}),[r]),"textarea"===a?Object(n.jsx)("textarea",{ref:d,className:"form-control",placeholder:l,type:a,name:c,value:i,onChange:t,rows:8}):Object(n.jsx)("input",{ref:d,className:"form-control",placeholder:l,type:a,name:c,value:i,onChange:t})}},552:function(e,r,t){"use strict";t.d(r,"a",(function(){return a})),t.d(r,"b",(function(){return c}));var s=t(136),n=t(15),a={email:"",nick:"",password:"",isSubmitted:!1,isSending:!1,isSuccess:!1,isError:!1,error:null},c=function(e,r){switch(r.type){case"field":return Object(n.a)(Object(n.a)({},e),{},Object(s.a)({isSubmitted:!1},r.fieldName,r.payload));case"submit":return Object(n.a)(Object(n.a)({},e),{},{isError:!1,error:null,isSubmitted:!0});case"send":return Object(n.a)(Object(n.a)({},e),{},{isSending:!0});case"success":return Object(n.a)(Object(n.a)({},e),{},{isError:!1,error:null,isSending:!1,isSuccess:!0});case"error":return Object(n.a)(Object(n.a)({},e),{},{isSending:!1,isError:!0,error:r.payload});default:return e}}}}]);
//# sourceMappingURL=19.ff6154ba.chunk.js.map