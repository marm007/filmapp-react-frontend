(this.webpackJsonpfilmapp_frontened=this.webpackJsonpfilmapp_frontened||[]).push([[1],{116:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));var a=n(19),c=n(49),r=function(e){return a.a.get("films/",{params:e})},s=function(e){return a.a.get("films/".concat(e))},i=function(e){return a.a.get("films/search",{params:e})},o=function(e){return a.a.patch("films/".concat(e,"/view"))},l=function(e){return a.a.post("films",e,{headers:Object(c.a)()})},d=function(e,t){return a.a.patch("films/".concat(e,"/action"),t,{headers:Object(c.a)()})},u=function(e){return a.a.delete("films/".concat(e),{headers:Object(c.a)()})}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n(19),c=n(49),r=function(e){return a.a.get("users/me",{params:e,headers:Object(c.a)()})},s=function(e){return a.a.patch("users",e,{headers:Object(c.a)()})}},137:function(e,t,n){"use strict";var a=n(9),c=n(0);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600,t=Object(c.useState)(!1),n=Object(a.a)(t,2),r=n[0],s=n[1],i=function(){s(window.innerWidth<e)};return Object(c.useEffect)((function(){return i(),window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[]),r}},144:function(e,t,n){"use strict";var a=n(0),c=n(107),r=n.n(c),s=function(e,t,n){return e?r()(t,e,n):t};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(a.useMemo)((function(){var e,n,a,c,r;return{offset:null!==(e=null===t||void 0===t?void 0:t.offset)&&void 0!==e?e:20,debounce:null!==(n=null===t||void 0===t?void 0:t.debounce)&&void 0!==n?n:200,debounceOptions:null!==(a=null===t||void 0===t?void 0:t.debounceOptions)&&void 0!==a?a:{leading:!0},triggerOnNoScroll:null!==(c=null===t||void 0===t?void 0:t.triggerOnNoScroll)&&void 0!==c&&c,id:null!==(r=null===t||void 0===t?void 0:t.id)&&void 0!==r?r:null}}),[null===t||void 0===t?void 0:t.offset,null===t||void 0===t?void 0:t.debounce,null===t||void 0===t?void 0:t.debounceOptions,null===t||void 0===t?void 0:t.triggerOnNoScroll,null===t||void 0===t?void 0:t.id]),c=n.offset,r=n.triggerOnNoScroll,i=n.debounce,o=n.debounceOptions,l=n.id,d=Object(a.useMemo)((function(){return s(i,e,o)}),[e,i,o]),u=Object(a.useRef)(null),j=Object(a.useCallback)((function(){if(null!=u.current){var e=u.current,t=Math.round(e.scrollTop+e.clientHeight);Math.round(e.scrollHeight-c)<=t&&d()}else if(null!==l){var n=document.getElementById(l);if(n){var a=Math.round(n.scrollTop+n.clientHeight);Math.round(n.scrollHeight-c)<=a&&d()}}else{var r=document.scrollingElement||document.documentElement,s=Math.round(r.scrollTop+window.innerHeight);Math.round(r.scrollHeight-c)<=s&&d()}}),[d,c,l]);return Object(a.useEffect)((function(){var e=u.current,t=document.getElementById(l);return null!=e?e.addEventListener("scroll",j):null!==t?t.addEventListener("scroll",j):window.addEventListener("scroll",j),r&&j(),function(){null!=e?e.removeEventListener("scroll",j):null!==t?t.addEventListener("scroll",j):window.removeEventListener("scroll",j)}}),[j,r,l]),u}},19:function(e,t,n){"use strict";var a=n(204),c=n.n(a).a.create({baseURL:"https://marm007-filmapp-backend-node.herokuapp.com/api/"});t.a=c},308:function(e,t,n){},310:function(e,t,n){},353:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);n(211),n(212),n(213),n(175);var a=n(0),c=n(34),r=n.n(c),s=(n(308),n(2)),i=(n(309),n(310),n(5)),o=n(18),l=n(1),d=["component"],u=function(e){var t=e.component,n=Object(i.a)(e,d);return Object(l.jsx)(o.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){return localStorage.getItem("accessToken")?Object(l.jsx)(t,Object(s.a)({},e)):Object(l.jsx)(o.a,{to:{pathname:"".concat("/filmapp-react-frontend/","login"),state:{from:e.location}}})}}))},j=n(21),p=n.n(j),b=n(35),m=n(9),f=n(143),h=n(368),O=n(145),g=n(365),x=n(361),v=n(362),y=n(358),w=n(366),A=n(116),N=n(115),C=n(44),k=(n(352),n(353),n(80)),L=n(15),S={options:[],isLoading:!1,isAllFetched:!1,isSearching:!1,isOpen:!1,selected:null,title:""};function E(e,t){switch(t.type){case"field":return Object(s.a)(Object(s.a)({},e),{},Object(L.a)({selected:null},t.fieldName,t.payload));case"pick-option":return Object(s.a)(Object(s.a)({},e),{},{title:t.title,selected:t.selected});case"success-load":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isSearching:!1,isAllFetched:t.payload.length<10,options:[].concat(Object(k.a)(e.options),Object(k.a)(t.payload))});case"success-search":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isSearching:!1,isAllFetched:t.payload.length<10,options:t.payload});case"clear":return S;case"load":return e.isLoading||e.isAllFetched?e:Object(s.a)(Object(s.a)({},e),{},{isLoading:!0,isAllFetched:!1,isSearching:!1});case"search":return Object(s.a)(Object(s.a)({},e),{},{options:[],isSearching:!0,isLoading:!1,isAllFetched:!1});default:return e}}var B=n(144),I=n(137),F=n(52),T=n(91);n(354);var P=function(e){var t=Object(o.g)(),n=Object(o.h)(),c=Object(I.a)(),r=Object(I.a)(768),i=Object(a.useContext)(C.a),d=i.user,u=i.logout,j=Object(a.useReducer)(E,S),k=Object(m.a)(j,2),L=k[0],P=k[1],D=Object(a.useState)(!1),H=Object(m.a)(D,2),G=H[0],R=H[1],Y=L.options,U=L.title,J=L.isLoading,M=L.isAllFetched,X=L.isSearching,z=L.isOpen,K=L.selected,Z=Object(a.useCallback)((function(){J||M||X||!z||P({type:"load"})}),[J,M,X,z]);Object(B.a)(Z,{id:"typeahead-navbar"});var V=Object(a.useRef)(null);Object(a.useEffect)((function(){return document.addEventListener("keydown",W),function(){document.removeEventListener("keydown",W)}})),Object(a.useEffect)((function(){R(!1)}),[n]),Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.f({search:U,skip:Y.length}).then((function(e){var t=e.data.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{img:"".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.id,"/thumbnail")})}));P({type:"success-load",payload:t})})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}J&&function(){e.apply(this,arguments)}()}),[J,U,Y.length]),Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.f({search:U}).then((function(e){var t=e.data.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{img:"".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.id,"/thumbnail")})}));P({type:"success-search",payload:t})})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}X&&function(){e.apply(this,arguments)}()}),[X,U]);var W=function(e){if(e&&e.target&&e.target.className&&"rbt-input-main form-control rbt-input  focus"===e.target.className){var t=e.keyCode||e.charCode;switch(console.log(t),t){case 13:Q(e);break;case 9:c&&Q(e)}}},Q=function(e){e.preventDefault(),document.getElementById("search-form").reset(),V&&V.current.clear(),K?t.push({pathname:"".concat("/filmapp-react-frontend/","film/").concat(K.id),search:"",state:{}}):""===U?t.push({pathname:"".concat("/filmapp-react-frontend/","search"),search:"?title=".concat(U),state:{}}):1===Y.length?t.push({pathname:"".concat("/filmapp-react-frontend/","film/").concat(Y[0].id),search:"",state:{}}):t.push({pathname:"".concat("/filmapp-react-frontend/","search"),search:"?title=".concat(U),state:{films:Y}}),P({type:"clear"})},q=Object(a.useCallback)((function(e){P({type:"search",payload:e})}),[]);return Object(l.jsxs)(h.a,{expanded:G,className:"py-2 px-4",expand:"md",bg:"light",variant:"light",onToggle:function(e){R(e)},onSelect:function(e){return function(e){switch(e){case"add_film":t.push("".concat("/filmapp-react-frontend/","add"));break;case"playlists":t.push("".concat("/filmapp-react-frontend/","playlists"))}}(e)},children:[Object(l.jsx)(O.a,{className:"pb-2",xs:{span:5,order:"first"},sm:{span:2,order:"first"},md:{span:4,order:"first"},children:Object(l.jsxs)(h.a.Brand,{style:{cursor:"pointer"},className:"d-flex align-items-center",onClick:function(){return t.push("/filmapp-react-frontend/")},children:[Object(l.jsx)(h.a.Brand,{children:Object(l.jsx)("img",{alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAmeSURBVHic7Z17jF1VFYe/mZYytAIVGHnVhjeUSkNtFFtfAYSIxlA0UAiiNUCFEh9oaI2KNNEoPogoAhYUrCIoECCUV9IiikIChKeBohZloDK11j6oLdNOZ45/7I7c3tnr3PPY65y5s9eXrH/m3rPXfqzZ97efpwOjXZkAvAd4P/Be4GjgbcA64CngDuCXwNa6MmiEpRuYDVwBPAb0A0kL6wE+UEdmjfIcBJwDXAe8AAzSusF91g+cVm3Wjbx0AscA84GbgVcp1tiSvQFMqaw0RmbGAbfhfrdDNrjPHqioTIaH3YG9hM8WoN/4Ce4n5ODgJTO87At8DLgc+BOwDXgEGOP57pgdn1URBF8MXVDDcQBwOrAYeB5ZsH1ZeP4QYJPwTEhbGqzEETMGmArMw42zXyZ7A/TteNbH53KkU9ReB3YpXwVxMRaYAXwBuBX4D+Ua4Un8jdCBE2raQTCrfJWMbsYAHwW+g/v97iN8I3xN8D0JWK/gr9G+UaJuomEJuo3Qj+tVfJyn7PsPZSpmNDAFV8lLgM8K35mAE3OaDfE80CX4v1fR71bgLRnqaVTQKNhuBdawc2VsA2YKz04FNqPXEAnwLcH3AZTXGmn24fRqa1/GA+8DFuKGPFl+T3uAvYX0PpPh+TLWDxwn+D5b0e/35SpsL/YAPgQsApZRXLAtxalwH78omGZWWwHsJvi+Tcnn04K/Ec/bgU8CPyV9wqWIfUnwuRvwTEA/PrtC8L0PsFrB3yBuebnt+DR6jbANt7HCxxG4SRQt3wPABwXfpyr5PEPwVxvjcJMUC4AbkRXy7eg1xCu4/zofZyn6TYC/4xaNfNyk4G+x4KsyJvCmYFsGbGHnDEpCpRv4F+ErZMjuRdYDNyj6TYBrBL8TccEZ0tdLgi81mlfItrbIYFq3OLvFs2XtEsFvF7p6YBA4RfB9EmE1T4Ly8nDWFbI0S+sWby6QXlbrx/VOPrT1wCrgrYLv6wP7Ok/wk5vmFbKegJm8WvA5kfBbpxrtVWQ9cKai3wSngXxMAFYG9HOL4CcXC4GNgSug0QZxY30fJxO+W2y0+3D79XyE/m9sto8Lfo8PWObMOmAi8E7hM+1py4T0bvFnyr4XCn67cPvvtfyuwe3z9/HjQD5WCOkzEZgD/AR4FifI+oF3Cd8/R7EihuwGwfce5NuUkdf6cYcvfByObu93h+B3PPDXAOmf25zwJN48TeJ74AXqGZ8PmdQtnoDuT8Eq5JmzOcplniP4nQVsL5BeD05An+xL8N8ZEviBkKFudKYtG62KblGy5fg3dYIb6Wj5XQvsJ/j9botn+3EjsMXAp0gZ9k1j+ESMZAPIXaLWtGWjpXWLf1H2/VXBt7YeuFvwuyvwXMP3NuIm1RbhhPN44bmd6AT+nDNDK3FDEh+/VqyIIZO6xZkU6xaz2gBwouD7MHT1wFzB7zTcsvVRwuctOb1ghtKmLTXH5wnp3eLlyr5Xp/jW1AOrcII3OLcUzNAg8s4S7fF5grzHvblb1LDfIeuBawP5eG1HGRfiZiXHCf5KU2Zm6RVgTyFd7fF5guv6fBxL67WGsnap4HtX3NbvPGllFmsarM2Z2Wa7UUhXe3ye4H5zJwv+L1P2PYA8Q3kosKFFvnOLNS1CKOe6xucJ8CD+5duxwOPKvlcD+wtlb9RWL+HmV+bh1kyk5eZauJPyFdGLvLHyqgDpt7KLBN9TyD68LWoPIeuBmchT2COGiwlTEXWOzzfjpmV9XKLsuwf5p6AtmE64yqhrfJ4Aj+L/T+zEnYYJ4aNWsaZFJ+WF4JCVmbYMYdJOnoMpdvx6RIk1TULogCGrc3zeh7trx8dFGZ4f0WJNk88TtiHmCn6m47ZfawbBU8jHr+9v+N5/cXsTf4RT7NLunyiYRthG2IA8Pl8U2JfPLhN8T8ZdxDADN0w0dtBBtqXgPLYcfxe6C/lnyvLaZtw9e0YONDZ0zBd8TcHdXRfKT7NYk87aGSlkEUlF/hOl8flXSqQbrVjTZCo63bF0PVon8HCG502sVUQHelu68lyPVtkyqDGc36ITAH3AOwSfc4ErcadVDwxfJCMPF6ATAAn+69H2I/y8wIv4NcGFCmWSrnhZpuDLdy6jm2KXYmzBXT4x7PraIxUynuCWZY9ieMN8XcHXxZ6KgvBDz0Hcun8zh+D2CoT09YRQprILXUt8if4zcOYT3MGRZjqBfwT204d///67Fcp0v6/y0NmTeL7HTwflD4f0+goQ+tTtevyLKKcoVNRNvgKhsz3N9xKGcYQX0pvwn5A+IUDar/sq6/zABbjS54SwC1BD5ns9yu6EP87di3+94QyFMl0r1N9vAqTtDYDDAxfAp/73J7z4W0H94m+5gi+f+NuHMFfYegMAwp3v/6OQ/qUKFSWJv9AndgbwrzNoiL/HhTKF2uUkBkCWGbosFpP409jw4rvBo4NwW+xUA0ASfx9RqKhfCeWoUvyFvrhKU/xVEgAm/sqZpvirJAB8b8Yw8ZfdNMWfegCY+Ctn2uJPPQBM/JUzbfGnGgAm/so3irb4Uw0ASfzdpVAA300l7S7+pHsXQoo/1QCoW/zNV6iobwr11K7iTy0AqhR/0lswqxJ/hxJe/D0mlEnrfGPwAJDE38uBM96Hf2/gcQqVdJ9QRxrib9i9feiIP5UAGAni7+cKvmZ7/LS7+FMJgB8KaVUp/kK/f1cSfxqXQVUp/lQCwMRfOZvu8aMl/v4fANKBiuPJt//+DeAez98nI78WrSgr8b/1ahbhdxX/HndkrpFO3JU4IQ+jbMV/GeSB6L7rd7ti2oZhGIZhjGBCiUCjPdkuBcDDyFfCG6OHTdILkYxIsACIHAuAyLEAiBwLgMixAIgcC4DIsQCIHAuAyLEAiBwLgMixAIgcC4DIsQCIHAuAyLEAiBwLgMixAIgcC4DIsQCIHAuAyLEAiBwLgMixAIgcC4DIsQCIHAuAyLEAiBwLgMixAIgcC4DIsQCIHAuAyLEAiBwLgMixAIgcC4DIsQCIHCkAkkpzYdRFIgXA2kqzYdTFGikAeivNhlEXr0kB8LdKs2HUxUrpqtiDcG/5NEY3p6W99eJZYFpVOTEqZwvQnTYM/F5VOTFq4SpgS1oP0AE8AcyoJj9GhawHDgPWpfUACTAP11UYo4cEuBBYl/WBTwCD6L26zKxak16Fl8pcdN9fZ6Zvg8C3KTH9PwvoGQEFMctvG4CzhjdpfrqABbjfj7oLZdba+nCv9N3b15hQ/O2XXcCJwKm4uYJJwL7A2ILpGeVJcC+07gVeBJbi3ny+Me2h/wGmG+ECiz27wAAAAABJRU5ErkJggg==",width:"30",height:"30"})}),Object(l.jsx)("p",{className:"d-none d-md-inline m-0",children:"FilmApp"})]})}),Object(l.jsx)(O.a,{className:"text-right d-md-none m-button pb-2 ",xs:{span:6,order:2},sm:{span:2,order:"last"},children:Object(l.jsx)(h.a.Toggle,{className:"m-button","aria-controls":"responsive-navbar-nav"})}),Object(l.jsx)(O.a,{xs:{span:12,order:3},sm:{span:8,order:2},md:{span:5,order:2},children:Object(l.jsx)(g.a,{id:"search-form",inline:"true",children:Object(l.jsxs)(x.a,{className:"m-0",style:{width:"100%"},children:[Object(l.jsx)(O.a,{xs:12,sm:10,className:"p-0",children:Object(l.jsx)(N.a,{ref:V,className:"search-bar",useCache:!1,filterBy:function(){return!0},id:"typeahead-navbar",isLoading:!0,open:z,placeholder:"Search",labelKey:"title",minLength:1,options:Y,onSearch:q,onBlur:function(e){return P({type:"field",fieldName:"isOpen",payload:!1})},onFocus:function(e){""!==U&&P({type:"field",fieldName:"isOpen",payload:!0})},onKeyDown:function(e){return P({type:"field",fieldName:"isOpen",payload:!0})},onMenuToggle:function(e){return P({type:"field",fieldName:"isOpen",payload:e})},onInputChange:function(e,t){P({type:"field",fieldName:"title",payload:e}),""===e&&P({type:"field",fieldName:"options",payload:[]})},onChange:function(e){var t=e.length>0?e[0].title:"";P({type:"pick-option",title:t,selected:e.length>0?e[0]:null})},renderMenu:function(e,n){return Object(l.jsxs)(N.b,Object(s.a)(Object(s.a)({},n),{},{className:"pt-4 pb-4",children:[e.map((function(e,n){return Object(l.jsx)(N.c,{option:e,position:n,children:Object(l.jsxs)(x.a,{className:"p-0 m-0 entry__inner",onClick:function(n){n.stopPropagation(),n.preventDefault(),P({type:"clear"}),document.getElementById("search-form").reset(),V&&V.current.clear(),t.push({pathname:"".concat("/filmapp-react-frontend/","film/").concat(e.id),search:"",state:{}})},children:[Object(l.jsx)("img",{className:"p-0",alt:"",src:e.img,style:{height:"24px",marginRight:"10px",width:"24px"}}),Object(l.jsx)("span",{className:"entry__text",children:e.title})]})},e.id)})),!J&&!X&&0===e.length&&Object(l.jsx)("a",{role:"option",className:"dropdown-item disabled",href:"#",children:"No matches found."}),X&&Object(l.jsx)("a",{role:"option",className:"dropdown-item disabled",href:"#",children:"Searching..."}),Object(l.jsx)("div",{style:{height:"8px"},className:"d-flex justify-content-center",children:J&&!M&&Object(l.jsx)(v.a,{animation:"border"})})]}))}})}),Object(l.jsx)(O.a,{sm:2,children:Object(l.jsx)(y.a,{onClick:Q,className:"d-none d-sm-inline",variant:"light",children:Object(l.jsx)(f.a,{icon:F.g})})})]})})}),Object(l.jsx)(O.a,{xs:{span:12,order:"last"},sm:{span:12,order:"last"},md:{span:3,order:"last"},children:Object(l.jsx)(h.a.Collapse,{className:"justify-content-end",id:"responsive-navbar-nav",children:Object(l.jsxs)(w.a,{activeKey:"",className:"d-block d-sm-block d-md-flex  align-items-center",children:[Object(l.jsx)(w.a.Link,{className:"px-2",eventKey:"playlists",children:"Playlists"}),d.auth&&Object(l.jsx)(w.a.Link,{className:"px-2",eventKey:"add_film",children:"Add"}),d.auth?Object(l.jsxs)(T.a,{className:"avatar-menu-items",align:r?"start":"end",viewScroll:"close",offsetY:12,position:"initial",direction:"bottom",menuButton:Object(l.jsx)("div",{className:"pe-2 ps-2 custom-avatar m-button",children:d.name.toUpperCase().charAt(0)}),children:[Object(l.jsx)(T.b,{onClick:function(){t.push("".concat("/filmapp-react-frontend/","profile"))},children:" Profile"}),Object(l.jsx)(T.b,{onClick:function(){var e=n.pathname;"/filmapp-react-frontend/"===e&&(e=e.slice(0,-1)),t.push({pathname:"".concat(e,"/settings"),search:n.search,state:n.state})},children:"Settings"}),Object(l.jsx)(T.b,{onClick:function(){u()},children:"Logout"})]}):Object(l.jsx)(w.a.Link,{className:"pe-2 ps-2",eventKey:"login ",onClick:function(){return function(){var e=n.pathname;"/filmapp-react-frontend/"===e&&(e=e.slice(0,-1)),t.push({pathname:"".concat(e,"/login"),search:n.search,state:n.state})}()},children:"Login"})]})})})]})},D=n(364),H=n(363),G=n(49),R=n(19),Y=function(e){return R.a.post("auth",{},{auth:{username:e.email,password:e.password}})},U=function(e){return R.a.post("users",e)},J=function(e){return R.a.post("auth/password/forgot",e)},M=function(e,t){return R.a.post("auth/password/reset/".concat(e),t)},X={email:"",nick:"",password:"",isSubmitted:!1,isSending:!1,isSuccess:!1,isError:!1,error:null},z=function(e,t){switch(t.type){case"field":return Object(s.a)(Object(s.a)({},e),{},Object(L.a)({isSubmitted:!1},t.fieldName,t.payload));case"submit":return Object(s.a)(Object(s.a)({},e),{},{isError:!1,error:null,isSubmitted:!0});case"send":return Object(s.a)(Object(s.a)({},e),{},{isSending:!0});case"success":return Object(s.a)(Object(s.a)({},e),{},{isError:!1,error:null,isSending:!1,isSuccess:!0});case"error":return Object(s.a)(Object(s.a)({},e),{},{isSending:!1,isError:!0,error:t.payload});default:return e}};var K=function(e){var t=Object(a.useContext)(C.a).login,n=Object(o.g)(),c=Object(o.h)(),r=Object(a.useReducer)(z,X),s=Object(m.a)(r,2),i=s[0],d=s[1],u=i.email,j=i.password,f=i.isSubmitted,h=i.isSending,x=i.isError,w=i.error,A=Object(a.useState)(!0),N=Object(m.a)(A,2),k=N[0],L=N[1];Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({email:u,password:j}).then((function(e){t(e.data.user.name,e.data.user.id,e.data.token,e.data.refreshToken);var a=c.pathname.slice(0,-6);""===a&&(a="/filmapp-react-frontend/"),n.replace({pathname:a,search:c.search,state:c.state})})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),d({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h&&function(){e.apply(this,arguments)}()}),[h,u,j,n,c,t]);var S=function(){L(!1),c.state?n.push("/filmapp-react-frontend/"):n.goBack()};return Object(l.jsxs)(D.a,{onHide:S,show:k,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(l.jsx)(D.a.Header,{closeButton:!0,children:Object(l.jsx)(D.a.Title,{id:"contained-modal-title-vcenter",children:"Login"})}),Object(l.jsxs)(D.a.Body,{children:[Object(l.jsxs)(g.a,{onSubmit:h?null:function(e){e.preventDefault(),d({type:"submit"}),u&&j&&d({type:"send"})},children:[Object(l.jsxs)(g.a.Group,{children:[Object(l.jsx)(g.a.Label,{htmlFor:"email",children:"Email"}),Object(l.jsx)(g.a.Control,{isInvalid:f&&!u,type:"email",name:"email",value:u,onChange:function(e){return d({type:"field",fieldName:"email",payload:e.target.value})}}),Object(l.jsx)(g.a.Control.Feedback,{type:"invalid",children:"Email is required"})]}),Object(l.jsxs)(g.a.Group,{className:"mt-2",children:[Object(l.jsx)(g.a.Label,{htmlFor:"password",children:"Password"}),Object(l.jsx)(g.a.Control,{isInvalid:f&&!j,type:"password",name:"password",value:j,onChange:function(e){return d({type:"field",fieldName:"password",payload:e.target.value})}}),Object(l.jsx)(g.a.Control.Feedback,{type:"invalid",children:"Password is required"})]}),Object(l.jsxs)(g.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(l.jsx)(y.a,{disabled:h,type:"submit",className:"btn-primary",children:"Login"}),h&&Object(l.jsx)(v.a,{className:"ms-2",animation:"grow"})]})]}),x&&Object(l.jsx)(H.a,{variant:"danger",className:"mt-2 mb-0",children:w||"Error while logging in."}),Object(l.jsx)(y.a,{variant:"link",onClick:function(){n.goBack(),setTimeout((function(){n.push("".concat(c.pathname.slice(0,-5),"register").concat(c.search))}),500)},className:"p-0 mt-2 btn btn-link",children:"Register"}),Object(l.jsx)(O.a,{className:"p-0 m-0 ",xs:12,sm:12,children:Object(l.jsx)(y.a,{variant:"link",onClick:function(){n.goBack(),setTimeout((function(){n.push("".concat(c.pathname.slice(0,-5),"forgot").concat(c.search))}),500)},className:"p-0 mt-2 btn btn-link",children:"Forgot password?"})})]}),Object(l.jsx)(D.a.Footer,{children:Object(l.jsx)(y.a,{onClick:S,children:"Close"})})]})};var Z=function(e){var t=Object(o.g)(),n=Object(a.useReducer)(z,X),c=Object(m.a)(n,2),r=c[0],s=c[1],i=r.password,d=r.isSubmitted,u=r.isSending,j=r.isSuccess,f=r.isError,h=r.error,O=Object(a.useState)(!0),x=Object(m.a)(O,2),w=x[0],A=x[1];Object(a.useEffect)((function(){function n(){return(n=Object(b.a)(p.a.mark((function n(){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M(e.match.params.token,{password:i}).then((function(e){s({type:"success"}),setTimeout((function(){A(!1),t.push("".concat("/filmapp-react-frontend/")),setTimeout((function(){t.push("".concat("/filmapp-react-frontend/","login"))}),500)}),1500)})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),s({type:"error",payload:t})}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}u&&function(){n.apply(this,arguments)}()}),[u,t,i,e.match.params.token]);var N=function(){A(!1),t.push("".concat("/filmapp-react-frontend/"))};return Object(l.jsxs)(D.a,{onHide:N,show:w,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(l.jsx)(D.a.Header,{closeButton:!0,children:Object(l.jsx)(D.a.Title,{id:"contained-modal-title-vcenter",children:"Reset"})}),Object(l.jsx)(D.a.Body,{children:Object(l.jsxs)(g.a,{onSubmit:function(t){t.preventDefault(),s({type:"submit"}),e.match.params.token&&i&&i.length>=6&&s({type:"send"})},children:[Object(l.jsxs)(g.a.Group,{children:[Object(l.jsx)(g.a.Label,{htmlFor:"password",children:"Password"}),Object(l.jsx)(g.a.Control,{isInvalid:d&&i.length<6,type:"password",name:"password",value:i,maxLength:"11",onChange:function(e){return s({type:"field",fieldName:"password",payload:e.target.value})}}),Object(l.jsx)(g.a.Control.Feedback,{type:"invalid",children:0===i.length?"Password is required":"Password too short (min 6 chars)"})]}),j&&Object(l.jsx)(H.a,{variant:"success",className:"mt-2",children:"Password has been reseated! Redirecting to login page."}),f&&Object(l.jsx)(H.a,{variant:"danger",className:"mt-2",children:h||"Error while resetting password."}),Object(l.jsxs)(g.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(l.jsx)(y.a,{type:"submit",className:"btn-primary",children:"Reset password"}),u&&Object(l.jsx)(v.a,{className:"ms-2",animation:"grow"})]})]})}),Object(l.jsx)(D.a.Footer,{children:Object(l.jsx)(y.a,{onClick:N,children:"Close"})})]})};var V=function(e){var t=Object(o.g)(),n=Object(a.useState)(!0),c=Object(m.a)(n,2),r=c[0],s=c[1],i=Object(a.useReducer)(z,X),d=Object(m.a)(i,2),u=d[0],j=d[1],f=u.email,h=u.isSuccess,O=u.isSubmitted,x=u.isSending,w=u.isError,A=u.error;Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J({email:f}).then((function(e){j({type:"success"})})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),j({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x&&function(){e.apply(this,arguments)}()}),[x,f]);var N=function(){s(!1),t.goBack()};return Object(l.jsxs)(D.a,{onHide:N,show:r,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(l.jsx)(D.a.Header,{closeButton:!0,children:Object(l.jsx)(D.a.Title,{id:"contained-modal-title-vcenter",children:"Forgot"})}),Object(l.jsx)(D.a.Body,{children:Object(l.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),j({type:"submit"}),f&&j({type:"send"})},children:[Object(l.jsxs)(g.a.Group,{children:[Object(l.jsx)(g.a.Label,{htmlFor:"email",children:"Email"}),Object(l.jsx)(g.a.Control,{isInvalid:O&&!f,type:"email",name:"email",value:f,onChange:function(e){return j({type:"field",fieldName:"email",payload:e.target.value})}}),Object(l.jsx)(g.a.Control.Feedback,{type:"invalid",children:"Email is required"})]}),h&&Object(l.jsx)(H.a,{variant:"success",className:"mt-2",children:"Email with link to reset password has been sent."}),w&&Object(l.jsx)(H.a,{variant:"danger",className:"mt-2",children:A||"Error while sending email."}),Object(l.jsxs)(g.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(l.jsx)(y.a,{type:"submit",className:"btn-primary",children:"Reset password"}),x&&Object(l.jsx)(v.a,{className:"ms-2",animation:"grow"})]})]})}),Object(l.jsx)(D.a.Footer,{children:Object(l.jsx)(y.a,{onClick:N,children:"Close"})})]})},W={name:"",email:""},Q=Object(s.a)(Object(s.a)({},W),{},{password:"",initialUser:W,isInitialLoaded:!1,isSubmitted:!1,isSending:!1,error:"",success:""}),q=function(e,t){switch(t.type){case"field":return Object(s.a)(Object(s.a)({},e),{},Object(L.a)({error:""},t.fieldName,t.payload));case"initial-success":return Object(s.a)(Object(s.a)({},e),{},{initialUser:{email:t.email,name:t.name},isInitialLoaded:!0});case"submit":return Object(s.a)(Object(s.a)({},e),{},{isSubmitted:!0,error:null});case"send":return Object(s.a)(Object(s.a)({},e),{},{isSending:!0});case"success":return Object(s.a)(Object(s.a)({},e),{},{isSubmitted:!1,isSending:!1,success:"Changes saved successfully!",error:null});case"error":return Object(s.a)(Object(s.a)({},e),{},{isSending:!1,isSubmitted:!1,error:t.payload});default:return e}},_=n(117),$=function(e){var t=Object(a.useContext)(C.a),n=t.user,c=t.clearUser,r=t.updateUser,i=Object(o.g)(),d=Object(o.h)(),u=Object(a.useReducer)(q,Q),j=Object(m.a)(u,2),f=j[0],h=j[1],O=f.email,x=f.name,w=f.password,A=f.initialUser,N=(f.isSubmitted,f.isSending),k=f.isInitialLoaded,L=f.success,S=f.error,E=Object(a.useState)(!0),B=Object(m.a)(E,2),I=B[0],F=B[1];Object(a.useEffect)((function(){!n.auth&&n.isInitialLoaded&&(F(!1),i.replace("".concat("/filmapp-react-frontend/")),i.push("".concat("/filmapp-react-frontend/","login")),c())}),[n,i,c]),Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a().then((function(e){h({type:"initial-success",name:e.data.name,email:e.data.email})})).catch((function(e){console.error(e),h({type:"error",payload:!0})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},w&&(t={password:w}),O&&""!==O&&O!==A.email&&(t=Object(s.a)(Object(s.a)({},t),{},{email:O})),x&&""!==x&&x!==A.name&&(t=Object(s.a)(Object(s.a)({},t),{},{name:x})),e.next=6,_.b(t).then((function(e){h({type:"success"}),setTimeout((function(){var t=d.pathname.slice(0,-9);""===t&&(t="/filmapp-react-frontend/"),i.replace({pathname:t,search:d.search,state:d.state}),r(e.data.accessToken)}),500)})).catch((function(e){console.error(e),h({type:"error",payload:e.response&&e.response.data&&e.response.data.error?e.response.data.error:"Something went wrong!"})}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}N&&function(){e.apply(this,arguments)}()}),[O,A.email,A.name,N,x,w,i,d,r]);return Object(l.jsxs)(D.a,{onHide:function(){F(!1),i.goBack()},show:I,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(l.jsx)(D.a.Header,{closeButton:!0,children:Object(l.jsx)(D.a.Title,{children:"Settings"})}),Object(l.jsxs)(D.a.Body,{children:[Object(l.jsxs)(g.a,{onSubmit:N?null:function(e){e.preventDefault(),h({type:"submit"}),(w||O&&""!==O&&O!==A.email||x&&""!==x&&x!==A.name)&&h({type:"send"})},children:[Object(l.jsxs)(g.a.Group,{children:[Object(l.jsx)(g.a.Label,{htmlFor:"name",children:"Name"}),Object(l.jsx)(g.a.Control,{type:"text",name:"email",value:x,placeholder:A.name,onChange:function(e){return h({type:"field",fieldName:"name",payload:e.target.value})}})]}),Object(l.jsxs)(g.a.Group,{className:"mt-2",children:[Object(l.jsx)(g.a.Label,{htmlFor:"email",children:"Email"}),Object(l.jsx)(g.a.Control,{type:"email",name:"email",value:O,placeholder:A.email,onChange:function(e){return h({type:"field",fieldName:"email",payload:e.target.value})}})]}),Object(l.jsxs)(g.a.Group,{className:"mt-2",children:[Object(l.jsx)(g.a.Label,{htmlFor:"password",children:"Password"}),Object(l.jsx)(g.a.Control,{type:"password",name:"password",value:w,onChange:function(e){return h({type:"field",fieldName:"password",payload:e.target.value})}})]}),Object(l.jsxs)(g.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(l.jsx)(y.a,{disabled:N||!k,type:"submit",className:"btn-primary",children:"Change"}),N&&Object(l.jsx)(v.a,{className:"ms-2",animation:"grow"})]})]}),S&&Object(l.jsx)(H.a,{variant:"danger",className:"mt-2 mb-0",children:S||"Error while logging in."}),L&&Object(l.jsx)(H.a,{variant:"success",className:"mt-2 mb-0",children:L})]})]})};var ee=function(e){var t=Object(o.g)(),n=Object(a.useContext)(C.a).login,c=Object(a.useReducer)(z,X),r=Object(m.a)(c,2),s=r[0],i=r[1],d=s.email,u=s.nick,j=s.password,f=s.isSubmitted,h=s.isSuccess,O=s.isSending,x=s.isError,w=s.error,A=Object(a.useState)(!0),N=Object(m.a)(A,2),k=N[0],L=N[1];Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({email:d,password:j,name:u}).then((function(e){i({type:"success"}),setTimeout((function(){n(e.data.user.name,e.data.user.id,e.data.token,e.data.refreshToken),t.goBack()}),1500)})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors?t=e.response.data.errors:e.response&&e.response.data&&e.response.data.error&&(t=e.response.data.error),i({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O&&function(){e.apply(this,arguments)}()}),[O,d,u,j,t,n]);var S=function(){L(!1),t.goBack()};return Object(l.jsxs)(D.a,{onHide:S,show:k,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(l.jsx)(D.a.Header,{closeButton:!0,children:Object(l.jsx)(D.a.Title,{id:"contained-modal-title-vcenter",children:"Register"})}),Object(l.jsx)(D.a.Body,{children:Object(l.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),i({type:"submit"}),d&&u&&j&&j.length>=6&&i({type:"send"})},children:[Object(l.jsxs)(g.a.Group,{children:[Object(l.jsx)(g.a.Label,{htmlFor:"nick",children:"Nick"}),Object(l.jsx)(g.a.Control,{isInvalid:f&&!u,type:"text",name:"nick",value:u,onChange:function(e){return i({type:"field",fieldName:"nick",payload:e.target.value})}}),Object(l.jsx)(g.a.Control.Feedback,{type:"invalid",children:"Nick is required"})]}),Object(l.jsxs)(g.a.Group,{className:"mt-2",children:[Object(l.jsx)(g.a.Label,{htmlFor:"email",children:"Email"}),Object(l.jsx)(g.a.Control,{isInvalid:f&&!d,type:"email",name:"email",value:d,onChange:function(e){return i({type:"field",fieldName:"email",payload:e.target.value})}}),Object(l.jsx)(g.a.Control.Feedback,{type:"invalid",children:"Email is required"})]}),Object(l.jsxs)(g.a.Group,{className:"mt-2",children:[Object(l.jsx)(g.a.Label,{htmlFor:"password",children:"Password"}),Object(l.jsx)(g.a.Control,{isInvalid:f&&j.length<6,type:"password",name:"password",value:j,maxLength:"11",onChange:function(e){return i({type:"field",fieldName:"password",payload:e.target.value})}}),Object(l.jsx)(g.a.Control.Feedback,{type:"invalid",children:0===j.length?"Password is required":"Password too short (min 6 chars)"})]}),h&&Object(l.jsx)(H.a,{variant:"success",className:"mt-2",children:"You have successfully registered and logged in."}),x&&Object(l.jsx)(H.a,{variant:"danger",className:"mt-2",children:w||"Error while registtering."}),Object(l.jsxs)(g.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(l.jsx)(y.a,{type:"submit",className:"btn-primary",children:"Register"}),O&&Object(l.jsx)(v.a,{className:"ms-2",animation:"grow"})]})]})}),Object(l.jsx)(D.a.Footer,{children:Object(l.jsx)(y.a,{onClick:S,children:"Close"})})]})},te=n(93),ne=function(e){var t=Object(a.useContext)(te.a),n=t.removeModalData,c=t.remove,r=t.clear,s=function(){return r()};return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(D.a,{show:n.show,onHide:s,centered:!0,children:[Object(l.jsx)(D.a.Header,{children:Object(l.jsxs)(D.a.Title,{children:["Delete ",n.type]})}),Object(l.jsxs)(D.a.Body,{children:["Do you really want to delete ",n.type," ",Object(l.jsx)("b",{children:n.title}),"?",Object(l.jsx)("br",{}),"Action cannot be undone!"]}),Object(l.jsxs)(D.a.Footer,{children:[Object(l.jsx)(y.a,{variant:"secondary",onClick:s,children:"Cancel"}),Object(l.jsx)(y.a,{variant:"primary",onClick:function(){return c()},children:"Delete"})]})]})})},ae=n(54),ce=n(367),re=n(68),se=n(92),ie=function(e){var t=e.children,n=Object(a.useContext)(C.a).logout;return Object(a.useMemo)((function(){R.a.interceptors.response.use((function(e){return e}),(function(e){var t,a=localStorage.getItem("accessToken"),c=e.config;return e.response&&401===e.response.status&&a&&!c._retry?"auth/refresh"===e.config.url?(n(),Promise.reject(e)):(c._retry=!0,(t={refreshToken:JSON.parse(localStorage.getItem("refreshToken"))},R.a.post("auth/refresh",t,{headers:Object(G.a)()})).then((function(e){if(201===e.status){var t=e.data.token;return localStorage.setItem("accessToken",JSON.stringify(t)),c.headers.Authorization="Bearer "+t,Object(R.a)(c)}}))):Promise.reject(e)}))}),[]),t},oe=n(142),le=function(e){var t=e.children,n=Object(o.h)().pathname,c=Object(a.useState)({name:"",id:null,auth:!1,isInitialLoaded:!1}),r=Object(m.a)(c,2),i=r[0],d=r[1];Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n]),Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("accessToken");if(e){var t=Object(oe.a)(e);d((function(){return{name:t.name,auth:!0,id:t.id,isInitialLoaded:!0}}))}else d((function(e){return Object(s.a)(Object(s.a)({},e),{},{isInitialLoaded:!0})}))}()}),[]);return Object(l.jsx)(C.a.Provider,{value:{user:i,login:function(e,t,n,a){localStorage.setItem("accessToken",JSON.stringify(n)),localStorage.setItem("refreshToken",JSON.stringify(a)),d((function(){return{name:e,auth:!0,id:t,isInitialLoaded:!0}}))},logout:function(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),d((function(e){return Object(s.a)(Object(s.a)({},e),{},{name:"",auth:!1,id:null})}))},clearUser:function(){d((function(e){return Object(s.a)(Object(s.a)({},e),{},{isInitialLoaded:!1})}))},updateUser:function(e){localStorage.setItem("accessToken",JSON.stringify(e));var t=Object(oe.a)(e);d((function(e){return Object(s.a)(Object(s.a)({},e),{},{name:t.name})})),window.location.reload()}},children:t})};re.b.add(F.f,F.h,F.i,F.m,F.l,F.d,F.e);var de="/filmapp-react-frontend/",ue=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,481))})),je=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,482))})),pe=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(7)]).then(n.bind(null,480))})),be=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(9)]).then(n.bind(null,483))})),me=Object(a.lazy)((function(){return n.e(10).then(n.bind(null,484))})),fe=Object(a.lazy)((function(){return n.e(11).then(n.bind(null,485))})),he=Object(a.lazy)((function(){return n.e(12).then(n.bind(null,486))}));var Oe=function(e){var t=Object(a.useContext)(se.a),n=t.toast,c=t.clearToast;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"toast-root",children:Object(l.jsxs)(ce.a,{show:n.isOpen,onClose:c,autohide:!0,className:"toast-element bg-secondary",children:[Object(l.jsx)(ce.a.Header,{children:Object(l.jsx)("strong",{className:"me-auto",children:"Playlist"})}),Object(l.jsx)(ce.a.Body,{children:n.message})]})}),Object(l.jsx)(ae.a,{children:Object(l.jsx)(le,{children:Object(l.jsxs)(ie,{children:[Object(l.jsx)(o.b,{render:function(){return Object(l.jsx)(P,{})}}),Object(l.jsx)(u,{exact:!0,path:["".concat(de,"settings"),"".concat(de,"profile/settings"),"".concat(de,"film/:id/settings"),"".concat(de,"search/settings"),"".concat(de,"add/settings"),"".concat(de,"playlists/settings")],component:$}),Object(l.jsx)(o.b,{exact:!0,path:["".concat(de,"login"),"".concat(de,"film/:id/login"),"".concat(de,"search/login"),"".concat(de,"add/login"),"".concat(de,"playlists/login")],render:function(e){return Object(l.jsx)(K,Object(s.a)({},e))}}),Object(l.jsx)(o.b,{exact:!0,path:["".concat(de,"register"),"".concat(de,"film/:id/register"),"".concat(de,"search/register"),"".concat(de,"add/register"),"".concat(de,"playlists/register")],render:function(e){return Object(l.jsx)(ee,Object(s.a)({},e))}}),Object(l.jsx)(o.b,{exact:!0,path:["".concat(de,"reset/:token"),"".concat(de,"film/:id/reset/:token"),"".concat(de,"search/reset/:token"),"".concat(de,"add/reset/:token"),"".concat(de,"playlists/reset/:token")],render:function(e){return Object(l.jsx)(Z,Object(s.a)({},e))}}),Object(l.jsx)(o.b,{exact:!0,path:["".concat(de,"forgot"),"".concat(de,"film/:id/forgot"),"".concat(de,"search/forgot"),"".concat(de,"add/forgot"),"".concat(de,"playlists/forgot")],render:function(e){return Object(l.jsx)(V,Object(s.a)({},e))}}),Object(l.jsx)(a.Suspense,{fallback:Object(l.jsxs)("div",{className:"suspense-loader",children:[" ",Object(l.jsx)(v.a,{className:"suspense-loader-spinner",animation:"border"})]}),children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{exact:!0,path:["".concat(de,"film/:id"),"".concat(de,"film/:id/login"),"".concat(de,"film/:id/register"),"".concat(de,"film/:id/reset/:token"),"".concat(de,"film/:id/forgot"),"".concat(de,"film/:id/settings")],render:function(e){return Object(l.jsx)(pe,Object(s.a)({},e))}}),Object(l.jsx)(o.b,{exact:!0,path:["".concat(de),"".concat(de,"login"),"".concat(de,"register"),"".concat(de,"settings"),"".concat(de,"reset/:token"),"".concat(de,"forgot")],render:function(e){return Object(l.jsx)(je,Object(s.a)({},e))}}),Object(l.jsx)(o.b,{exact:!0,path:["".concat(de,"search"),"".concat(de,"search/login"),"".concat(de,"search/settings"),"".concat(de,"search/register"),"".concat(de,"search/reset/:token"),"".concat(de,"search/forgot")],render:function(e){return Object(l.jsx)(be,Object(s.a)({},e))}}),Object(l.jsx)(o.b,{exact:!0,path:["".concat(de,"playlists"),"".concat(de,"playlists/login"),"".concat(de,"playlists/settings"),"".concat(de,"playlists/register"),"".concat(de,"playlists/reset/:token"),"".concat(de,"playlists/forgot")],render:function(e){return Object(l.jsx)(me,Object(s.a)({},e))}}),Object(l.jsx)(u,{exact:!0,path:["".concat(de,"add"),"".concat(de,"add/settings")],component:fe}),Object(l.jsx)(u,{exact:!0,path:["".concat(de,"profile"),"".concat(de,"profile/settings")],component:ue}),Object(l.jsx)(o.b,{exact:!0,path:"*",render:function(e){return Object(l.jsx)(he,Object(s.a)({},e))}})]})})]})})}),Object(l.jsx)(ne,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=function(e){var t=e.children,n=Object(a.useState)({isOpen:!1,message:"",isPrevoius:!1}),c=Object(m.a)(n,2),r=c[0],s=c[1];return Object(l.jsx)(se.a.Provider,{value:{toast:r,createToast:function(e){r.isPrevoius?(s({isOpen:!1,message:"",isPrevoius:!0}),setTimeout((function(){return s({isOpen:!0,message:e,isPrevoius:!0})}),850)):s({isOpen:!0,message:e,isPrevoius:!0})},clearToast:function(){s({isOpen:!1,message:"",isPrevoius:!1})}},children:t})},xe=function(e){var t=e.children,n=Object(a.useState)({show:!1,isRemoving:!1,id:null,type:null,title:""}),c=Object(m.a)(n,2),r=c[0],i=c[1];return Object(l.jsx)(te.a.Provider,{value:{showModal:function(e,t,n){i({show:!0,isRemoving:!1,id:e,type:t,title:n})},removeModalData:r,remove:function(){i((function(e){return Object(s.a)(Object(s.a)({},e),{},{show:!1,isRemoving:!0})}))},clear:function(){i({show:!1,isRemoving:!1,id:null,type:null,title:""})}},children:t})};r.a.render(Object(l.jsx)(ge,{children:Object(l.jsx)(xe,{children:Object(l.jsx)(Oe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},44:function(e,t,n){"use strict";var a=n(0),c=Object(a.createContext)({name:"",id:null,auth:!1,isInitialLoaded:!1});t.a=c},49:function(e,t,n){"use strict";t.a=function(){var e=JSON.parse(localStorage.getItem("accessToken"));return e?{Authorization:"Bearer "+e}:{}}},92:function(e,t,n){"use strict";var a=n(0),c=Object(a.createContext)("");t.a=c},93:function(e,t,n){"use strict";var a=n(0),c=Object(a.createContext)({show:!1,isRemoving:!1,id:null,type:null,title:""});t.a=c}},[[357,2,3]]]);
//# sourceMappingURL=main.880f5422.chunk.js.map