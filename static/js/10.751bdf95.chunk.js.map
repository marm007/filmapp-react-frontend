{"version":3,"sources":["config/index.js","helpers/components/rippleButton.js","services/playlistService.js","helpers/components/changePrivacyButton.js","components/blurredImage/index.js","../node_modules/useripple/dist/index.js","../node_modules/react-text-truncate/lib/index.js","helpers/components/removeButton.js","../node_modules/react-bootstrap/esm/Ratio.js","helpers/components/playlist.js","components/playlistsPage/reducer.js","components/playlistsPage/index.js"],"names":["commentsMaxFetchCount","recommendationsMaxFetchCount","playlistButtonMaxFetchCount","pageInitialMaxFetchCount","pageMaxFetchCount","RippleButton","onClick","children","className","useRipple","background","addRipple","ripples","variant","e","create","body","axios","post","headers","authHeader","index","id","get","show","params","partialUpdate","patch","remove","delete","ChangePrivacyButton","isPublic","isProfile","dispatchPrivacyUpdate","filmDispatch","useState","isChanging","setIsChanging","useEffect","a","playlistApi","is_public","then","res","type","payload","data","undefined","fieldName","catch","err","console","error","changePrivacy","privacyButton","stopPropagation","icon","style","height","width","BlurredImageComponent","props","image","setImage","aspectRatio","alt","src","_react","__esModule","_typeof","default","b","_getRequireWildcardCache","has","c","d","Object","defineProperty","getOwnPropertyDescriptor","prototype","hasOwnProperty","call","f","set","_interopRequireWildcard","require","Symbol","iterator","constructor","WeakMap","_extends","assign","arguments","length","apply","this","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","configurable","writable","_unsupportedIterableToArray","_arrayLikeToArray","toString","slice","name","Array","from","test","exports","isArray","_arrayWithHoles","g","h","next","done","_iterableToArrayLimit","TypeError","_nonIterableRest","_slicedToArray","currentTarget","getBoundingClientRect","left","top","clientX","clientY","i","Math","min","clientHeight","clientWidth","j","key","timeStamp","display","position","borderRadius","opacity","pointerEvents","animationName","animationDuration","concat","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_toConsumableArray","map","createElement","onAnimationEnd","define","_propTypes","_react2","_interopRequireDefault","_propTypes2","obj","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","_setPrototypeOf","p","TextTruncate","_Component","_getPrototypeOf2","_this","_len","args","_key","rafId","window","cancelAnimationFrame","requestAnimationFrame","update","bind","truncated","onToggled","setTimeout","onTruncated","onCalculated","getComputedStyle","scope","font","join","canvas","forceUpdate","document","docFragment","createDocumentFragment","appendChild","getContext","addEventListener","onResize","removeEventListener","text","ceil","measureText","_this$props","line","containerClassName","element","textElement","textTruncateChild","truncateText","maxCalculateTimes","scopeWidth","measureWidth","childText","currentPos","maxTextLength","truncatedText","splitPos","startPos","displayLine","lastIsEng","isPrevLineWithoutSpace","lastPos","lastSpaceIndex","ext","loopCnt","substr","lastIndexOf","_this2","_this$props2","_this$props2$style","fontWeight","fontStyle","fontSize","fontFamily","renderText","getRenderText","rootProps","ref","el","overflow","Component","string","oneOfType","number","bool","func","node","module","RemoveButton","handleRemove","Ratio","React","bsPrefix","useBootstrapPrefix","num","isCustomRatio","_jsx","classNames","only","defaultProps","Playlist","playlist","handleRedirect","colWidth","setStyle","film_id","xs","sm","md","lg","img","margin","justifyContent","alignItems","title","author_name","initialState","playlists","playlistsCount","isLoading","isAllFetched","isInitialLoaded","playlistsPageReducer","state","action","Set","responseCount","PlaylistsPage","history","useHistory","useReducer","dispatch","handleOnPlaylistsBottom","useCallback","useBottomScrollListener","triggerOnNoScroll","limit","result","filtered","process","fetchInitialPlaylists","skip","fetchPlaylists","setRedirect","playlistID","filmID","pathname","search","Row","Spinner","animation"],"mappings":"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","file":"static/js/10.751bdf95.chunk.js","sourcesContent":["export const commentsMaxFetchCount = 10\nexport const recommendationsMaxFetchCount = 12\n\nexport const playlistButtonMaxFetchCount = 10\n\nexport const pageInitialMaxFetchCount = 40\nexport const pageMaxFetchCount = 20\n","import Button from 'react-bootstrap/Button'\nimport useRipple from 'useripple'\n\nconst RippleButton = ({ onClick, children, className }) => {\n\n    const [addRipple, ripples] = useRipple({ background: 'black' })\n\n    return (\n        <Button variant=\"link\" onClick={(e) => {\n            addRipple(e)\n            onClick(e)\n        }}\n            className={`button-ripple ${className}`}>\n            {children}\n            {ripples}\n        </Button>\n    )\n}\n\nexport default RippleButton","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const create = (body) => axios.post('playlists', body, { headers: authHeader() })\nexport const index = (id) => axios.get(`playlists/${id}`, { headers: authHeader() })\nexport const show = (params) => axios.get(`playlists`, { params, headers: authHeader() })\nexport const partialUpdate = (id, body) => axios.patch(`playlists/${id}`, body, { headers: authHeader() })\n\n\nexport const remove = (id) => axios.delete(`playlists/${id}`, { headers: authHeader() })\n\n","import Col  from \"react-bootstrap/Col\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useEffect, useState } from \"react\"\nimport * as playlistApi from '../../services/playlistService'\nimport RippleButton from \"./rippleButton\"\n\nconst ChangePrivacyButton = ({ isPublic, id, isProfile, dispatchPrivacyUpdate, filmDispatch }) => {\n\n    const [isChanging, setIsChanging] = useState(false)\n\n\n    useEffect(() => {\n        async function changePrivacy() {\n            await playlistApi.partialUpdate(id, { is_public: !isPublic })\n                .then(res => {\n                    setIsChanging(false)\n\n                    dispatchPrivacyUpdate({\n                        type: 'change-playlist-privacy-success',\n                        payload: res.data\n                    })\n\n                    if (filmDispatch !== undefined) {\n                        filmDispatch({\n                            type: 'field',\n                            fieldName: 'reloadPlaylist',\n                            payload: true\n                        })\n                    }\n                })\n                .catch(err => {\n                    console.error(err)\n                    setIsChanging(false)\n                })\n        }\n        if (isChanging) changePrivacy()\n    }, [dispatchPrivacyUpdate, isChanging, isPublic, id, filmDispatch])\n\n    const handleChangePrivacy = (e) => {\n        e.stopPropagation()\n        if (!isChanging) setIsChanging(true)\n    }\n\n    const privacyButton = (\n        <RippleButton\n            className=\"button-ripple-24 p-0\"\n            onClick={handleChangePrivacy}>\n            <FontAwesomeIcon icon={isPublic ? \"globe-europe\" : \"lock\"} />\n        </RippleButton>\n    )\n\n    return isProfile ?\n        (\n            <Col className=\"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0\"\n            >\n                <Col\n                    className=\"remove-holder p-0 m-0 flex-grow-0\"\n                    style={{ height: '24px', width: '24' }}>\n                    {privacyButton}\n                </Col>\n            </Col>\n        ) :\n        privacyButton\n}\n\nexport default ChangePrivacyButton","import React, { useState, useEffect } from 'react';\nimport { Ratio } from 'react-bootstrap'\n\nfunction BlurredImageComponent(props) {\n\n    const [image, setImage] = useState(\"data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\")\n\n    useEffect(() => {\n        setImage(props.image);\n    }, [props.image])\n\n\n    return (\n        <Ratio aspectRatio=\"16x9\">\n            <img\n                alt=\"\"\n                className=\"embed-responsive-item play-image\"\n                src={image} />\n        </Ratio>);\n}\n\nexport default BlurredImageComponent;","\"use strict\";var _react=_interopRequireWildcard(require(\"react\"));function _typeof(a){\"@babel/helpers - typeof\";return _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&\"function\"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?\"symbol\":typeof a},_typeof(a)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports[\"default\"]=useRipple;function _getRequireWildcardCache(){if(\"function\"!=typeof WeakMap)return null;var a=new WeakMap;return _getRequireWildcardCache=function(){return a},a}function _interopRequireWildcard(a){if(a&&a.__esModule)return a;if(null===a||\"object\"!==_typeof(a)&&\"function\"!=typeof a)return{default:a};var b=_getRequireWildcardCache();if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}return c[\"default\"]=a,b&&b.set(a,c),c}function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function _iterableToArray(a){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function _unsupportedIterableToArray(a,b){if(a){if(\"string\"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return\"Object\"===c&&a.constructor&&(c=a.constructor.name),\"Map\"===c||\"Set\"===c?Array.from(a):\"Arguments\"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _iterableToArrayLimit(a,b){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h[\"return\"]||h[\"return\"]()}finally{if(e)throw f}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}var MINIMUM_RIPPLE_SIZE=100;function useRipple(a){var b=(0,_react.useState)([]),c=_slicedToArray(b,2),d=c[0],e=c[1],f=d.map(function(a){return/*#__PURE__*/_react[\"default\"].createElement(\"span\",_extends({},a,{onAnimationEnd:function handleAnimationEnd(){e(function(b){return b.filter(function(b){return b.key!==a.key})})}}))});return[function showRipple(b){var c=b.currentTarget.getBoundingClientRect(),d=c.left,f=c.top,g=b.clientX-d,h=b.clientY-f,i=Math.min(b.currentTarget.clientHeight,b.currentTarget.clientWidth,MINIMUM_RIPPLE_SIZE),j={key:b.timeStamp,style:_objectSpread({display:\"block\",width:i,height:i,position:\"absolute\",left:g-i/2,top:h-i/2,background:\"currentColor\",borderRadius:\"50%\",opacity:.4,pointerEvents:\"none\",animationName:\"useRippleAnimation\",animationDuration:\"0.7s\"},a)};e(function(a){return[].concat(_toConsumableArray(a),[j])})},f]}","\"use strict\";\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"react\", \"prop-types\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"react\"), require(\"prop-types\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.React, global.propTypes);\n    global.undefined = mod.exports;\n  }\n})(void 0, function (exports, _react, _propTypes) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = undefined;\n\n  var _react2 = _interopRequireDefault(_react);\n\n  var _propTypes2 = _interopRequireDefault(_propTypes);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _typeof(obj) {\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var TextTruncate = function (_Component) {\n    _inherits(TextTruncate, _Component);\n\n    function TextTruncate() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, TextTruncate);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TextTruncate)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _defineProperty(_assertThisInitialized(_this), \"onResize\", function () {\n        if (_this.rafId) {\n          window.cancelAnimationFrame(_this.rafId);\n        }\n\n        _this.rafId = window.requestAnimationFrame(_this.update.bind(_assertThisInitialized(_this)));\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onToggled\", function (truncated) {\n        typeof _this.props.onToggled === 'function' && setTimeout(function () {\n          return _this.props.onToggled(truncated);\n        }, 0);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onTruncated\", function () {\n        typeof _this.props.onTruncated === 'function' && setTimeout(function () {\n          return _this.props.onTruncated();\n        }, 0);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"onCalculated\", function () {\n        typeof _this.props.onCalculated === 'function' && setTimeout(function () {\n          return _this.props.onCalculated();\n        }, 0);\n      });\n\n      _defineProperty(_assertThisInitialized(_this), \"update\", function () {\n        var style = window.getComputedStyle(_this.scope);\n        var font = [style['font-weight'], style['font-style'], style['font-size'], style['font-family'], style['letter-spacing']].join(' ');\n        _this.canvas.font = font;\n\n        _this.forceUpdate();\n      });\n\n      return _this;\n    }\n\n    _createClass(TextTruncate, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var canvas = document.createElement('canvas');\n        var docFragment = document.createDocumentFragment();\n        var style = window.getComputedStyle(this.scope);\n        var font = [style['font-weight'], style['font-style'], style['font-size'], style['font-family']].join(' ');\n        docFragment.appendChild(canvas);\n        this.canvas = canvas.getContext('2d');\n        this.canvas.font = font;\n        this.forceUpdate();\n        window.addEventListener('resize', this.onResize);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        window.removeEventListener('resize', this.onResize);\n\n        if (this.rafId) {\n          window.cancelAnimationFrame(this.rafId);\n        }\n      }\n    }, {\n      key: \"measureWidth\",\n      value: function measureWidth(text) {\n        return Math.ceil(this.canvas.measureText(text).width);\n      }\n    }, {\n      key: \"getRenderText\",\n      value: function getRenderText() {\n        var _this$props = this.props,\n            containerClassName = _this$props.containerClassName,\n            element = _this$props.element,\n            line = _this$props.line,\n            onCalculated = _this$props.onCalculated,\n            onTruncated = _this$props.onTruncated,\n            onToggled = _this$props.onToggled,\n            text = _this$props.text,\n            textElement = _this$props.textElement,\n            textTruncateChild = _this$props.textTruncateChild,\n            truncateText = _this$props.truncateText,\n            maxCalculateTimes = _this$props.maxCalculateTimes,\n            props = _objectWithoutProperties(_this$props, [\"containerClassName\", \"element\", \"line\", \"onCalculated\", \"onTruncated\", \"onToggled\", \"text\", \"textElement\", \"textTruncateChild\", \"truncateText\", \"maxCalculateTimes\"]);\n\n        var scopeWidth = this.scope.getBoundingClientRect().width; // return if display:none\n\n        if (scopeWidth === 0) {\n          return null;\n        } // return if all of text can be displayed\n\n\n        if (scopeWidth >= this.measureWidth(text)) {\n          this.onToggled(false);\n          return (0, _react.createElement)(textElement, props, text);\n        }\n\n        var childText = '';\n\n        if (textTruncateChild && typeof textTruncateChild.type === 'string') {\n          var type = textTruncateChild.type;\n\n          if (type.indexOf('span') >= 0 || type.indexOf('a') >= 0) {\n            childText = textTruncateChild.props.children;\n          }\n        }\n\n        var currentPos = 1;\n        var maxTextLength = text.length;\n        var truncatedText = '';\n        var splitPos = 0;\n        var startPos = 0;\n        var displayLine = line;\n        var width = 0;\n        var lastIsEng = false;\n        var isPrevLineWithoutSpace = false;\n        var lastPos = 0;\n        var lastSpaceIndex = -1;\n        var ext = '';\n        var loopCnt = 0;\n\n        while (displayLine-- > 0) {\n          ext = displayLine ? '' : truncateText + (childText ? ' ' + childText : '');\n\n          while (currentPos <= maxTextLength) {\n            truncatedText = text.substr(startPos, currentPos);\n            width = this.measureWidth(truncatedText + ext);\n\n            if (width < scopeWidth) {\n              splitPos = text.indexOf(' ', currentPos + 1);\n\n              if (splitPos === -1) {\n                currentPos += 1;\n                lastIsEng = false;\n              } else {\n                lastIsEng = true;\n                currentPos = splitPos;\n              }\n            } else {\n              do {\n                if (loopCnt++ >= maxCalculateTimes) {\n                  break;\n                }\n\n                truncatedText = text.substr(startPos, currentPos);\n\n                if (!displayLine) {\n                  currentPos--;\n                }\n\n                if (truncatedText[truncatedText.length - 1] === ' ') {\n                  truncatedText = text.substr(startPos, currentPos - 1);\n                }\n\n                if (lastIsEng) {\n                  lastSpaceIndex = truncatedText.lastIndexOf(' ');\n\n                  if (lastSpaceIndex > -1) {\n                    currentPos = lastSpaceIndex;\n\n                    if (displayLine) {\n                      currentPos++;\n                    }\n\n                    truncatedText = text.substr(startPos, currentPos);\n                  } else {\n                    currentPos--;\n                    truncatedText = text.substr(startPos, currentPos);\n                  }\n                } else {\n                  currentPos--;\n                  truncatedText = text.substr(startPos, currentPos);\n                }\n\n                width = this.measureWidth(truncatedText + ext);\n              } while (width >= scopeWidth && truncatedText.length > 0);\n\n              startPos += currentPos;\n              break;\n            }\n          }\n\n          if (currentPos >= maxTextLength) {\n            startPos = maxTextLength;\n            break;\n          }\n\n          if (lastIsEng && !isPrevLineWithoutSpace && text.substr(lastPos, currentPos).indexOf(' ') === -1) {\n            isPrevLineWithoutSpace = text.substr(lastPos, currentPos).indexOf(' ') === -1;\n            displayLine--;\n          }\n\n          lastPos = currentPos + 1;\n        }\n\n        if (startPos === maxTextLength) {\n          this.onToggled(false);\n          return (0, _react.createElement)(textElement, props, text);\n        }\n\n        this.onTruncated();\n        this.onToggled(true);\n        return _react2[\"default\"].createElement(\"span\", props, (0, _react.createElement)(textElement, props, text.substr(0, startPos) + truncateText + ' '), textTruncateChild);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        var _this$props2 = this.props,\n            element = _this$props2.element,\n            text = _this$props2.text,\n            _this$props2$style = _this$props2.style,\n            style = _this$props2$style === void 0 ? {} : _this$props2$style,\n            containerClassName = _this$props2.containerClassName,\n            line = _this$props2.line,\n            onCalculated = _this$props2.onCalculated,\n            onTruncated = _this$props2.onTruncated,\n            onToggled = _this$props2.onToggled,\n            textElement = _this$props2.textElement,\n            textTruncateChild = _this$props2.textTruncateChild,\n            truncateText = _this$props2.truncateText,\n            maxCalculateTimes = _this$props2.maxCalculateTimes,\n            props = _objectWithoutProperties(_this$props2, [\"element\", \"text\", \"style\", \"containerClassName\", \"line\", \"onCalculated\", \"onTruncated\", \"onToggled\", \"textElement\", \"textTruncateChild\", \"truncateText\", \"maxCalculateTimes\"]);\n\n        var fontWeight = style.fontWeight,\n            fontStyle = style.fontStyle,\n            fontSize = style.fontSize,\n            fontFamily = style.fontFamily;\n        var renderText = this.scope && line ? this.getRenderText() : (0, _react.createElement)(textElement, props, text);\n        ;\n        var rootProps = {\n          ref: function ref(el) {\n            _this2.scope = el;\n          },\n          className: containerClassName,\n          style: {\n            overflow: 'hidden',\n            fontWeight: fontWeight,\n            fontStyle: fontStyle,\n            fontSize: fontSize,\n            fontFamily: fontFamily\n          }\n        };\n        this.scope && this.onCalculated();\n        return (0, _react.createElement)(element, rootProps, renderText);\n      }\n    }]);\n\n    return TextTruncate;\n  }(_react.Component);\n\n  _defineProperty(TextTruncate, \"propTypes\", {\n    containerClassName: _propTypes2[\"default\"].string,\n    element: _propTypes2[\"default\"].string,\n    line: _propTypes2[\"default\"].oneOfType([_propTypes2[\"default\"].number, _propTypes2[\"default\"].bool]),\n    onCalculated: _propTypes2[\"default\"].func,\n    onTruncated: _propTypes2[\"default\"].func,\n    onToggled: _propTypes2[\"default\"].func,\n    text: _propTypes2[\"default\"].string,\n    textElement: _propTypes2[\"default\"].node,\n    textTruncateChild: _propTypes2[\"default\"].node,\n    truncateText: _propTypes2[\"default\"].string,\n    maxCalculateTimes: _propTypes2[\"default\"].number\n  });\n\n  _defineProperty(TextTruncate, \"defaultProps\", {\n    element: 'div',\n    line: 1,\n    text: '',\n    textElement: 'span',\n    truncateText: '…',\n    maxCalculateTimes: 10\n  });\n\n  exports.default = TextTruncate;\n  ;\n  module.exports = exports.default;\n});\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport RippleButton from '../../helpers/components/rippleButton'\n\nconst RemoveButton = ({ handleRemove }) => {\n    return (\n        <RippleButton\n            className=\"button-ripple-24 remove-holder p-0\"\n            onClick={handleRemove}>\n            <FontAwesomeIcon icon=\"trash-alt\" />\n        </RippleButton>\n    )\n}\n\nexport default RemoveButton","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  aspectRatio: '1x1'\n};\n\nfunction toPercent(num) {\n  if (num <= 0 || num > 100) return '100%';\n  if (num < 1) return `${num * 100}%`;\n  return `${num}%`;\n}\n\nconst Ratio = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  children,\n  aspectRatio,\n  style,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'ratio');\n  const isCustomRatio = typeof aspectRatio === 'number';\n  return /*#__PURE__*/_jsx(\"div\", {\n    ref: ref,\n    ...props,\n    style: { ...style,\n      ...(isCustomRatio && {\n        '--bs-aspect-ratio': toPercent(aspectRatio)\n      })\n    },\n    className: classNames(bsPrefix, className, !isCustomRatio && `${bsPrefix}-${aspectRatio}`),\n    children: React.Children.only(children)\n  });\n});\nRatio.defaultProps = defaultProps;\nexport default Ratio;","import React, { useEffect, useState } from 'react';\nimport { Col, Row } from 'react-bootstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport TextTruncate from \"react-text-truncate\";\nimport BlurredImageComponent from \"../../components/blurredImage\";\nimport RemoveButton from './removeButton';\nimport ChangePrivacyButton from './changePrivacyButton';\n\nconst Playlist = ({ playlist, handleRedirect, handleRemove, isProfile, dispatchPrivacyUpdate }) => {\n\n    const colWidth = isProfile ? 8 : 10\n\n    const [style, setStyle] = useState(\"mb-5 play-outer-container remove-container\")\n\n    useEffect(() => {\n        if (!playlist.film_id) setStyle(\"mb-5 play-cursor-default remove-container\")\n    }, [playlist.film_id])\n\n\n    return (\n        <Col xs={12} sm={6} md={3} lg={2}\n            key={playlist.id}>\n            <Col className={style} onClick={() => handleRedirect(playlist.id, playlist.film_id)}>\n                <div className=\"embed-responsive embed-responsive-16by9 z-depth-1-half play-container\">\n                    <BlurredImageComponent\n                        image={playlist.img} />\n\n                    <Row style={{ width: '100%', margin: 0 }} className=\"play-middle\">\n                        <Col xs={5} sm={5} style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'center' }}>\n                            <FontAwesomeIcon icon=\"play\" />\n                        </Col>\n                        <Col xs={7} sm={7} style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center' }}>\n                            <small className=\"fw-bold\" >Play all</small>\n                        </Col>\n                    </Row>\n                </div>\n\n                <Row className=\"m-0 mt-1\">\n                    <Col xs={colWidth} sm={colWidth} className=\"p-0\">\n                        <TextTruncate line={1} text={playlist.title}\n                            className=\"mb-1 mt-1 title \" />\n                    </Col>\n\n\n                    {\n                        isProfile && <Col xs={4} sm={4} className=\"p-0 d-flex justify-content-end\">\n                            <ChangePrivacyButton\n                                id={playlist.id}\n                                isPublic={playlist.is_public}\n                                isProfile={true}\n                                dispatchPrivacyUpdate={dispatchPrivacyUpdate} />\n                            <RemoveButton handleRemove={handleRemove} />\n                        </Col>\n                    }\n                </Row>\n                <p className=\"mb-0 author-nick-color\">\n                    <small>{playlist.author_name}</small>\n                </p>\n            </Col>\n        </Col>\n\n    )\n}\n\nexport default Playlist","import { pageInitialMaxFetchCount, pageMaxFetchCount  } from '../../config'\n\n\nexport const initialState = {\n    playlists: null,\n    playlistsCount: 0,\n    isLoading: false,\n    isAllFetched: false,\n    isInitialLoaded: false,\n    error: null,\n}\n\nexport const playlistsPageReducer = (state, action) => {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'initial-success': {\n            return {\n                ...state,\n                playlists: [...new Set([...action.playlists])],\n                isLoading: false,\n                isInitialLoaded: true,\n                isAllFetched: action.responseCount < pageInitialMaxFetchCount,\n                playlistsCount: state.playlistsCount + action.responseCount,\n            }\n        }\n        case 'load': {\n            return {\n                ...state,\n                isLoading: true,\n                isAllFetched: false,\n                error: null\n            }\n        }\n        case 'success': {\n            return {\n                ...state,\n                playlists: [...new Set([...state.playlists, ...action.playlists])],\n                isLoading: false,\n                isAllFetched: action.responseCount < pageMaxFetchCount,\n                playlistsCount: state.playlistsCount + action.responseCount,\n                error: null\n            }\n        }\n        case 'clear': {\n            return initialState\n        }\n        case 'error': {\n            return {\n                ...state,\n                isLoading: false,\n                isAllFetched: false,\n                error: action.payload\n            }\n        }\n        default:\n            return state\n    }\n}\n","import React, { useEffect, useReducer, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Row, Spinner } from 'react-bootstrap';\n\nimport * as playlistApi from '../../services/playlistService'\n\nimport { playlistsPageReducer, initialState } from './reducer'\nimport useBottomScrollListener from '../../helpers/hooks/useBottomScrollListener';\nimport Playlist from '../../helpers/components/playlist';\nimport { pageInitialMaxFetchCount, pageMaxFetchCount } from '../../config';\n\nconst pathName = process.env.REACT_APP_PATH_NAME;\n\nfunction PlaylistsPage(props) {\n\n    let history = useHistory()\n\n    const [state, dispatch] = useReducer(playlistsPageReducer, initialState)\n    const { playlists, isLoading, isAllFetched, isInitialLoaded, playlistsCount } = state\n\n    const handleOnPlaylistsBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && isInitialLoaded) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isAllFetched, isLoading, isInitialLoaded])\n\n    useBottomScrollListener(handleOnPlaylistsBottom, { triggerOnNoScroll: true })\n\n    useEffect(() => {\n        async function fetchInitialPlaylists() {\n            await playlistApi.show({ limit: pageInitialMaxFetchCount })\n                .then(res => {\n                    const result = res.data;\n\n                    let filtered = result.filter(playlist => playlist.film_id)\n\n                    filtered.forEach(playlist => {\n                        playlist.img = `${process.env.REACT_APP_API_URL}films/${playlist.film_id}/thumbnail?width=small_webp`\n                    });\n\n                    dispatch({\n                        type: 'initial-success',\n                        playlists: filtered,\n                        responseCount: result.length\n                    })\n\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        dispatch({ type: 'clear' })\n        fetchInitialPlaylists()\n\n    }, [])\n\n    useEffect(() => {\n        async function fetchPlaylists() {\n            await playlistApi.show({ skip: playlistsCount, limit: pageMaxFetchCount })\n                .then(res => {\n                    const result = res.data;\n\n                    let filtered = result.filter(playlist => playlist.film_id)\n\n                    filtered.forEach(playlist => {\n                        playlist.img = `${process.env.REACT_APP_API_URL}films/${playlist.film_id}/thumbnail?width=small_webp`\n                    });\n\n                    dispatch({\n                        type: 'success',\n                        playlists: filtered,\n                        responseCount: result.length\n                    })\n\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isLoading && isInitialLoaded) fetchPlaylists()\n\n    }, [isLoading, isInitialLoaded, playlists, playlistsCount])\n\n\n    const setRedirect = (playlistID, filmID) => {\n        history.push({\n            pathname: `${pathName}film/` + filmID,\n            search: `?list=${playlistID}`\n        });\n    };\n\n\n    return (\n        <Row className=\"mt-5 mx-2\">\n            {\n                playlists && playlists.map((playlist, index) => <Playlist key={playlist.id} playlist={playlist} index={index} handleRedirect={setRedirect} />)\n            }\n            {\n                !isAllFetched && <div className={!isInitialLoaded ? \"suspense-loader\" : \"fetch-loader d-flex justify-content-center\"}>\n                    {\n                        (isLoading || !isInitialLoaded) &&\n                        <Spinner className={!isInitialLoaded ? \"suspense-loader-spinner\" : \"\"} animation=\"border\" />\n                    }\n                </div>\n            }\n\n        </Row>\n\n    )\n}\n\nexport default PlaylistsPage\n"],"sourceRoot":""}