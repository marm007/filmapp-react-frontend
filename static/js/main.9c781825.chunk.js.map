{"version":3,"sources":["services/filmService.js","services/userService.js","helpers/hooks/useWindowsWidth.js","helpers/hooks/useBottomScrollListener.js","helpers/axios.js","helpers/components/privateRoute.js","components/navbar/reducer.js","components/navbar/index.js","images/header.png","services/authService.js","components/auth/reducer.js","components/auth/login.js","components/auth/resetPassword.js","components/auth/forgotPassword.js","components/settings/reducer.js","components/settings/index.js","components/auth/register.js","helpers/components/removeModal.js","helpers/components/withAxios.js","helpers/contexts/user/userProvider.js","App.js","serviceWorker.js","helpers/contexts/toast/toastProvider.js","helpers/contexts/removeModal/removeModalProvider.js","index.js","helpers/contexts/user/userContext.js","helpers/authHeader.js","helpers/contexts/toast/toastContext.js","helpers/contexts/removeModal/removeModalContext.js"],"names":["all","params","axios","get","index","id","search","view","patch","create","form","post","headers","authHeader","like","remove","delete","me","partialUpdate","body","useWindowsWidth","width","useState","isScreenSmall","setIsScreenSmall","checkScreenSize","window","innerWidth","useEffect","addEventListener","removeEventListener","createCallback","debounce","handleOnScroll","options","lodashDebounce","useBottomScrollListener","onBottom","useMemo","offset","debounceOptions","leading","triggerOnNoScroll","debouncedOnBottom","containerRef","useRef","useCallback","current","scrollNode","scrollContainerBottomPosition","Math","round","scrollTop","clientHeight","scrollHeight","document","getElementById","scrollingElement","documentElement","innerHeight","ref","node","instance","baseURL","process","PrivateRoute","Component","component","rest","render","props","localStorage","getItem","to","pathname","state","from","location","initialSearchState","isLoading","isAllFetched","isSearching","isOpen","selected","title","searchReducer","action","type","fieldName","payload","length","NavbarComponent","history","useHistory","useLocation","onSmallScreen","onMediumScreen","useContext","UserContext","user","logout","useReducer","dispatch","isExpanded","setIsExpanded","handleSearchOnBottom","typeaheadRef","handleKeyDown","a","filmApi","skip","then","data","map","film","img","catch","err","console","error","getAllSearchedFilms","event","target","className","keyCode","charCode","log","handleSearchSubmit","e","preventDefault","reset","clear","push","films","handleSearch","query","Navbar","expanded","expand","bg","variant","onToggle","onSelect","eventKey","handleSelect","Col","xs","span","order","sm","md","Brand","style","cursor","onClick","alt","src","height","Toggle","Form","inline","Row","useCache","filterBy","open","placeholder","labelKey","minLength","onSearch","onBlur","onFocus","onKeyDown","onMenuToggle","onInputChange","text","onChange","renderMenu","results","menuProps","result","option","position","stopPropagation","marginRight","role","href","Spinner","animation","Button","icon","faSearch","Collapse","Nav","activeKey","Link","auth","align","viewScroll","offsetY","direction","menuButton","name","toUpperCase","charAt","slice","handleLogin","login","username","email","password","register","forget","token","authInitialState","nick","isSubmitted","isSending","isSuccess","isError","authReducer","Login","show","setShow","authApi","res","refreshToken","replace","errorMessage","response","errors","sendData","modalClose","goBack","Modal","onHide","size","centered","Header","closeButton","Title","Body","onSubmit","Group","Label","htmlFor","Control","isInvalid","value","Feedback","disabled","Alert","setTimeout","Footer","ResetPassword","match","maxLength","ForgotPassword","submitData","userInitialState","settingsInitialState","initialUser","isInitialLoaded","success","settingsReducer","Settings","clearUser","updateUser","userApi","getUser","toUpdate","accessToken","updateUserData","Register","RemoveModal","RemoveModalContext","removeModalData","handleClose","WithAxios","children","interceptors","use","isAuth","originalRequest","config","status","_retry","url","Promise","reject","JSON","parse","setItem","stringify","UserProvider","setUser","scrollTo","decoded","jwt_decode","getMe","Provider","removeItem","reload","library","add","faPlay","faSortDown","faSortUp","faTrashAlt","faTimes","faGlobeEurope","faLock","pathName","ProfileComponent","lazy","HomeComponent","FilmComponent","SearchComponent","PlaylistsPage","AddFilmComponent","NotFoundComponent","App","ToastContext","toast","clearToast","Toast","onClose","autohide","message","exact","path","SettingsComponent","fallback","Boolean","hostname","ToastProvider","isPrevoius","setToast","createToast","RemoveModalProvider","isRemoving","setRemoveModalData","showModal","prevState","ReactDOM","navigator","serviceWorker","ready","registration","unregister","createContext"],"mappings":"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","file":"static/js/main.9c781825.chunk.js","sourcesContent":["import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const all = (params) => axios.get('films/', {params})\nexport const index = (id) => axios.get(`films/${id}`)\nexport const search = (params) => axios.get('films/search', {params})\n\nexport const view = (id) => axios.patch(`films/${id}/view`)\n\nexport const video = (id) => axios.get(`films/${id}/video`)\nexport const thumbnail = (id, params) => axios.get(`films/${id}/thumbnail`, {params})\n\nexport const create = (form) => axios.post(`films`, form, {headers: authHeader()})\n\nexport const update = (id, form) => axios.put(`films/${id}`, form, {headers: authHeader()})\nexport const partialUpdate = (id, form) => axios.patch(`films/${id}`, form, {headers: authHeader()})\n\nexport const like = (id, form) => axios.patch(`films/${id}/action`, form, {headers: authHeader()})\n\nexport const remove = (id) => axios.delete(`films/${id}`, { headers: authHeader() })\n\n\n\n","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const me = (params) => axios.get('users/me', { params, headers: authHeader() })\nexport const partialUpdate = (body) => axios.patch('users', body, { headers: authHeader() })\n\nexport const userService = {\n    login,\n    logout,\n    register\n};\n\nfunction login(username, password) {\n\n    let loginHeaderMy = null\n\n    const requestOptions = {\n        method: 'POST',\n        headers: loginHeaderMy\n\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/auth`, requestOptions)\n        .then(handleResponse)\n        .then(user => {\n            localStorage.setItem('user', JSON.stringify(user));\n            return user;\n        })\n}\n\nfunction logout() {\n    localStorage.removeItem('user');\n}\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n    return fetch(`${process.env.REACT_APP_API_URL}/users/`, requestOptions)\n        .then(handleResponse);\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                logout();\n            }\n            const error = (data && data.errors) || response.statusText;\n            return Promise.reject(error);\n        }\n        return data;\n    })\n}\n\n","import { useState, useEffect } from \"react\";\n\nconst useWindowsWidth = (width = 600) => {\n  const [isScreenSmall, setIsScreenSmall] = useState(false);\n\n  let checkScreenSize = () => {\n    setIsScreenSmall(window.innerWidth < width);\n  };\n  useEffect(() => {\n    checkScreenSize();\n    window.addEventListener(\"resize\", checkScreenSize);\n\n    return () => window.removeEventListener(\"resize\", checkScreenSize);\n  }, []);\n\n  return isScreenSmall;\n};\n\nexport default useWindowsWidth;\n","import { useCallback, useEffect, useRef, useMemo } from 'react';\nimport lodashDebounce from 'lodash.debounce';\n\nconst createCallback = (debounce, handleOnScroll, options) => {\n  if (debounce) {\n    return lodashDebounce(handleOnScroll, debounce, options);\n  } else {\n    return handleOnScroll;\n  }\n};\n\nfunction useBottomScrollListener(\n  onBottom = () => { },\n  options = {},\n) {\n  const { offset, triggerOnNoScroll, debounce, debounceOptions, id } = useMemo(\n    () => ({\n      offset: options?.offset ?? 20,\n      debounce: options?.debounce ?? 200,\n      debounceOptions: options?.debounceOptions ?? { leading: true },\n      triggerOnNoScroll: options?.triggerOnNoScroll ?? false,\n      id: options?.id ?? null\n    }),\n    [options?.offset, options?.debounce, options?.debounceOptions, options?.triggerOnNoScroll, options?.id],\n  );\n\n  const debouncedOnBottom = useMemo(() => createCallback(debounce, onBottom, debounceOptions), [onBottom, debounce, debounceOptions]);\n  const containerRef = useRef(null);\n  const handleOnScroll = useCallback(() => {\n\n    if (containerRef.current != null) {\n      const scrollNode = containerRef.current;\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n\n      if (scrollPosition <= scrollContainerBottomPosition) {\n        debouncedOnBottom();\n      }\n    } else if (id !== null) {\n      const scrollNode = document.getElementById(id);\n      if (scrollNode) {\n        const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\n        const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n        if (scrollPosition <= scrollContainerBottomPosition) {\n          debouncedOnBottom();\n        }\n      }\n    } else {\n      const scrollNode = document.scrollingElement || document.documentElement;\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + window.innerHeight);\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n\n      if (scrollPosition <= scrollContainerBottomPosition) {\n        debouncedOnBottom();\n      }\n    }\n  }, [debouncedOnBottom, offset, id]);\n\n  useEffect(() => {\n    const ref = containerRef.current;\n    const node = document.getElementById(id)\n\n    if (ref != null) {\n      ref.addEventListener('scroll', handleOnScroll);\n    } else if (node !== null) {\n      node.addEventListener('scroll', handleOnScroll);\n    } else {\n      window.addEventListener('scroll', handleOnScroll);\n    }\n\n    if (triggerOnNoScroll) {\n      handleOnScroll();\n    }\n\n    return () => {\n      if (ref != null) {\n        ref.removeEventListener('scroll', handleOnScroll);\n      } else if (node !== null) {\n        node.addEventListener('scroll', handleOnScroll);\n      } else {\n        window.removeEventListener('scroll', handleOnScroll);\n      }\n    };\n  }, [handleOnScroll, triggerOnNoScroll, id]);\n\n  return containerRef;\n}\n\nexport default useBottomScrollListener;\n","import axios from 'axios'\nconst instance = axios.create({\n    baseURL: process.env.REACT_APP_API_URL\n})\nexport default instance","import {Redirect, Route} from \"react-router\";\nimport React from \"react\";\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n    return <Route\n        {...rest}\n        render={props =>\n            localStorage.getItem('accessToken') ? (\n                <Component {...props} />\n            ) : (\n                <Redirect to={{\n                    pathname: `${process.env.REACT_APP_PATH_NAME}login`,\n                    state: {from: props.location}\n                }}/>\n            )\n        }/>\n};\n\nexport default PrivateRoute","export const initialSearchState = {\n    options: [],\n    isLoading: false,\n    isAllFetched: false,\n    isSearching: false,\n    isOpen: false,\n    selected: null,\n    title: ''\n}\n\nexport function searchReducer(state, action) {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                selected: null,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'pick-option': {\n            return {\n                ...state,\n                title: action.title,\n                selected: action.selected\n            }\n        }\n        case 'success-load': {\n            return {\n                ...state,\n                isLoading: false,\n                isSearching: false,\n                isAllFetched: action.payload.length < 10,\n                options: [...state.options, ...action.payload]\n            }\n        }\n        case 'success-search': {\n            return {\n                ...state,\n                isLoading: false,\n                isSearching: false,\n                isAllFetched: action.payload.length < 10,\n                options: action.payload\n            }\n        }\n        case 'clear': {\n            return initialSearchState\n        }\n        case 'load': {\n            return !state.isLoading && !state.isAllFetched ? {\n                ...state,\n                isLoading: true,\n                isAllFetched: false,\n                isSearching: false,\n            } : state\n        }\n        case 'search': {\n            return {\n                ...state,\n                options: [],\n                isSearching: true,\n                isLoading: false,\n                isAllFetched: false\n            }\n        }\n        default: return state\n    }\n}","/* eslint-disable jsx-a11y/role-has-required-aria-props */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect, useCallback, useContext, useReducer, useRef } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport { Button, Col, Row, Form, Nav, Navbar, Spinner } from 'react-bootstrap';\n\nimport headerIcon from '../../images/header.png';\nimport * as filmApi from '../../services/filmService'\n\nimport { AsyncTypeahead, Menu as AsyncMenu, MenuItem as AsyncMenuItem } from 'react-bootstrap-typeahead';\n\nimport UserContext from '../../helpers/contexts/user/userContext'\n\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\nimport './navbar.css';\nimport { initialSearchState, searchReducer } from './reducer';\n\nimport useBottomScrollListener from '../../helpers/hooks/useBottomScrollListener';\nimport useWindowsWidth from '../../helpers/hooks/useWindowsWidth';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\n\nimport {\n    Menu,\n    MenuItem,\n} from '@szhsin/react-menu';\nimport '@szhsin/react-menu/dist/index.css';\n\nfunction NavbarComponent(props) {\n\n    let history = useHistory();\n    let location = useLocation();\n\n    const onSmallScreen = useWindowsWidth();\n    const onMediumScreen = useWindowsWidth(768);\n\n    const { user, logout } = useContext(UserContext);\n\n    const [state, dispatch] = useReducer(searchReducer, initialSearchState)\n\n    const [isExpanded, setIsExpanded] = useState(false)\n\n    const { options, title, isLoading, isAllFetched, isSearching, isOpen, selected } = state\n\n    const handleSearchOnBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && !isSearching && isOpen) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isLoading, isAllFetched, isSearching, isOpen])\n\n    useBottomScrollListener(handleSearchOnBottom, { id: 'typeahead-navbar' })\n\n    const typeaheadRef = useRef(null)\n\n    const filterBy = () => true;\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", handleKeyDown);\n\n        return function cleanup() {\n            document.removeEventListener(\"keydown\", handleKeyDown);\n        }\n    })\n\n    useEffect(() => {\n        setIsExpanded(false)\n    }, [location])\n\n    useEffect(() => {\n        async function getAllSearchedFilms() {\n            await filmApi.search({ search: title, skip: options.length })\n                .then(({ data }) => {\n                    const options = data.map((film) => ({\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`\n                    }));\n\n                    dispatch({\n                        type: 'success-load',\n                        payload: options\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isLoading) getAllSearchedFilms()\n    }, [isLoading, title, options.length])\n\n    useEffect(() => {\n        async function getAllSearchedFilms() {\n            await filmApi.search({ search: title })\n                .then(({ data }) => {\n                    const options = data.map((film) => ({\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`\n                    }));\n                    dispatch({\n                        type: 'success-search',\n                        payload: options\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isSearching) getAllSearchedFilms()\n    }, [isSearching, title])\n\n    const handleKeyDown = (event) => {\n        if (event && event.target && event.target.className &&\n            event.target.className === \"rbt-input-main form-control rbt-input  focus\") {\n            let keyCode = event.keyCode || event.charCode;\n            console.log(keyCode)\n\n            switch (keyCode) {\n                case 13:\n                    handleSearchSubmit(event);\n                    break;\n                case 9:\n                    if (onSmallScreen)\n                        handleSearchSubmit(event);\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n\n    const handleSelect = (eventKey) => {\n\n        switch (eventKey) {\n            case 'add_film': {\n                history.push(`${process.env.REACT_APP_PATH_NAME}add`);\n                break;\n            }\n            case 'playlists':\n                history.push(`${process.env.REACT_APP_PATH_NAME}playlists`)\n                break;\n            default: break;\n        }\n    }\n\n    const handleSearchSubmit = (e) => {\n        e.preventDefault();\n\n        document.getElementById(\"search-form\").reset();\n        if (typeaheadRef) typeaheadRef.current.clear();\n\n        if (selected) {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}film/${selected.id}`,\n                search: '',\n                state: {}\n            });\n        }\n        else if (title === '') {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}search`,\n                search: `?title=${title}`,\n                state: {}\n            });\n        }\n        else if (options.length === 1) {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}film/${options[0].id}`,\n                search: '',\n                state: {}\n            });\n        } else {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}search`,\n                search: `?title=${title}`,\n                state: { films: options }\n            });\n        }\n\n        dispatch({\n            type: 'clear'\n        })\n    }\n\n\n    const handleLogoutClick = () => {\n        logout()\n    };\n\n    const handleProfileClick = () => {\n        history.push(`${process.env.REACT_APP_PATH_NAME}profile`)\n    };\n\n    const handleSettingsClick = () => {\n        let pathname = location.pathname\n        if (pathname === process.env.REACT_APP_PATH_NAME) pathname = pathname.slice(0, -1)\n\n        history.push({\n            pathname: `${pathname}/settings`,\n            search: location.search,\n            state: location.state\n        });\n    }\n\n    const handleToggle = (expanded) => {\n        setIsExpanded(expanded)\n    }\n    const handleSearch = useCallback((query) => {\n        dispatch({\n            type: 'search',\n            payload: query\n        })\n    }, []);\n\n    const handleLogin = () => {\n        let pathname = location.pathname\n        if (pathname === process.env.REACT_APP_PATH_NAME) pathname = pathname.slice(0, -1)\n        history.push({\n            pathname: `${pathname}/login`,\n            search: location.search,\n            state: location.state\n        });\n    }\n\n    return (\n\n        <Navbar\n            expanded={isExpanded}\n            className=\"py-2 px-4\"\n            expand=\"md\" bg=\"light\" variant=\"light\"\n            onToggle={handleToggle}\n            onSelect={e => handleSelect(e)}>\n\n            <Col className=\"pb-2\"\n                xs={{ span: 5, order: 'first' }}\n                sm={{ span: 2, order: 'first' }}\n                md={{ span: 4, order: 'first' }}>\n                <Navbar.Brand style={{ cursor: 'pointer' }}\n                    className=\"d-flex align-items-center\"\n                    onClick={() => history.push(process.env.REACT_APP_PATH_NAME)}>\n                    <Navbar.Brand>\n                        {\n                            <img alt=\"\"\n                                src={headerIcon} width=\"30\"\n                                height=\"30\" />\n                        }\n                    </Navbar.Brand>\n                    {<p className=\"d-none d-md-inline m-0\">FilmApp</p>}\n                </Navbar.Brand>\n            </Col>\n\n            <Col className=\"text-right d-md-none m-button pb-2 \"\n                xs={{ span: 6, order: 2 }}\n                sm={{ span: 2, order: 'last' }}>\n                <Navbar.Toggle className=\"m-button\" aria-controls=\"responsive-navbar-nav\" />\n            </Col>\n\n            <Col xs={{ span: 12, order: 3 }}\n                sm={{ span: 8, order: 2 }}\n                md={{ span: 5, order: 2 }}>\n                <Form id=\"search-form\" inline=\"true\">\n                    <Row className=\"m-0\" style={{ width: 100 + '%' }}>\n                        <Col xs={12} sm={10} className=\"p-0\">\n                            <AsyncTypeahead\n                                ref={typeaheadRef}\n                                className=\"search-bar\"\n                                useCache={false}\n                                filterBy={filterBy}\n                                id=\"typeahead-navbar\"\n                                isLoading={true}\n                                open={isOpen}\n                                placeholder=\"Search\"\n                                labelKey=\"title\"\n                                minLength={1}\n                                options={options}\n                                onSearch={handleSearch}\n                                onBlur={(event) => dispatch({ type: 'field', fieldName: 'isOpen', payload: false })}\n                                onFocus={(event) => {\n                                    if (title !== '')\n                                        dispatch({ type: 'field', fieldName: 'isOpen', payload: true })\n                                }}\n                                onKeyDown={(event) => dispatch({ type: 'field', fieldName: 'isOpen', payload: true })}\n                                onMenuToggle={(isOpen) => dispatch({ type: 'field', fieldName: 'isOpen', payload: isOpen })}\n                                onInputChange={(text, event) => {\n                                    dispatch({\n                                        type: 'field',\n                                        fieldName: 'title',\n                                        payload: text\n                                    })\n                                    if (text === '')\n                                        dispatch({\n                                            type: 'field',\n                                            fieldName: 'options',\n                                            payload: []\n                                        })\n                                }}\n                                onChange={(selected) => {\n                                    const title = selected.length > 0 ? selected[0].title : '';\n                                    dispatch({\n                                        type: 'pick-option',\n                                        title: title,\n                                        selected: selected.length > 0 ? selected[0] : null\n                                    })\n                                }}\n                                renderMenu={(results, menuProps) => (\n                                    <AsyncMenu {...menuProps} className=\"pt-4 pb-4\">\n                                        {results.map((result, index) => (\n                                            <AsyncMenuItem key={result.id} option={result} position={index}>\n                                                <Row className=\"p-0 m-0 entry__inner\" onClick={(e) => {\n                                                    e.stopPropagation()\n                                                    e.preventDefault()\n                                                    dispatch({\n                                                        type: 'clear'\n                                                    })\n                                                    document.getElementById(\"search-form\").reset();\n                                                    if (typeaheadRef) typeaheadRef.current.clear();\n\n                                                    history.push({\n                                                        pathname: `${process.env.REACT_APP_PATH_NAME}film/${result.id}`,\n                                                        search: '',\n                                                        state: {}\n                                                    });\n\n                                                }}>\n                                                    <img\n                                                        className=\"p-0\"\n                                                        alt=\"\"\n                                                        src={result.img}\n                                                        style={{\n                                                            height: '24px',\n                                                            marginRight: '10px',\n                                                            width: '24px',\n                                                        }}\n                                                    />\n                                                    <span className=\"entry__text\">{result.title}</span>\n                                                </Row>\n                                            </AsyncMenuItem>\n                                        ))}\n\n\n\n                                        {!isLoading && !isSearching && results.length === 0 && <a role=\"option\" className=\"dropdown-item disabled\" href=\"#\">No matches found.</a>}\n                                        {isSearching && <a role=\"option\" className=\"dropdown-item disabled\" href=\"#\">Searching...</a>}\n                                        {\n                                            <div style={{ height: 8 + 'px' }} className=\"d-flex justify-content-center\">\n                                                {isLoading && !isAllFetched && <Spinner animation=\"border\" />}\n                                            </div>\n                                        }\n                                    </AsyncMenu>\n                                )}\n\n                            />\n                        </Col>\n                        <Col sm={2}>\n                            <Button onClick={handleSearchSubmit}\n                                className=\"d-none d-sm-inline\"\n                                variant=\"light\">\n                                <FontAwesomeIcon icon={faSearch} />\n                            </Button>\n                        </Col>\n                    </Row>\n                </Form>\n            </Col>\n\n\n            <Col xs={{ span: 12, order: 'last' }}\n                sm={{ span: 12, order: 'last' }}\n                md={{ span: 3, order: 'last' }}>\n\n                <Navbar.Collapse className=\"justify-content-end\" id=\"responsive-navbar-nav\">\n\n                    <Nav activeKey=\"\" className=\"d-block d-sm-block d-md-flex  align-items-center\">\n                        <Nav.Link className=\"px-2\" eventKey=\"playlists\">Playlists</Nav.Link>\n                        {user.auth && <Nav.Link className=\"px-2\" eventKey=\"add_film\">Add</Nav.Link>}\n\n                        {\n                            user.auth ?\n                                (\n                                    <Menu\n                                        className=\"avatar-menu-items\"\n                                        align={onMediumScreen ? \"start\" : \"end\"}\n                                        viewScroll=\"close\"\n                                        offsetY={12}\n                                        position=\"initial\"\n                                        direction=\"bottom\"\n                                        menuButton={\n                                            <div\n                                                className=\"pe-2 ps-2 custom-avatar m-button\">\n                                                {user.name.toUpperCase().charAt(0)}\n                                            </div>\n                                        }\n                                    >\n                                        <MenuItem onClick={handleProfileClick} > Profile</MenuItem>\n                                        <MenuItem onClick={handleSettingsClick}>Settings</MenuItem>\n                                        <MenuItem onClick={handleLogoutClick}>Logout</MenuItem>\n                                    </Menu>\n\n\n                                ) :\n                                (\n                                    <Nav.Link className=\"pe-2 ps-2\" eventKey=\"login \"\n                                        onClick={() => handleLogin()}>\n                                        Login\n                                    </Nav.Link>\n                                )\n                        }\n                    </Nav>\n\n                </Navbar.Collapse>\n\n            </Col>\n\n\n\n        </Navbar>\n    )\n}\n\nexport default NavbarComponent","export default \"data:image/png;base64,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\"","import authHeader from '../helpers/authHeader'\nimport axios from '../helpers/axios'\n\nexport const login = (data) => axios.post('auth', {}, {\n    auth: {\n        username: data.email,\n        password: data.password\n    }\n})\nexport const register = (form) => axios.post('users', form)\n\nexport const refresh = (data) => axios.post('auth/refresh', data, {headers: authHeader()})\nexport const forget = (form) => axios.post('auth/password/forgot', form)\nexport const reset = (token, form) => axios.post(`auth/password/reset/${token}`, form)","\nexport const authInitialState = {\n    email: '',\n    nick: '',\n    password: '',\n    isSubmitted: false,\n    isSending: false,\n    isSuccess: false,\n    isError: false,\n    error: null\n}\n\nexport const authReducer = (state, action) => {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                isSubmitted: false,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'submit': {\n            return {\n                ...state,\n                isError: false,\n                error: null,\n                isSubmitted: true\n            }\n        }\n        case 'send': {\n            return {\n                ...state,\n                isSending: true\n            }\n        }\n        case 'success': {\n            return {\n\n                ...state,\n                isError: false,\n                error: null,\n                isSending: false,\n                isSuccess: true\n            }\n        }\n        case 'error': {\n            return {\n                ...state,\n                isSending: false,\n                isError: true,\n                error: action.payload\n            }\n        }\n        default: return state\n    }\n}","import React, { useState, useEffect, useContext, useReducer } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom'\n\nimport { Alert, Button, Col, Form, Modal, Spinner } from 'react-bootstrap';\n\nimport * as authApi from '../../services/authService'\n\nimport UserContext from '../../helpers/contexts/user/userContext'\nimport { authInitialState, authReducer } from './reducer';\n\nfunction Login(props) {\n\n    const { login } = useContext(UserContext);\n\n    let history = useHistory()\n    let location = useLocation()\n\n    const [state, dispatch] = useReducer(authReducer, authInitialState)\n    const { email, password, isSubmitted, isSending, isError, error } = state\n    const [show, setShow] = useState(true)\n\n    useEffect(() => {\n        async function sendData() {\n            await authApi.login({ email, password })\n                .then(res => {\n                    login(res.data.user.name, res.data.user.id, res.data.token, res.data.refreshToken)\n                    //history.replace(location.pathname.slice(0, -6))\n\n                    let pathname = location.pathname.slice(0, -6)\n                    if (pathname === '') pathname = process.env.REACT_APP_PATH_NAME\n\n                    history.replace({\n                        pathname: pathname,\n                        search: location.search,\n                        state: location.state\n                    })\n\n                    //if (!location.state) {\n                    // history.goBack();\n                    //} else {\n                    //   history.replace(location.state.from)\n                    //}\n                })\n                .catch(err => {\n                    let errorMessage = null;\n\n                    if (err.response && err.response.data && err.response.data.errors)\n                        errorMessage = err.response.data.errors;\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage\n                    })\n\n                    console.error(err)\n                })\n        }\n        if (isSending) sendData()\n    }, [isSending, email, password, history, location, login])\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        dispatch({ type: 'submit' })\n\n        if (email && password) {\n            dispatch({ type: 'send' })\n        }\n    }\n\n    const handleForgotPassword = () => {\n        history.goBack();\n\n        setTimeout(function () {\n            history.push(`${location.pathname.slice(0, -5)}forgot${location.search}`);\n        }, 500);\n    };\n\n    const modalClose = () => {\n        setShow(false)\n        if (!location.state) {\n            history.goBack();\n        } else {\n            history.push(process.env.REACT_APP_PATH_NAME)\n        }\n    };\n\n    const handleRegister = () => {\n        history.goBack();\n\n        setTimeout(function () {\n            history.push(`${location.pathname.slice(0, -5)}register${location.search}`);\n        }, 500);\n    };\n\n\n\n    return (\n\n        <Modal\n            onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Login\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={isSending ? null : handleSubmit}>\n\n                    <Form.Group>\n                        <Form.Label htmlFor=\"email\">Email</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && !email} type=\"email\" name=\"email\" value={email}\n                            onChange={e => dispatch({ type: 'field', fieldName: 'email', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Email is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className=\"mt-2\">\n                        <Form.Label htmlFor=\"password\">Password</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && !password} type=\"password\" name=\"password\"\n                            value={password} onChange={e => dispatch({ type: 'field', fieldName: 'password', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Password is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button  disabled={isSending} type=\"submit\" className=\"btn-primary\">\n                            Login\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n\n                </Form>\n\n                {\n                    isError &&\n                    <Alert variant=\"danger\" className=\"mt-2 mb-0\">\n                        {error ? error : 'Error while logging in.'}\n                    </Alert>\n                }\n\n                <Button variant=\"link\" onClick={handleRegister} className=\"p-0 mt-2 btn btn-link\">Register</Button>\n\n                <Col className=\"p-0 m-0 \" xs={12} sm={12}>\n                    <Button variant=\"link\" onClick={handleForgotPassword} className=\"p-0 mt-2 btn btn-link\">Forgot password?</Button>\n                </Col>\n\n            </Modal.Body>\n\n            <Modal.Footer>\n                <Button onClick={modalClose}>Close</Button>\n            </Modal.Footer>\n\n\n        </Modal>\n\n\n    );\n}\n\nexport default Login","import React, { useState, useReducer, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Alert, Button, Form, Modal, Spinner } from 'react-bootstrap';\nimport * as authApi from '../../services/authService'\nimport { authInitialState, authReducer } from './reducer';\n\nfunction ResetPassword(props) {\n\n    let history = useHistory()\n\n    const [state, dispatch] = useReducer(authReducer, authInitialState)\n\n    const { password, isSubmitted, isSending, isSuccess, isError, error } = state\n\n    const [show, setShow] = useState(true)\n\n    useEffect(() => {\n        async function sendData() {\n            await authApi.reset(props.match.params.token, { password: password })\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n\n                    setTimeout(function () {\n                        setShow(false);\n                        history.push(`${process.env.REACT_APP_PATH_NAME}`);\n                        setTimeout(function () {\n                            history.push(`${process.env.REACT_APP_PATH_NAME}login`);\n                        }, 500);\n                    }, 1500);\n\n                })\n                .catch(err => {\n                    let errorMessage = null;\n\n                    if (err.response && err.response.data && err.response.data.errors)\n                        errorMessage = err.response.data.errors;\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage\n                    })\n\n                })\n\n        }\n\n\n        if (isSending) sendData()\n\n    }, [isSending, history, password, props.match.params.token])\n\n    const handleSubmitPasswordChange = (e) => {\n        e.preventDefault();\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if (props.match.params.token && password && password.length >= 6) {\n            dispatch({ type: 'send' })\n        }\n    }\n\n    const modalClose = () => {\n        setShow(false)\n        history.push(`${process.env.REACT_APP_PATH_NAME}`);\n    };\n\n    return (\n\n        <Modal\n            onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n        >\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Reset\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={handleSubmitPasswordChange}>\n                    <Form.Group>\n                        <Form.Label htmlFor=\"password\">Password</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && (password.length < 6)} type=\"password\"\n                            name=\"password\" value={password} maxLength=\"11\"\n                            onChange={e => dispatch({ type: 'field', fieldName: 'password', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type={\"invalid\"}>\n                            {\n                                password.length === 0 ? \"Password is required\" : \"Password too short (min 6 chars)\"\n                            }\n\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    {\n                        isSuccess &&\n                        <Alert variant=\"success\" className=\"mt-2\">\n                            Password has been reseated! Redirecting to login page.\n                        </Alert>\n                    }\n\n                    {\n                        isError &&\n                        <Alert variant=\"danger\" className=\"mt-2\">\n                            {error ? error : 'Error while resetting password.'}\n                        </Alert>\n                    }\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button type=\"submit\" className=\"btn-primary\">\n                            Reset password\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                            }\n                    </Form.Group>\n\n                </Form>\n\n            </Modal.Body>\n\n            <Modal.Footer>\n                <Button onClick={modalClose}>Close</Button>\n            </Modal.Footer>\n\n\n        </Modal>\n\n\n    );\n}\n\n\nexport default ResetPassword","import React, { useState, useReducer, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Alert, Button, Form, Modal, Spinner } from 'react-bootstrap';\nimport * as authApi from '../../services/authService'\nimport { authInitialState, authReducer } from './reducer';\n\nfunction ForgotPassword(props) {\n    let history = useHistory()\n\n    const [show, setShow] = useState(true)\n\n    const [state, dispatch] = useReducer(authReducer, authInitialState)\n\n    const { email, isSuccess, isSubmitted, isSending, isError, error } = state\n\n    useEffect(() => {\n        async function submitData() {\n\n            await authApi.forget({ email: email })\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n                })\n                .catch(err => {\n                    let errorMessage = null;\n\n                    if (err.response && err.response.data && err.response.data.errors)\n                        errorMessage = err.response.data.errors;\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage\n                    })\n\n                    console.error(err)\n                })\n        }\n        if (isSending) submitData()\n    }, [isSending, email])\n\n    const handleSubmitForgotRequest = (e) => {\n        e.preventDefault();\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if (email) {\n            dispatch({\n                type: 'send'\n            })\n        }\n    };\n\n    const modalClose = () => {\n        setShow(false)\n        history.goBack();\n    };\n\n\n    return (\n\n        <Modal\n            onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Forgot\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={handleSubmitForgotRequest}>\n                    <Form.Group>\n                        <Form.Label htmlFor=\"email\">Email</Form.Label>\n                        <Form.Control\n                            isInvalid={(isSubmitted && !email)}\n\n                            type=\"email\" name=\"email\" value={email} onChange={e => dispatch({ type: 'field', fieldName: 'email', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Email is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n\n\n                    {\n                        isSuccess &&\n                        <Alert variant=\"success\" className=\"mt-2\">\n                            Email with link to reset password has been sent.\n                        </Alert>\n                    }\n\n                    {\n                        isError &&\n                        <Alert variant=\"danger\" className=\"mt-2\">\n                            {error ? error : \"Error while sending email.\"}\n                        </Alert>\n                    }\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button type=\"submit\" className=\"btn-primary\">\n                            Reset password\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n\n                </Form>\n\n            </Modal.Body>\n\n            <Modal.Footer>\n                <Button onClick={modalClose}>Close</Button>\n            </Modal.Footer>\n\n\n        </Modal>\n\n\n    );\n}\n\nexport default ForgotPassword","const userInitialState = {\n    name: '',\n    email: ''\n}\n\nexport const settingsInitialState = {\n    ...userInitialState,\n    password: '',\n    initialUser: userInitialState,\n    isInitialLoaded: false,\n    isSubmitted: false,\n    isSending: false,\n    error: '',\n    success: ''\n}\n\nexport const settingsReducer = (state, action) => {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                error: '',\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'initial-success': {\n            return {\n                ...state,\n                initialUser: {\n                    email: action.email,\n                    name: action.name\n                },\n                isInitialLoaded: true\n            }\n        }\n        case 'submit': {\n            return {\n                ...state,\n                isSubmitted: true,\n                error: null,\n            }\n        }\n        case 'send': {\n            return {\n                ...state,\n                isSending: true\n            }\n        }\n        case 'success': {\n            return {\n                ...state,\n                isSubmitted: false,\n                isSending: false,\n                success: 'Changes saved successfully!',\n                error: null\n            }\n        }\n        case 'error': {\n            return {\n                ...state,\n                isSending: false,\n                isSubmitted: false,\n                error: action.payload\n            }\n        }\n        default: return state\n    }\n}","import { Modal, Form, Button, Spinner, Alert } from \"react-bootstrap\";\nimport { useEffect, useState, useReducer, useContext } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport UserContext from \"../../helpers/contexts/user/userContext\";\nimport { settingsInitialState, settingsReducer } from \"./reducer\";\nimport * as userApi from '../../services/userService'\n\nconst Settings = (props) => {\n\n    const { user, clearUser, updateUser } = useContext(UserContext)\n\n    let history = useHistory()\n    let location = useLocation()\n\n    const [state, dispatch] = useReducer(settingsReducer, settingsInitialState)\n    // eslint-disable-next-line no-unused-vars\n    const { email, name, password, initialUser, isSubmitted, isSending, isInitialLoaded, success, error } = state\n\n    const [show, setShow] = useState(true)\n\n    useEffect(() => {\n        if (!user.auth && user.isInitialLoaded) {\n            setShow(false)\n            history.replace(`${process.env.REACT_APP_PATH_NAME}`)\n            history.push(`${process.env.REACT_APP_PATH_NAME}login`)\n            clearUser()\n        }\n    }, [user, history, clearUser])\n\n    useEffect(() => {\n        async function getUser() {\n            await userApi.me()\n                .then(res => {\n                    dispatch({\n                        type: 'initial-success',\n                        name: res.data.name,\n                        email: res.data.email\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                    dispatch({\n                        type: 'error',\n                        payload: true\n                    })\n                })\n        }\n        getUser()\n    }, [])\n\n    useEffect(() => {\n        async function updateUserData() {\n            let toUpdate = {}\n            if (password) toUpdate = { password: password }\n            if (email && email !== '' && email !== initialUser.email) toUpdate = { ...toUpdate, email: email }\n            if (name && name !== '' && name !== initialUser.name) toUpdate = { ...toUpdate, name: name }\n\n            await userApi.partialUpdate(toUpdate)\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n\n                    setTimeout(() => {\n                        let pathname = location.pathname.slice(0, -9)\n                        if (pathname === '') pathname = process.env.REACT_APP_PATH_NAME\n                        history.replace({\n                            pathname: pathname,\n                            search: location.search,\n                            state: location.state\n                        })\n                        updateUser(res.data.accessToken)\n                    }, 500)\n                })\n                .catch(err => {\n                    console.error(err)\n                    dispatch({\n                        type: 'error',\n                        payload: err.response && err.response.data && err.response.data.error ? err.response.data.error : 'Something went wrong!'\n                    })\n                })\n        }\n        if (isSending) updateUserData()\n    }, [email, initialUser.email, initialUser.name, isSending, name, password, history, location, updateUser])\n\n    const modalClose = () => {\n        setShow(false)\n        history.goBack();\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if (password ||\n            (email && email !== '' && email !== initialUser.email) ||\n            (name && name !== '' && name !== initialUser.name)) {\n            dispatch({\n                type: 'send'\n            })\n        }\n    }\n\n    return (\n        <Modal onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title>\n                    Settings\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={isSending ? null : handleSubmit}>\n                    <Form.Group>\n                        <Form.Label htmlFor=\"name\">Name</Form.Label>\n                        <Form.Control type=\"text\" name=\"email\"\n                            value={name} placeholder={initialUser.name}\n                            onChange={e => dispatch({ type: 'field', fieldName: 'name', payload: e.target.value })}>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group className=\"mt-2\">\n                        <Form.Label htmlFor=\"email\">Email</Form.Label>\n                        <Form.Control type=\"email\" name=\"email\"\n                            value={email} placeholder={initialUser.email}\n                            onChange={e => dispatch({ type: 'field', fieldName: 'email', payload: e.target.value })}>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group className=\"mt-2\">\n                        <Form.Label htmlFor=\"password\">Password</Form.Label>\n                        <Form.Control type=\"password\" name=\"password\"\n                            value={password} onChange={e => dispatch({ type: 'field', fieldName: 'password', payload: e.target.value })}>\n                        </Form.Control>\n                    </Form.Group>\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button disabled={isSending || !isInitialLoaded} type=\"submit\" className=\"btn-primary\">\n                            Change\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n                </Form>\n                {\n                    error &&\n                    <Alert variant=\"danger\" className=\"mt-2 mb-0\">\n                        {error ? error : 'Error while logging in.'}\n                    </Alert>\n                }\n                {\n                    success &&\n                    <Alert variant=\"success\" className=\"mt-2 mb-0\">\n                        {success}\n                    </Alert>\n                }\n            </Modal.Body>\n        </Modal>\n    )\n}\n\nexport default Settings","import React, { useState, useReducer, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Alert, Button, Form, Modal, Spinner } from 'react-bootstrap';\nimport * as authApi from '../../services/authService'\nimport { authInitialState, authReducer } from './reducer';\nimport UserContext from '../../helpers/contexts/user/userContext'\n\nfunction Register(props) {\n\n    let history = useHistory()\n\n    const { login } = useContext(UserContext)\n    const [state, dispatch] = useReducer(authReducer, authInitialState)\n    const { email, nick, password, isSubmitted, isSuccess, isSending, isError, error } = state\n\n    const [show, setShow] = useState(true)\n\n    useEffect(() => {\n        async function submitData() {\n\n            await authApi.register({ email: email, password: password, name: nick })\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n                    setTimeout(() => {\n                        login(res.data.user.name, res.data.user.id, res.data.token, res.data.refreshToken)\n                        history.goBack()\n                    }, 1500)\n                })\n                .catch(err => {\n                    let errorMessage = null;\n\n                    if (err.response && err.response.data && err.response.data.errors)\n                        errorMessage = err.response.data.errors;\n                    else if (err.response && err.response.data && err.response.data.error)\n                        errorMessage = err.response.data.error\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage\n                    })\n                    console.error(err)\n                })\n        }\n\n        if (isSending) submitData()\n\n    }, [isSending, email, nick, password, history, login])\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if (email && nick && password && password.length >= 6) {\n            dispatch({\n                type: 'send'\n            })\n        }\n    }\n\n    const modalClose = () => {\n        setShow(false)\n        history.goBack();\n    };\n\n\n    return (\n\n        <Modal\n            onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Register\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={handleSubmit}>\n                    <Form.Group>\n                        <Form.Label htmlFor=\"nick\">Nick</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && !nick} type=\"text\" name=\"nick\" value={nick}\n                            onChange={e => dispatch({ type: 'field', fieldName: 'nick', payload: e.target.value })} >\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Nick is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className=\"mt-2\">\n                        <Form.Label htmlFor=\"email\">Email</Form.Label>\n                        <Form.Control\n                            isInvalid={(isSubmitted && !email)}\n                            type=\"email\" name=\"email\" value={email} onChange={e => dispatch({ type: 'field', fieldName: 'email', payload: e.target.value })} >\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Email is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className=\"mt-2\">\n                        <Form.Label htmlFor=\"password\">Password</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && (password.length < 6)} type=\"password\"\n                            name=\"password\" value={password} maxLength=\"11\"\n                            onChange={e => dispatch({ type: 'field', fieldName: 'password', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            {\n                                password.length === 0 ? \"Password is required\" : \"Password too short (min 6 chars)\"\n                            }\n\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    {\n                        isSuccess &&\n                        <Alert variant=\"success\" className=\"mt-2\">\n                            You have successfully registered and logged in.\n                        </Alert>\n                    }\n\n                    {\n                        isError &&\n                        <Alert variant=\"danger\" className=\"mt-2\">\n                            {error ? error : 'Error while registtering.'}\n                        </Alert>\n                    }\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button type=\"submit\" className=\"btn-primary\">\n                            Register\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n\n                </Form>\n\n            </Modal.Body>\n\n            <Modal.Footer>\n                <Button onClick={modalClose}>Close</Button>\n            </Modal.Footer>\n\n\n        </Modal>\n    );\n}\n\nexport default Register","import { useContext } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport RemoveModalContext from \"../contexts/removeModal/removeModalContext\";\n\nconst RemoveModal = (props) => {\n    const { removeModalData, remove, clear } = useContext(RemoveModalContext)\n\n    const handleRemove = () => remove()\n\n    const handleClose = () => clear();\n\n    return (\n        <>\n            <Modal show={removeModalData.show} onHide={handleClose} centered>\n                <Modal.Header>\n                    <Modal.Title>Delete {removeModalData.type}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>Do you really want to delete {removeModalData.type} <b>{removeModalData.title}</b>?\n                    <br />\n                    Action cannot be undone!\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Cancel\n                    </Button>\n                    <Button variant=\"primary\" onClick={handleRemove}>\n                        Delete\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n}\n\nexport default RemoveModal","import { useContext, useMemo } from 'react'\nimport { refresh } from '../../services/authService';\nimport axios from '../axios'\nimport UserContext from '../contexts/user/userContext';\n\nconst WithAxios = ({ children }) => {\n\n    const { logout } = useContext(UserContext);\n\n    useMemo(() => {\n        axios.interceptors.response.use((response) => {\n            return response\n        }, (error) => {\n            const isAuth = localStorage.getItem('accessToken')\n            const originalRequest = error.config\n\n            if (error.response && error.response.status === 401 && isAuth && !originalRequest._retry) {\n                if (error.config.url === 'auth/refresh') {\n                    logout()\n                    return Promise.reject(error)\n                }\n                originalRequest._retry = true\n                return refresh({ \"refreshToken\": JSON.parse(localStorage.getItem(\"refreshToken\")) })\n                    .then(res => {\n                        if (res.status === 201) {\n                            const accessToken = res.data.token\n                            localStorage.setItem('accessToken', JSON.stringify(accessToken))\n                            originalRequest.headers['Authorization'] = 'Bearer ' + accessToken\n                            return axios(originalRequest)\n                        }\n                    })\n            }\n            return Promise.reject(error);\n        })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    return children\n}\n\nexport default WithAxios","import { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport UserContext from './userContext';\nimport jwt_decode from \"jwt-decode\";\n\nconst UserProvider = ({ children }) => {\n    let { pathname } = useLocation()\n\n    const [user, setUser] = useState({ name: '', id: null, auth: false, isInitialLoaded: false });\n\n    useEffect(() => {\n        window.scrollTo(0, 0)\n    }, [pathname])\n\n    useEffect(() => {\n        function getMe() {\n            const token = localStorage.getItem('accessToken')\n            if (!token) {\n                setUser(user => ({ ...user, isInitialLoaded: true }))\n                return\n            }\n            const decoded = jwt_decode(token);\n            setUser(() => ({\n                name: decoded.name,\n                auth: true,\n                id: decoded.id,\n                isInitialLoaded: true\n            }));\n        }\n        getMe()\n    }, [])\n\n    const login = (name, id, token, refreshToken) => {\n        localStorage.setItem('accessToken', JSON.stringify(token));\n        localStorage.setItem('refreshToken', JSON.stringify(refreshToken));\n\n        setUser(() => ({\n            name: name,\n            auth: true,\n            id: id,\n            isInitialLoaded: true\n        }));\n    };\n\n    const logout = () => {\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('refreshToken');\n\n\n        setUser((user) => ({\n            ...user,\n            name: '',\n            auth: false,\n            id: null\n        }));\n    };\n\n    const updateUser = (accessToken) => {\n        localStorage.setItem('accessToken', JSON.stringify(accessToken));\n\n        const decoded = jwt_decode(accessToken);\n        setUser((user) => ({\n            ...user,\n            name: decoded.name\n        }));\n\n        window.location.reload();\n    }\n\n    const clearUser = () => {\n        setUser((user) => ({\n            ...user,\n            isInitialLoaded: false\n        }));\n    }\n\n    return (\n        <UserContext.Provider value={{ user, login, logout, clearUser, updateUser }}>\n            {children}\n        </UserContext.Provider>\n    );\n};\n\nexport default UserProvider","import React, { useContext, lazy, Suspense } from 'react';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nimport PrivateRoute from './helpers/components/privateRoute'\n\nimport NavbarComponent from './components/navbar';\nimport LoginComponent from './components/auth/login'\nimport ResetPasswordComponent from './components/auth/resetPassword';\nimport ForgotPasswordComponent from './components/auth/forgotPassword';\nimport SettingsComponent from './components/settings'\nimport RegisterComponent from './components/auth/register'\n\nimport RemoveModal from './helpers/components/removeModal'\n\nimport { Route, BrowserRouter as Router, Redirect } from 'react-router-dom';\nimport { Spinner, Toast } from \"react-bootstrap\";\n\n//  --------- icons ------------\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n    faPlay,\n    faSortUp,\n    faSortDown,\n    faTrashAlt,\n    faTimes,\n    faGlobeEurope,\n    faLock\n} from '@fortawesome/free-solid-svg-icons'\n\nimport { Switch } from \"react-router\";\n\nimport ToastContext from './helpers/contexts/toast/toastContext'\n\nimport WithAxios from \"./helpers/components/withAxios\";\nimport UserProvider from './helpers/contexts/user/userProvider';\n\nlibrary.add(faPlay, faSortDown, faSortUp, faTrashAlt, faTimes, faGlobeEurope, faLock);\n\nconst pathName = process.env.REACT_APP_PATH_NAME\n\nconst ProfileComponent = lazy(() => import('./components/profilePage'))\nconst HomeComponent = lazy(() => import('./components/homePage'))\nconst FilmComponent = lazy(() => import('./components/filmPage'))\nconst SearchComponent = lazy(() => import('./components/searchPage'))\nconst PlaylistsPage = lazy(() => import('./components/playlistsPage'))\nconst AddFilmComponent = lazy(() => import('./components/add/filmAdd'))\nconst NotFoundComponent = lazy(() => import('./components/notFound'))\n\nfunction App(props) {\n\n    const { toast, clearToast } = useContext(ToastContext)\n\n    return (\n        <div>\n            {\n                <div className=\"toast-root\">\n                    <Toast\n\n                        show={toast.isOpen}\n                        onClose={clearToast}\n                        autohide\n                        className=\"toast-element bg-secondary\">\n                        <Toast.Header>\n                            <strong className=\"me-auto\">Playlist</strong>\n                        </Toast.Header>\n                        <Toast.Body>{toast.message}</Toast.Body>\n                    </Toast>\n                </div>\n            }\n\n            <Router>\n                <UserProvider>\n                    <WithAxios>\n                        <Route render={() => <NavbarComponent />} />\n                        <PrivateRoute exact path={[`${pathName}settings`, `${pathName}profile/settings`, `${pathName}film/:id/settings`, `${pathName}search/settings`, `${pathName}add/settings`, `${pathName}playlists/settings`]}\n                            component={SettingsComponent} />\n\n                        <Route exact path={[`${pathName}login`, `${pathName}film/:id/login`, `${pathName}search/login`, `${pathName}add/login`, `${pathName}playlists/login`]}\n                            render={(props) => <LoginComponent {...props} />} />\n\n                        <Route exact path={[`${pathName}register`, `${pathName}film/:id/register`, `${pathName}search/register`, `${pathName}add/register`, `${pathName}playlists/register`]}\n                            render={(props) => <RegisterComponent {...props} />} />\n\n                        <Route exact path={[`${pathName}reset/:token`, `${pathName}film/:id/reset/:token`, `${pathName}search/reset/:token`, `${pathName}add/reset/:token`, `${pathName}playlists/reset/:token`]}\n                            render={(props) => <ResetPasswordComponent {...props} />} />\n\n                        <Route exact path={[`${pathName}forgot`, `${pathName}film/:id/forgot`, `${pathName}search/forgot`, `${pathName}add/forgot`, `${pathName}playlists/forgot`]}\n                            render={(props) => <ForgotPasswordComponent {...props} />} />\n\n                        <Suspense fallback={<div className=\"suspense-loader\"> <Spinner className=\"suspense-loader-spinner\" animation=\"border\" /></div>}>\n                            <Switch>\n                                <Route exact path={[`${pathName}film/:id`, `${pathName}film/:id/login`, `${pathName}film/:id/register`, `${pathName}film/:id/reset/:token`,\n                                `${pathName}film/:id/forgot`, `${pathName}film/:id/settings`]}\n                                    render={(props) => <FilmComponent {...props} />} />\n\n                                <Route exact path={[`${pathName}`, `${pathName}login`, `${pathName}register`, `${pathName}settings`,\n                                `${pathName}reset/:token`, `${pathName}forgot`]}\n                                    render={(props) => <HomeComponent {...props} />} />\n\n                                <Route exact path={[`${pathName}search`, `${pathName}search/login`, `${pathName}search/settings`, `${pathName}search/register`, `${pathName}search/reset/:token`, `${pathName}search/forgot`]}\n                                    render={(props) => <SearchComponent {...props} />} />\n\n                                <Route exact path={[`${pathName}playlists`, `${pathName}playlists/login`, `${pathName}playlists/settings`, `${pathName}playlists/register`, `${pathName}playlists/reset/:token`,\n                                `${pathName}playlists/forgot`]} render={(props) => <PlaylistsPage {...props} />} />\n\n                                <PrivateRoute exact path={[`${pathName}add`, `${pathName}add/settings`]}\n                                    component={AddFilmComponent} />\n\n                                <PrivateRoute exact path={[`${pathName}profile`, `${pathName}profile/settings`]}\n                                    component={ProfileComponent} />\n\n                                <Route exact path=\"*\" render={(props) => <NotFoundComponent {...props} />} />\n\n                            </Switch>\n                        </Suspense>\n                    </WithAxios>\n                </UserProvider>\n\n            </Router>\n            <RemoveModal />\n        </div>\n    );\n}\n\nexport default App\n\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { useState } from 'react'\nimport ToastContext from './toastContext'\n\nconst ToastProvider = ({ children }) => {\n    const [toast, setToast] = useState({ isOpen: false, message: '', isPrevoius: false })\n\n    const createToast = (message) => {\n        if (toast.isPrevoius) {\n            setToast({ isOpen: false, message: '', isPrevoius: true })\n            setTimeout(() => setToast({ isOpen: true, message: message, isPrevoius: true }), 850)\n        } else {\n            setToast({ isOpen: true, message: message, isPrevoius: true })\n        }\n    }\n\n    const clearToast = () => {\n        setToast({ isOpen: false, message: '', isPrevoius: false })\n    }\n\n    return (\n        <ToastContext.Provider value={{ toast, createToast, clearToast }}>\n            {children}\n        </ToastContext.Provider>\n    )\n}\n\nexport default ToastProvider","import { useState } from 'react'\nimport RemoveModalContext from './removeModalContext'\n\nconst RemoveModalProvider = ({ children }) => {\n\n    const [removeModalData, setRemoveModalData] = useState({ show: false, isRemoving: false, id: null, type: null, title: '' })\n\n    const showModal = (id, type, title) => {\n        setRemoveModalData({ show: true, isRemoving: false, id: id, type: type, title: title })\n    }\n\n    const remove = () => {\n        setRemoveModalData(prevState => {\n            return { ...prevState, show: false, isRemoving: true }\n        })\n    }\n\n    const clear = () => {\n        setRemoveModalData({ show: false, isRemoving: false, id: null, type: null, title: '' })\n    }\n\n    return (\n        <RemoveModalContext.Provider value={{ showModal, removeModalData, remove, clear }} >\n            {children}\n        </RemoveModalContext.Provider>\n    )\n}\n\nexport default RemoveModalProvider","import \"es6-promise\";\nimport \"isomorphic-fetch\";\n\nimport 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/ie11';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport ToastProvider from \"./helpers/contexts/toast/toastProvider\";\nimport RemoveModalProvider from \"./helpers/contexts/removeModal/removeModalProvider\";\n\nReactDOM.render(\n    <ToastProvider>\n        <RemoveModalProvider>\n            <App />\n        </RemoveModalProvider>\n    </ToastProvider>\n    ,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createContext } from 'react';\nconst UserContext = createContext({ name: '', id: null, auth: false, isInitialLoaded: false });\nexport default UserContext","const authHeader = () => {\n\n    let token = JSON.parse(localStorage.getItem('accessToken'));\n\n    if(token){\n        return { 'Authorization' : 'Bearer ' + token};\n    } else{\n        return {};\n    }\n}\n\nexport default authHeader","import { createContext } from \"react\";\nconst ToastContext = createContext('')\nexport default ToastContext","import { createContext } from 'react'\nconst RemoveModalContext = createContext({ show: false, isRemoving: false, id: null, type: null, title: '' })\nexport default RemoveModalContext"],"sourceRoot":""}