{"version":3,"sources":["config/index.js","services/playlistService.js","helpers/components/changePrivacyButton.js","components/blurredImage/index.js","helpers/components/removeButton.js","helpers/index.js","components/add/reducers/playlistDropdownMenuReducer.js","components/add/playlistDropdownMenu.js","components/add/playlistAddButton.js","helpers/components/film.js","helpers/components/playlist.js","images/image_not_found.png","components/profilePage/reducer.js","components/profilePage/index.js"],"names":["commentsMaxFetchCount","recommendationsMaxFetchCount","playlistButtonMaxFetchCount","pageInitialMaxFetchCount","pageMaxFetchCount","create","body","axios","post","headers","authHeader","index","id","get","show","params","partialUpdate","patch","remove","delete","ChangePrivacyButton","isPublic","isProfile","dispatchPrivacyUpdate","filmDispatch","useState","isChanging","setIsChanging","useEffect","a","playlistApi","is_public","then","res","type","payload","data","undefined","fieldName","catch","err","console","error","changePrivacy","privacyButton","style","marginLeft","borderRadius","width","height","className","onClick","e","stopPropagation","icon","BlurredImageComponent","props","image","setImage","aspectRatio","alt","src","RemoveButton","handleRemove","checkIfPlaylistButtonClick","target","tagName","parentNode","animVal","includes","displayCommentDate","comment","date","Date","parse","createdAt","getDate","slice","getMonth","getFullYear","getHours","getMinutes","parseSearchDate","film","today","time","Math","abs","floor","UTC","playlistDropdownMenuInitialState","playlists","isLoading","isAllFetched","isCreating","isAdding","playlistToUpgrade","title","playlistDropdownMenuReducer","state","action","map","playlist","contains","PlaylistDropdownMenu","filmID","handlePlaylistClose","isPreview","useRipple","background","addRipple","ripples","createToast","useContext","ToastContext","useReducer","dispatch","handleOnPlaylistDropdownMenuBottom","useCallback","scrollRef","useBottomScrollListener","userApi","skip","length","limit","result","forEach","films","indexOf","getMyPlaylists","films_id","errorMessage","response","errors","creatPlaylist","is_remove_films","message","addToPlaylist","Dropdown","Menu","Row","Col","xs","sm","setTimeout","Divider","ref","maxHeight","overflowY","minHeight","Form","Check","FormCheck","Input","onChange","handleAddToPlaylist","checked","Label","Spinner","animation","ItemText","FormControl","isInvalid","value","placeholder","Feedback","Select","Group","Button","disabled","PlaylistAddButton","user","UserContext","isOpen","setIsOpen","auth","onToggle","event","metadata","Toggle","variant","bsPrefix","color","display","verticalAlign","opacity","faEllipsisV","Film","handleRedirect","isRecommendations","concat","img","line","text","author_name","views","Playlist","colWidth","setStyle","film_id","md","lg","margin","justifyContent","alignItems","initialProfileState","isRemoving","toRemove","filmsCount","playlistsCount","profileReducer","isInitialLoaded","Set","filter","resource","isPlaylist","Profile","clearUser","RemoveModalContext","showModal","clear","removeModalData","history","useHistory","handleProfileOnBottom","triggerOnNoScroll","replace","process","push","Promise","allSettled","skipFilms","skipPlaylists","status","image_not_found","fetchInitialData","fetchData","filmApi","record","pathname","search","handleRedirectPlaylist"],"mappings":"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","file":"static/js/6.7a903eed.chunk.js","sourcesContent":["export const commentsMaxFetchCount = 10\nexport const recommendationsMaxFetchCount = 12\n\nexport const playlistButtonMaxFetchCount = 10\n\nexport const pageInitialMaxFetchCount = 40\nexport const pageMaxFetchCount = 20\n","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const create = (body) => axios.post('playlists', body, { headers: authHeader() })\nexport const index = (id) => axios.get(`playlists/${id}`, { headers: authHeader() })\nexport const show = (params) => axios.get(`playlists`, { params, headers: authHeader() })\nexport const partialUpdate = (id, body) => axios.patch(`playlists/${id}`, body, { headers: authHeader() })\n\n\nexport const remove = (id) => axios.delete(`playlists/${id}`, { headers: authHeader() })\n\n","import { Col } from \"react-bootstrap\"\nimport { ButtonBase } from \"@material-ui/core\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useEffect, useState } from \"react\"\nimport * as playlistApi from '../../services/playlistService'\n\nconst ChangePrivacyButton = ({ isPublic, id, isProfile, dispatchPrivacyUpdate, filmDispatch }) => {\n\n    const [isChanging, setIsChanging] = useState(false)\n\n\n    useEffect(() => {\n        async function changePrivacy() {\n            await playlistApi.partialUpdate(id, { is_public: !isPublic })\n                .then(res => {\n                    setIsChanging(false)\n\n                    dispatchPrivacyUpdate({\n                        type: 'change-playlist-privacy-success',\n                        payload: res.data\n                    })\n\n                    if (filmDispatch !== undefined) {\n                        filmDispatch({\n                            type: 'field',\n                            fieldName: 'reloadPlaylist',\n                            payload: true\n                        })\n                    }\n                })\n                .catch(err => {\n                    console.error(err)\n                    setIsChanging(false)\n                })\n        }\n        if (isChanging) changePrivacy()\n    }, [dispatchPrivacyUpdate, isChanging, isPublic, id, filmDispatch])\n\n    const handleChangePrivacy = (e) => {\n        e.stopPropagation()\n        if (!isChanging) setIsChanging(true)\n    }\n\n    const privacyButton = (\n        <ButtonBase\n            style={{ marginLeft: 'auto', borderRadius: 20 + \"px\", width: 24 + \"px\", height: 24 + \"px\" }}\n            className=\"m-button\"\n            onClick={handleChangePrivacy}>\n            <FontAwesomeIcon icon={isPublic ? \"globe-europe\" : \"lock\"} />\n        </ButtonBase>\n    )\n\n    return isProfile ?\n        (\n            <Col className=\"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0\"\n            >\n                <Col\n                    className=\"remove-holder p-0 m-0 flex-grow-0\"\n                    style={{ height: '24px', width: '24' }}>\n                    {privacyButton}\n                </Col>\n            </Col>\n        ) :\n        privacyButton\n}\n\nexport default ChangePrivacyButton","import React, { useState, useEffect } from 'react';\nimport { Ratio } from 'react-bootstrap'\n\nfunction BlurredImageComponent(props) {\n\n    const [image, setImage] = useState(\"data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\")\n\n    useEffect(() => {\n        setImage(props.image);\n    }, [props.image])\n\n\n    return (\n        <Ratio aspectRatio=\"16x9\">\n            <img\n                alt=\"\"\n                className=\"embed-responsive-item play-image\"\n                src={image} />\n        </Ratio>);\n}\n\nexport default BlurredImageComponent;","import { Col } from \"react-bootstrap\"\nimport { ButtonBase } from \"@material-ui/core\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\n\nconst RemoveButton = ({ handleRemove }) => {\n    return (\n        <Col\n            className=\"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0\">\n            <Col\n                className=\"remove-holder p-0 m-0 flex-grow-0\"\n                style={{ height: '24px', width: '24px' }}>\n                <ButtonBase\n                    style={{ marginLeft: 'auto', borderRadius: 20 + \"px\", width: 24 + \"px\", height: 24 + \"px\" }}\n                    className=\"m-button \"\n                    onClick={handleRemove}>\n                    <FontAwesomeIcon icon=\"trash-alt\" />\n                </ButtonBase>\n            </Col>\n        </Col>\n    )\n}\n\nexport default RemoveButton","export const checkIfPlaylistButtonClick = (target) => {\n    if ((target.tagName === 'path' && target.parentNode.className.animVal && target.parentNode.className.animVal.includes('playlist-add-icon')) ||\n        (target.tagName === 'svg' && target.className.animVal && target.className.animVal.includes('playlist-add-icon')) ||\n        (target.className && typeof target.className === 'string' && target.className.includes('playlist-add-icon-holder')))\n        return true\n    return false\n}\n\nexport const displayCommentDate = (comment) => {\n    let date = new Date(Date.parse(comment.createdAt));\n    let time = (('0' + date.getDate()).slice(-2) + '-' + ('0' + (date.getMonth() + 1)).slice(-2) + '-'\n        + ('0' + date.getFullYear()).slice(-2)\n        + ' o ' + ('0' + date.getHours()).slice(-2) + ':' + ('0' + date.getMinutes()).slice(-2))\n    return time;\n};\n\nexport const parseSearchDate = (film) => {\n\n    let date = new Date(Date.parse(film.createdAt));\n    let today = new Date();\n\n\n    let time = Math.abs(Math.floor((\n        Date.UTC(\n            date.getFullYear(),\n            date.getMonth(),\n            date.getDate(),\n            date.getHours(),\n            date.getMinutes()) -\n        Date.UTC(\n            today.getFullYear(),\n            today.getMonth(),\n            today.getDate(),\n            today.getHours(),\n            today.getMinutes()))\n        / (1000 * 60)));\n\n    if (time / 60 >= 1) {\n        time /= 60;\n\n        if (time / 24 >= 1) {\n\n            time /= 24;\n\n            if (time / 30 >= 1) {\n\n                time /= 30;\n\n                if (time / 12 >= 1) {\n\n                    time = time / 12;\n                    time = Math.floor(time) + ' years ';\n\n                } else {\n                    time = Math.floor(time) + ' months ';\n                }\n\n            } else {\n                time = Math.floor(time) + ' days ';\n            }\n\n        } else {\n            time = Math.floor(time) + ' hours ';\n        }\n    } else {\n        time = Math.floor(time) + ' minutes ';\n    }\n\n    time = time + 'ago';\n\n    return time;\n};\n","import { playlistButtonMaxFetchCount } from \"../../../config\"\n\nexport const playlistDropdownMenuInitialState = {\n    playlists: [],\n    isLoading: true,\n    isAllFetched: false,\n    isCreating: false,\n    isAdding: false,\n    playlistToUpgrade: null,\n    title: '',\n    isPublic: false,\n    error: '',\n}\n\nexport function playlistDropdownMenuReducer(state, action) {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                error: '',\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'load': {\n            return {\n                ...state,\n                isLoading: true,\n                isAllFetched: false,\n            }\n        }\n        case 'load-success': {\n            return {\n                ...state,\n                playlists: [...state.playlists, ...action.payload],\n                isLoading: false,\n                isAllFetched: action.payload < playlistButtonMaxFetchCount,\n                error: '',\n            }\n        }\n        case 'create': {\n            return {\n                ...state,\n                isLoading: false,\n                isCreating: true\n            }\n        }\n        case 'create-success': {\n            return {\n                ...state,\n                isLoading: false,\n                isCreating: false\n            }\n        }\n        case 'add': {\n            return {\n                ...state,\n                isLoading: false,\n                isAdding: true,\n                playlistToUpgrade: action.payload\n            }\n        }\n        case 'add-update-playlist': {\n            return {\n                ...state,\n                playlists: state.playlists.map(playlist => {\n                    if (playlist.id === state.playlistToUpgrade.id) return { ...playlist, contains: !playlist.contains }\n                    else return playlist\n                }),\n                playlistToUpgrade: null\n            }\n        }\n        case 'add-success': {\n            return {\n                ...state,\n                isAdding: false\n            }\n        }\n        case 'change-playlist-privacy-success': {\n            return {\n                ...state,\n                playlists: state.playlists.map(playlist => {\n                    if (playlist.id === action.payload.id) return { ...playlist, is_public: action.payload.is_public }\n                    return playlist\n                })\n            }\n        }\n        case 'error':\n            return {\n                ...state,\n                isLoading: false,\n                isAllFetched: false,\n                isCreating: false,\n                error: action.payload,\n                title: ''\n            }\n        default:\n            return state\n\n    }\n}\n","import React, { useCallback, useEffect, useContext, useReducer } from 'react';\nimport { Button, Col, Dropdown, Form, FormCheck, FormControl, Row, Spinner } from \"react-bootstrap\";\n\nimport * as userApi from '../../services/userService'\nimport * as playlistApi from '../../services/playlistService'\n\nimport ToastContext from '../../helpers/contexts/toast/toastContext';\nimport useBottomScrollListener from '../../helpers/hooks/useBottomScrollListener';\nimport { playlistDropdownMenuReducer, playlistDropdownMenuInitialState } from './reducers/playlistDropdownMenuReducer'\nimport ChangePrivacyButton from '../../helpers/components/changePrivacyButton';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport useRipple from \"useripple\"\nimport { playlistButtonMaxFetchCount } from '../../config';\n\nfunction PlaylistDropdownMenu({ filmID, handlePlaylistClose, isPreview, filmDispatch }) {\n\n    const [addRipple, ripples] = useRipple({ background: \"black\" })\n\n    const { createToast } = useContext(ToastContext);\n    const [state, dispatch] = useReducer(playlistDropdownMenuReducer, playlistDropdownMenuInitialState);\n\n    const { playlists, title, isPublic, isLoading, isAllFetched, isCreating, isAdding, playlistToUpgrade, error } = state\n\n    const handleOnPlaylistDropdownMenuBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && !isCreating && !isAdding) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isLoading, isAllFetched, isCreating, isAdding])\n\n    const scrollRef = useBottomScrollListener(handleOnPlaylistDropdownMenuBottom);\n\n    useEffect(() => {\n        async function getMyPlaylists() {\n            await userApi.me({ playlists: true, skip: playlists.length, limit: playlistButtonMaxFetchCount })\n                .then(res => {\n\n                    let result = res.data.playlists\n\n                    result.forEach(playlist => {\n                        playlist.contains = playlist.films.indexOf(filmID) > -1\n                    });\n\n                    dispatch({\n                        type: 'load-success',\n                        payload: result\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isLoading) getMyPlaylists()\n\n    }, [filmID, playlists, isLoading])\n\n    useEffect(() => {\n\n        async function creatPlaylist() {\n            const body = { title: title, is_public: isPublic, films_id: [filmID] };\n\n            await playlistApi.create(body)\n                .then(res => {\n                    dispatch({\n                        type: 'create-success'\n                    })\n                    createToast(`Created playlist ${title}`)\n                    handlePlaylistClose()\n\n                })\n                .catch(err => {\n                    console.error(err)\n                    let errorMessage = null\n\n                    if (err.response && err.response.data && err.response.data.error) {\n                        errorMessage = err.response.data.error\n                    } else if (err.response && err.response.data && err.response.data.errors) {\n                        errorMessage = err.response.data.errors[0]\n                    }\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage === \"Path `title` is required.\" ? 'Playlist title is required' : errorMessage\n                    })\n                })\n        }\n\n        if (isCreating) creatPlaylist()\n\n    }, [isCreating, title, isPublic, createToast, handlePlaylistClose, filmID,])\n\n    useEffect(() => {\n        async function addToPlaylist() {\n\n            let body = { films_id: [filmID] };\n\n            body = playlistToUpgrade.contains ? { ...body, is_remove_films: true } : { ...body, is_remove_films: false }\n\n            const message = playlistToUpgrade.contains ? `Deleted from playlist ${playlistToUpgrade.title}` : `Added to playlist ${playlistToUpgrade.title}`\n\n            dispatch({\n                type: 'add-update-playlist',\n                playlist: playlistToUpgrade\n            })\n\n            await playlistApi.partialUpdate(playlistToUpgrade.id, body)\n                .then(res => {\n                    dispatch({\n                        type: 'add-success'\n                    })\n\n                    if (isPreview) {\n                        filmDispatch({\n                            type: 'field',\n                            fieldName: 'reloadPlaylist',\n                            payload: true\n                        })\n                    }\n                    createToast(message)\n                })\n                .catch(err => console.error(err))\n        }\n        if (isAdding && playlistToUpgrade) addToPlaylist()\n    }, [isAdding, playlistToUpgrade, createToast, filmDispatch, filmID, isPreview])\n\n    const handleAddToPlaylist = (playlist) => {\n        dispatch({\n            type: 'add',\n            payload: playlist\n        })\n    };\n\n    const handleCreatePlaylist = (e) => {\n        e.stopPropagation()\n        dispatch({\n            type: 'create'\n        })\n    };\n\n    return (\n\n        <Dropdown.Menu\n            onClick={e => e.stopPropagation()}\n            style={{ width: 240 + \"px\" }}>\n            <Row className=\"m-0 m-button playlist-add-button-ripple\" >\n                <Col className=\"playlist-add-exit-text-width\">Save to...</Col>\n                <Col xs={2} sm={2}\n                    onClick={(e) => {\n                        addRipple(e)\n                        setTimeout(handlePlaylistClose, 150)\n                    }}\n                    style={{ borderRadius: 20 + \"px\", width: 24 + \"px\", height: 24 + \"px\" }}\n                    className=\"playlist-add-icon-holder p-0 playlist-add-button-ripple d-flex align-items-center text-center justify-content-center\">\n                    <FontAwesomeIcon icon=\"times\" />\n                    {ripples}\n                </Col>\n            </Row>\n            <Dropdown.Divider />\n            <div\n                ref={scrollRef}\n                style={{\n                    maxHeight: 100 + 'px', overflowY: 'scroll', minHeight: 3 + 'rem'\n                }}>\n\n                {\n                    playlists.map((playlist, index) => {\n                        return (<Row className=\"m-0 playlist-form-group\" key={playlist.id} >\n                            <Col xs={10} sm={10} className=\"p-0\">\n                                <Form.Check id={playlist.id} className=\"form-check\">\n                                    <FormCheck.Input type=\"checkbox\"\n                                        onChange={() => handleAddToPlaylist(playlist)}\n                                        checked={playlist.contains} />\n                                    <FormCheck.Label>\n                                        <p className=\"playlist-check-label\">\n                                            {playlist.title}\n                                        </p>\n                                    </FormCheck.Label>\n                                </Form.Check>\n\n                            </Col>\n                            <ChangePrivacyButton\n                                id={playlist.id}\n                                isPublic={playlist.is_public}\n                                isProfile={false}\n                                filmDispatch={filmDispatch}\n                                dispatchPrivacyUpdate={dispatch} />\n\n                        </Row>)\n                    })\n                }\n\n                {\n                    !isAllFetched && <div style={{ height: 32 + 'px' }} className=\"d-flex justify-content-center\">\n                        {isLoading && <Spinner animation=\"border\" />}\n                    </div>\n                }\n            </div>\n            <Dropdown.Divider />\n            <Dropdown.ItemText>Create a new playlist</Dropdown.ItemText>\n            <Row className=\"m-0 p-0\">\n                <Form>\n                    <FormControl\n                        isInvalid={error !== ''}\n                        onChange={(e) => dispatch({ type: 'field', fieldName: 'title', payload: e.target.value })}\n                        className=\"mb-2 mt-2\"\n                        placeholder=\"Enter playlist title...\" />\n\n                    <FormControl.Feedback type=\"invalid\"\n                        className=\"mb-2 mt-2\">\n                        {error}\n                    </FormControl.Feedback>\n                    <Form.Select aria-label=\"Privacy\" className=\"mb-2 mt-2\"\n                        onChange={(e) => dispatch({ type: 'field', fieldName: 'isPublic', payload: e.target.value === 'public' })}>\n                        <option value=\"private\">Private</option>\n                        <option value=\"public\">Public</option>\n                    </Form.Select>\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button disabled={isCreating}\n                            onClick={isCreating ? null : handleCreatePlaylist}>Create</Button>\n\n                        {\n                            isCreating &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n\n                </Form>\n\n            </Row>\n\n        </Dropdown.Menu>\n\n\n    )\n}\n\nexport default PlaylistDropdownMenu\n","import React, { useState, useContext } from 'react';\nimport { Col, Dropdown } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nimport PlaylistDropdownMenu from './playlistDropdownMenu'\nimport UserContext from '../../helpers/contexts/user/userContext';\nimport useRipple from \"useripple\"\n\nimport { faEllipsisV } from '@fortawesome/free-solid-svg-icons'\n\nimport './playlistAdd.css'\n\nfunction PlaylistAddButton(props) {\n\n    const { user } = useContext(UserContext);\n\n    const [addRipple, ripples] = useRipple({ background: \"black\" })\n\n    const [isOpen, setIsOpen] = useState(false)\n\n    const handlePlaylistClose = () => {\n        setIsOpen(false)\n    }\n\n    const allClass = \"\"\n    const previewClass = \"col-sm-2 col-2 p-0\"\n\n    return (\n\n        user.auth ?\n            <Dropdown show={isOpen}\n                onToggle={(isOpen, event, metadata) => {\n                    setIsOpen(isOpen)\n                }} className={props.isPreview ? previewClass : allClass} >\n                <Dropdown.Toggle variant=\"link\" bsPrefix=\"p-0\"\n                    className=\"m-button playlist-add-button-ripple\"\n                    style={{ color: \"black\" }}>\n                    <div style={{ display: 'inline-block', width: '100%', height: '100%' }}>\n                        <Col\n                            onClick={addRipple}\n                            style={{ verticalAlign: 'top', borderRadius: 20 + \"px\", width: 24 + \"px\", height: 24 + \"px\" }}\n                            className=\"playlist-add-icon-holder p-0 playlist-add-button-ripple\">\n                            <FontAwesomeIcon style={{ opacity: (isOpen ? 1 : \"\") }}\n                                className=\"playlist-add-icon\" icon={faEllipsisV} />\n                            {ripples}\n                        </Col>\n                    </div>\n                </Dropdown.Toggle>\n                {isOpen && <PlaylistDropdownMenu\n                    isPreview={props.isPreview}\n                    filmDispatch={props.filmDispatch}\n                    isOpen={isOpen}\n                    filmID={props.filmID}\n                    handlePlaylistClose={handlePlaylistClose} />}\n            </Dropdown>\n            :\n            null\n\n    )\n}\n\nexport default PlaylistAddButton\n","import React from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport TextTruncate from \"react-text-truncate\";\n\nimport BlurredImageComponent from \"../../components/blurredImage\";\nimport PlaylistAddButtonComponent from \"../../components/add/playlistAddButton\";\n\nimport { checkIfPlaylistButtonClick } from '../index'\nimport RemoveButton from './removeButton';\nimport '../../components/filmPage/film.css'\n\nconst Film = ({ film, index, handleRedirect, handleRemove, isProfile, isRecommendations }) => {\n\n    const recommendationsClass = \"row mx-0 mb-4\"\n    const normalClass = \"col mb-5 col-12 col-sm-6 col-md-3 col-lg-2\"\n\n    return (\n        <div className={isRecommendations ? recommendationsClass : normalClass}>\n            <div className={(isRecommendations ? \"row p-0 m-0\" : \"col\").concat(\" play-outer-container remove-container\")}\n                onClick={(e) => {\n                    const isPlaylistButton = checkIfPlaylistButtonClick(e.target)\n                    if (!isPlaylistButton) handleRedirect(film.id)\n                }}>\n                <Col xs={isRecommendations ? 6 : 12} sm={isRecommendations ? 6 : 12}\n                    className=\"m-0 p-0\">\n                    <div\n                        className=\"embed-responsive embed-responsive-16by9 z-depth-1-half play-container\">\n                        <BlurredImageComponent\n                            image={film.img} />\n                        <FontAwesomeIcon className=\"play-middle\" icon=\"play\" />\n                    </div>\n                </Col>\n                <Col xs={isRecommendations ? 6 : 12} sm={isRecommendations ? 6 : 12}\n                    className={isRecommendations ? \"m-0\" : \"m-0 p-0\"}>\n                    <Row className=\"m-0 mt-1\">\n                        <Col className=\"film-preview-playlist-title-width p-0\">\n                            <TextTruncate line={1} text={film.title}\n                                className=\"mb-1 mt-1 title \" />\n                        </Col>\n\n                        <Col className=\"p-0 d-flex justify-content-end\">\n                            {\n                                isProfile ?\n                                    <RemoveButton handleRemove={handleRemove} /> :\n                                    <PlaylistAddButtonComponent\n                                        index={index}\n                                        filmID={film.id} />\n                            }\n                        </Col>\n                    </Row>\n                    <p className=\"mb-0 author-nick-color\">\n                        <small>{film.author_name}</small>\n                    </p>\n                    <p className=\"mb-0 film-views\">\n                        <small>{film.views} views</small>\n                    </p>\n                </Col>\n            </div>\n        </div>\n    )\n}\n\nexport default Film","import React, { useEffect, useState } from 'react';\nimport { Col, Row } from 'react-bootstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport TextTruncate from \"react-text-truncate\";\nimport BlurredImageComponent from \"../../components/blurredImage\";\nimport RemoveButton from './removeButton';\nimport ChangePrivacyButton from './changePrivacyButton';\n\nconst Playlist = ({ playlist, handleRedirect, handleRemove, isProfile, dispatchPrivacyUpdate }) => {\n\n    const colWidth = isProfile ? 8 : 10\n\n    const [style, setStyle] = useState(\"mb-5 play-outer-container remove-container\")\n\n    useEffect(() => {\n        if (!playlist.film_id) setStyle(\"mb-5 play-cursor-default remove-container\")\n    }, [playlist.film_id])\n\n\n    return (\n        <Col xs={12} sm={6} md={3} lg={2}\n            key={playlist.id}>\n            <Col className={style} onClick={() => handleRedirect(playlist.id, playlist.film_id)}>\n                <div className=\"embed-responsive embed-responsive-16by9 z-depth-1-half play-container\">\n                    <BlurredImageComponent\n                        image={playlist.img} />\n\n                    <Row style={{ width: '100%', margin: 0 }} className=\"play-middle\">\n                        <Col xs={5} sm={5} style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'center' }}>\n                            <FontAwesomeIcon icon=\"play\" />\n                        </Col>\n                        <Col xs={7} sm={7} style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center' }}>\n                            <small className=\"fw-bold\" >Play all</small>\n                        </Col>\n                    </Row>\n                </div>\n\n                <Row className=\"m-0\">\n                    <Col xs={colWidth} sm={colWidth} className=\"p-0\">\n                        <TextTruncate line={1} text={playlist.title}\n                            className=\"mb-1 mt-1 title \" />\n                    </Col>\n\n\n                    {\n                        isProfile && <Col xs={4} sm={4} className=\"p-0 d-flex justify-content-end\">\n                            <ChangePrivacyButton\n                                id={playlist.id}\n                                isPublic={playlist.is_public}\n                                isProfile={true}\n                                dispatchPrivacyUpdate={dispatchPrivacyUpdate} />\n                            <RemoveButton handleRemove={handleRemove} />\n                        </Col>\n                    }\n                </Row>\n                <p className=\"mb-0 author-nick-color\">\n                    <small>{playlist.author_name}</small>\n                </p>\n            </Col>\n        </Col>\n\n    )\n}\n\nexport default Playlist","export default __webpack_public_path__ + \"static/media/image_not_found.c4ba1e76.png\";","import { pageMaxFetchCount } from \"../../config\"\n\nexport const initialProfileState = {\n    data: [],\n    isLoading: false,\n    isAllFetched: false,\n    isRemoving: false,\n    toRemove: null,\n    error: null,\n    filmsCount: 0,\n    playlistsCount: 0,\n}\n\nexport function profileReducer(state, action) {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'initial-success': {\n            return {\n                ...state,\n                isLoading: false,\n                isInitialLoaded: true,\n                isAllFetched: action.filmsCount < pageMaxFetchCount && action.playlistsCount < pageMaxFetchCount,\n                filmsCount: state.filmsCount + action.filmsCount,\n                playlistsCount: state.playlistsCount + action.playlistsCount,\n                data: [...new Set(action.data)]\n            }\n        }\n        case 'load': {\n            return !state.isLoading && !state.isAllFetched && state.isInitialLoaded && !state.error ?\n                { ...state, isLoading: true, isAllFetched: false } :\n                state\n        }\n        case 'success': {\n            return {\n                ...state,\n                isLoading: false,\n                isAllFetched: action.filmsCount < pageMaxFetchCount && action.playlistsCount < pageMaxFetchCount,\n                filmsCount: state.filmsCount + action.filmsCount,\n                playlistsCount: state.playlistsCount + action.playlistsCount,\n                data: [...new Set([...state.data, ...action.data])]\n            }\n        }\n        case 'remove': {\n            return {\n                ...state,\n                toRemove: action.payload,\n                isRemoving: true\n            }\n        }\n        case 'remove-success': {\n            return {\n                ...state,\n                isRemoving: false,\n                toRemove: null,\n                data: state.toRemove ? state.data.filter(resource => resource.id !== state.toRemove.id) : state.data\n            }\n        }\n        case 'change-playlist-privacy-success': {\n            return {\n                ...state,\n                data: state.data.map(data => {\n                    if (data.isPlaylist && data.id === action.payload.id) return { ...data, is_public: action.payload.is_public }\n                    return data\n                })\n            }\n        }\n        case 'clear': {\n            return initialProfileState\n        }\n        default: return state\n    }\n}","import React, { useEffect, useReducer, useCallback, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Row, Spinner } from 'react-bootstrap';\n\nimport { initialProfileState, profileReducer } from './reducer';\nimport useBottomScrollListener from '../../helpers/hooks/useBottomScrollListener';\n\nimport Film from '../../helpers/components/film';\nimport Playlist from '../../helpers/components/playlist';\n\nimport * as userApi from '../../services/userService'\nimport * as playlistApi from '../../services/playlistService'\nimport * as filmApi from '../../services/filmService'\n\nimport image_not_found from '../../images/image_not_found.png'; // Tell Webpack this JS file uses this image\nimport RemoveModalContext from '../../helpers/contexts/removeModal/removeModalContext';\nimport UserContext from '../../helpers/contexts/user/userContext';\nimport { pageInitialMaxFetchCount, pageMaxFetchCount } from '../../config';\n\nconst Profile = (props) => {\n\n    const { user, clearUser } = useContext(UserContext)\n\n    const { showModal, clear, removeModalData } = useContext(RemoveModalContext)\n\n    let history = useHistory()\n\n    const [state, dispatch] = useReducer(profileReducer, initialProfileState)\n    const { data, isLoading, isAllFetched, isInitialLoaded, error, isRemoving, toRemove, filmsCount, playlistsCount } = state\n\n    const handleProfileOnBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && isInitialLoaded && !error) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isLoading, isAllFetched, isInitialLoaded, error])\n\n    useBottomScrollListener(handleProfileOnBottom, { triggerOnNoScroll: true })\n\n    useEffect(() => {\n        if (!user.auth && user.isInitialLoaded) {\n            history.replace(`${process.env.REACT_APP_PATH_NAME}`)\n            history.push(`${process.env.REACT_APP_PATH_NAME}login`)\n            clearUser()\n        }\n    }, [user, history, clearUser])\n\n    useEffect(() => {\n        async function fetchInitialData() {\n\n            const [response] = await Promise.allSettled([\n                userApi.me({ skipFilms: 0, skipPlaylists: 0, limit: pageInitialMaxFetchCount })\n            ])\n\n            let data = []\n\n            let films = []\n            let playlists = []\n\n            if (response.status === \"fulfilled\") {\n                films = response.value.data.films.map(film => {\n                    return {\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`,\n\n                    }\n                })\n\n                playlists = response.value.data.playlists.map(playlist => {\n                    const image = playlist.film_id ?\n                        `${process.env.REACT_APP_API_URL}films/${playlist.film_id}/thumbnail?width=small_webp` :\n                        image_not_found\n                    return {\n                        ...playlist,\n                        img: image,\n                        isPlaylist: true\n\n                    }\n                })\n\n                data = [...data, ...films, ...playlists]\n            }\n\n            dispatch({\n                type: 'initial-success',\n                data: data,\n                filmsCount: films.length,\n                playlistsCount: playlists.length,\n            })\n        }\n\n        dispatch({ type: 'clear' })\n        fetchInitialData()\n\n    }, [])\n\n    useEffect(() => {\n        async function fetchData() {\n            const [response] = await Promise.allSettled([\n                userApi.me({ skipFilms: filmsCount, skipPlaylists: playlistsCount, limit: pageMaxFetchCount })\n            ])\n\n            let data = []\n\n            let films = []\n            let playlists = []\n\n            if (response.status === \"fulfilled\") {\n                films = response.value.data.films.map(film => {\n                    return {\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`,\n\n                    }\n                })\n\n                playlists = response.value.data.playlists.map(playlist => {\n                    const image = playlist.film_id ?\n                        `${process.env.REACT_APP_API_URL}films/${playlist.film_id}/thumbnail?width=small_webp` :\n                        image_not_found\n                    return {\n                        ...playlist,\n                        img: image,\n                        isPlaylist: true\n\n                    }\n                })\n\n                data = [...data, ...films, ...playlists]\n            }\n\n            dispatch({\n                type: 'success',\n                data: data,\n                filmsCount: films.length,\n                playlistsCount: playlists.length,\n            })\n        }\n\n        if (isLoading && isInitialLoaded) fetchData()\n    }, [filmsCount, isLoading, playlistsCount, isInitialLoaded])\n\n    useEffect(() => {\n        async function remove() {\n\n            try {\n                if (toRemove.isPlaylist) {\n                    const resPlaylist = await playlistApi.remove(toRemove.id)\n                    if (resPlaylist.status === 204) {\n                        dispatch({\n                            type: 'remove-success'\n                        })\n                        clear()\n                    }\n                } else {\n                    const resFilm = await filmApi.remove(toRemove.id)\n                    if (resFilm.status === 204) {\n                        dispatch({\n                            type: 'remove-success'\n                        })\n                        clear()\n                    }\n                }\n            } catch (err) {\n                console.error(err)\n            }\n        }\n        if (isRemoving && removeModalData.isRemoving && toRemove &&\n            removeModalData.id === toRemove.id && removeModalData.title === toRemove.title &&\n            removeModalData.type === (toRemove.isPlaylist ? 'playlist' : 'film')) remove()\n    }, [isRemoving, removeModalData, toRemove, clear])\n\n    const handleRemove = (e, resource) => {\n        e.stopPropagation()\n        if (removeModalData.isRemoving) return\n        dispatch({\n            type: 'remove',\n            payload: resource\n        })\n        showModal(resource.id, resource.isPlaylist ? 'playlist' : 'film', resource.title)\n    };\n\n    const handleRedirectFilm = (id) => {\n        history.push({ pathname: `${process.env.REACT_APP_PATH_NAME}film/` + id });\n    }\n\n    const handleRedirectPlaylist = (record) => {\n        if (!record.film_id) return\n        history.push({\n            pathname: `${process.env.REACT_APP_PATH_NAME}film/` + record.film_id,\n            search: `?list=${record.id}`\n        });\n    }\n\n    return (\n        <Row className=\"mt-5 mx-2\">\n            {\n                data.map((record, index) => {\n                    if (record.isPlaylist) {\n                        return <Playlist key={record.id}\n                            playlist={record} index={index}\n                            isProfile={true}\n                            dispatchPrivacyUpdate={dispatch}\n                            handleRedirect={() => handleRedirectPlaylist(record)}\n                            handleRemove={(e) => handleRemove(e, record)} />\n                    } else {\n                        return <Film key={record.id} isProfile={true}\n                            film={record} index={index}\n                            handleRedirect={() => handleRedirectFilm(record.id)}\n                            handleRemove={(e) => handleRemove(e, record)} />\n                    }\n                })\n            }\n\n            {\n                !isAllFetched && <div className={!isInitialLoaded ? \"suspense-loader\" : \"fetch-loader d-flex justify-content-center\"}>\n                    {\n                        (isLoading || !isInitialLoaded) &&\n                        <Spinner className={!isInitialLoaded ? \"suspense-loader-spinner\" : \"\"} animation=\"border\" />\n                    }\n                </div>\n            }\n        </Row>\n    )\n}\n\n\nexport default Profile\n"],"sourceRoot":""}