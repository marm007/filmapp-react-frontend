(this.webpackJsonpfilmapp_frontened=this.webpackJsonpfilmapp_frontened||[]).push([[10],{509:function(e,t,r){"use strict";r.r(t);var n=r(528),a=r.n(n),s=r(529),i=r(46),c=r(1),o=r(7),u=r(139),l=r(541),d=r(551),f=r(140),p=r(540),b=r(2);t.default=function(){var e=Object(o.g)(),t=Object(c.useReducer)(d.b,d.a),r=Object(i.a)(t,2),n=r[0],m=r[1],h=n.email,j=n.isSuccess,v=n.isSubmitted,g=n.isSending,O=n.isError,y=n.error;Object(c.useEffect)((function(){function e(){return(e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a({email:h}).then((function(e){m({type:"success"})})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),m({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}g&&function(){e.apply(this,arguments)}()}),[g,h]);return Object(b.jsx)(u.a,{id:"forgotPasswordModal",title:"Forgot",onClose:function(){Object(p.b)(e,"/forgot")},children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m({type:"submit"}),h&&m({type:"send"})},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)(l.a,{isInvalid:v&&!h,type:"email",name:"email",value:h,onChange:function(e){return m({type:"field",fieldName:"email",payload:e.target.value})}}),Object(b.jsx)("div",{className:"invalid-feedback",children:"Email is required"})]}),j&&Object(b.jsx)("div",{className:"alert alert-success mt-2",children:"Email with link to reset password has been sent."}),O&&Object(b.jsx)("div",{className:"alert alert-danger mt-2",children:y||"Error while sending email."}),Object(b.jsxs)("div",{className:"d-flex align-items-center mt-2",children:[Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset password"}),g&&Object(b.jsx)("div",{className:"spinner-grow ml-2"})]})]})})}},528:function(e,t,r){e.exports=r(242)},529:function(e,t,r){"use strict";function n(e,t,r,n,a,s,i){try{var c=e[s](i),o=c.value}catch(u){return void r(u)}c.done?t(o):Promise.resolve(o).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,s){var i=e.apply(t,r);function c(e){n(i,a,s,c,o,"next",e)}function o(e){n(i,a,s,c,o,"throw",e)}c(void 0)}))}}r.d(t,"a",(function(){return a}))},540:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return s}));var n=function(e){var t=new Date(Date.parse(e.createdAt));return("0"+t.getDate()).slice(-2)+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getFullYear()).slice(-2)+" o "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)},a=function(e){var t=new Date(Date.parse(e.createdAt)),r=new Date,n=Math.abs(Math.floor((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())-Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes()))/6e4));return n/60>=1?(n/=60)/24>=1?(n/=24)/30>=1?(n/=30)/12>=1?(n/=12,n=Math.floor(n)+" years "):n=Math.floor(n)+" months ":n=Math.floor(n)+" days ":n=Math.floor(n)+" hours ":n=Math.floor(n)+" minutes ",n+="ago"},s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.location.pathname.split(t)[0],a={pathname:""===n?"/filmapp-react-frontend/":n,search:e.location.search,state:e.location.state};r?e.replace(a):e.push(a)}},541:function(e,t,r){"use strict";var n=r(1),a=r(2);t.a=function(e){var t=e.isInvalid,r=e.onChange,s=e.type,i=e.name,c=e.value,o=e.placeholder,u=void 0===o?"":o,l="textarea"===s?"textarea":"input",d=Object(n.useRef)(null);return Object(n.useEffect)((function(){d.current&&(t?d.current.classList.add("is-invalid"):d.current.classList.remove("is-invalid"))}),[t]),Object(a.jsx)(l,{ref:d,className:"form-control",placeholder:u,type:s,name:i,value:c,onChange:r})}},551:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i}));var n=r(137),a=r(15),s={email:"",nick:"",password:"",isSubmitted:!1,isSending:!1,isSuccess:!1,isError:!1,error:null},i=function(e,t){switch(t.type){case"field":return Object(a.a)(Object(a.a)({},e),{},Object(n.a)({isSubmitted:!1},t.fieldName,t.payload));case"submit":return Object(a.a)(Object(a.a)({},e),{},{isError:!1,error:null,isSubmitted:!0});case"send":return Object(a.a)(Object(a.a)({},e),{},{isSending:!0});case"success":return Object(a.a)(Object(a.a)({},e),{},{isError:!1,error:null,isSending:!1,isSuccess:!0});case"error":return Object(a.a)(Object(a.a)({},e),{},{isSending:!1,isError:!0,error:t.payload});default:return e}}}}]);
//# sourceMappingURL=10.55990d12.chunk.js.map