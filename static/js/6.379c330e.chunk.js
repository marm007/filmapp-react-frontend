(this.webpackJsonpfilmapp_frontened=this.webpackJsonpfilmapp_frontened||[]).push([[6],{481:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return l}));var i=10,s=12,c=10,n=40,l=20},482:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return n})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return o}));var i=a(23),s=a(57),c=function(e){return i.a.post("playlists",e,{headers:Object(s.a)()})},n=function(e){return i.a.get("playlists/".concat(e),{headers:Object(s.a)()})},l=function(e){return i.a.get("playlists",{params:e,headers:Object(s.a)()})},r=function(e,t){return i.a.patch("playlists/".concat(e),t,{headers:Object(s.a)()})},o=function(e){return i.a.delete("playlists/".concat(e),{headers:Object(s.a)()})}},483:function(e,t,a){"use strict";var i=a(25),s=a.n(i),c=a(41),n=a(16),l=a(270),r=a(479),o=a(190),d=a(0),u=a(482),p=a(1);t.a=function(e){var t=e.isPublic,a=e.id,i=e.isProfile,m=e.dispatchPrivacyUpdate,f=e.filmDispatch,j=Object(d.useState)(!1),b=Object(n.a)(j,2),h=b[0],O=b[1];Object(d.useEffect)((function(){function e(){return(e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.c(a,{is_public:!t}).then((function(e){O(!1),m({type:"change-playlist-privacy-success",payload:e.data}),void 0!==f&&f({type:"field",fieldName:"reloadPlaylist",payload:!0})})).catch((function(e){console.error(e),O(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h&&function(){e.apply(this,arguments)}()}),[m,h,t,a,f]);var y=Object(p.jsx)(r.a,{style:{marginLeft:"auto",borderRadius:"20px",width:"24px",height:"24px"},className:"m-button",onClick:function(e){e.stopPropagation(),h||O(!0)},children:Object(p.jsx)(o.a,{icon:t?"globe-europe":"lock"})});return i?Object(p.jsx)(l.a,{className:"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0",children:Object(p.jsx)(l.a,{className:"remove-holder p-0 m-0 flex-grow-0",style:{height:"24px",width:"24"},children:y})}):y}},484:function(e,t,a){"use strict";var i=a(16),s=a(0),c=a(502),n=a(1);t.a=function(e){var t=Object(s.useState)("data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="),a=Object(i.a)(t,2),l=a[0],r=a[1];return Object(s.useEffect)((function(){r(e.image)}),[e.image]),Object(n.jsx)(c.a,{aspectRatio:"16x9",children:Object(n.jsx)("img",{alt:"",className:"embed-responsive-item play-image",src:l})})}},487:function(e,t,a){"use strict";var i=a(270),s=a(479),c=a(190),n=a(1);t.a=function(e){var t=e.handleRemove;return Object(n.jsx)(i.a,{className:"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0",children:Object(n.jsx)(i.a,{className:"remove-holder p-0 m-0 flex-grow-0",style:{height:"24px",width:"24px"},children:Object(n.jsx)(s.a,{style:{marginLeft:"auto",borderRadius:"20px",width:"24px",height:"24px"},className:"m-button ",onClick:t,children:Object(n.jsx)(c.a,{icon:"trash-alt"})})})})}},490:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c}));var i=function(e){return!!("path"===e.tagName&&e.parentNode.className.animVal&&e.parentNode.className.animVal.includes("playlist-add-icon")||"svg"===e.tagName&&e.className.animVal&&e.className.animVal.includes("playlist-add-icon")||e.className&&"string"===typeof e.className&&e.className.includes("playlist-add-icon-holder"))},s=function(e){var t=new Date(Date.parse(e.createdAt));return("0"+t.getDate()).slice(-2)+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getFullYear()).slice(-2)+" o "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)},c=function(e){var t=new Date(Date.parse(e.createdAt)),a=new Date,i=Math.abs(Math.floor((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())-Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes()))/6e4));return i/60>=1?(i/=60)/24>=1?(i/=24)/30>=1?(i/=30)/12>=1?(i/=12,i=Math.floor(i)+" years "):i=Math.floor(i)+" months ":i=Math.floor(i)+" days ":i=Math.floor(i)+" hours ":i=Math.floor(i)+" minutes ",i+="ago"}},492:function(e,t,a){},494:function(e,t,a){"use strict";var i=a(16),s=a(0),c=a(593),n=a(270),l=a(190),r=a(2),o=a(25),d=a.n(o),u=a(41),p=a(470),m=a(475),f=a(102),j=a(471),b=a(271),h=a(459),O=a(158),y=a(482),x=a(117),g=a(191),v=a(155),N=a(17),w=a(481),C={playlists:[],isLoading:!0,isAllFetched:!1,isCreating:!1,isAdding:!1,playlistToUpgrade:null,title:"",isPublic:!1,error:""};function k(e,t){switch(t.type){case"field":return Object(r.a)(Object(r.a)({},e),{},Object(N.a)({error:""},t.fieldName,t.payload));case"load":return Object(r.a)(Object(r.a)({},e),{},{isLoading:!0,isAllFetched:!1});case"load-success":return Object(r.a)(Object(r.a)({},e),{},{playlists:[].concat(Object(v.a)(e.playlists),Object(v.a)(t.payload)),isLoading:!1,isAllFetched:t.payload<w.d,error:""});case"create":return Object(r.a)(Object(r.a)({},e),{},{isLoading:!1,isCreating:!0});case"create-success":return Object(r.a)(Object(r.a)({},e),{},{isLoading:!1,isCreating:!1});case"add":return Object(r.a)(Object(r.a)({},e),{},{isLoading:!1,isAdding:!0,playlistToUpgrade:t.payload});case"add-update-playlist":return Object(r.a)(Object(r.a)({},e),{},{playlists:e.playlists.map((function(t){return t.id===e.playlistToUpgrade.id?Object(r.a)(Object(r.a)({},t),{},{contains:!t.contains}):t})),playlistToUpgrade:null});case"add-success":return Object(r.a)(Object(r.a)({},e),{},{isAdding:!1});case"change-playlist-privacy-success":return Object(r.a)(Object(r.a)({},e),{},{playlists:e.playlists.map((function(e){return e.id===t.payload.id?Object(r.a)(Object(r.a)({},e),{},{is_public:t.payload.is_public}):e}))});case"error":return Object(r.a)(Object(r.a)({},e),{},{isLoading:!1,isAllFetched:!1,isCreating:!1,error:t.payload,title:""});default:return e}}var P=a(483),A=a(489),R=a.n(A),_=a(1);var D=function(e){var t=e.filmID,a=e.handlePlaylistClose,o=e.isPreview,v=e.filmDispatch,N=R()({background:"black"}),A=Object(i.a)(N,2),D=A[0],L=A[1],F=Object(s.useContext)(x.a).createToast,M=Object(s.useReducer)(k,C),E=Object(i.a)(M,2),I=E[0],U=E[1],T=I.playlists,S=I.title,H=I.isPublic,V=I.isLoading,Y=I.isAllFetched,B=I.isCreating,q=I.isAdding,z=I.playlistToUpgrade,G=I.error,J=Object(s.useCallback)((function(){V||Y||B||q||U({type:"load"})}),[V,Y,B,q]),Q=Object(g.a)(J);return Object(s.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a({playlists:!0,skip:T.length,limit:w.d}).then((function(e){var a=e.data.playlists;a.forEach((function(e){e.contains=e.films.indexOf(t)>-1})),U({type:"load-success",payload:a})})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}V&&function(){e.apply(this,arguments)}()}),[t,T,V]),Object(s.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={title:S,is_public:H,films_id:[t]},e.next=3,y.a(i).then((function(e){U({type:"create-success"}),F("Created playlist ".concat(S)),a()})).catch((function(e){console.error(e);var t=null;e.response&&e.response.data&&e.response.data.error?t=e.response.data.error:e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors[0]),U({type:"error",payload:"Path `title` is required."===t?"Playlist title is required":t})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}B&&function(){e.apply(this,arguments)}()}),[B,S,H,F,a,t]),Object(s.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={films_id:[t]},a=z.contains?Object(r.a)(Object(r.a)({},a),{},{is_remove_films:!0}):Object(r.a)(Object(r.a)({},a),{},{is_remove_films:!1}),i=z.contains?"Deleted from playlist ".concat(z.title):"Added to playlist ".concat(z.title),U({type:"add-update-playlist",playlist:z}),e.next=6,y.c(z.id,a).then((function(e){U({type:"add-success"}),o&&v({type:"field",fieldName:"reloadPlaylist",payload:!0}),F(i)})).catch((function(e){return console.error(e)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}q&&z&&function(){e.apply(this,arguments)}()}),[q,z,F,v,t,o]),Object(_.jsxs)(c.a.Menu,{onClick:function(e){return e.stopPropagation()},style:{width:"240px"},children:[Object(_.jsxs)(p.a,{className:"m-0 m-button playlist-add-button-ripple",children:[Object(_.jsx)(n.a,{className:"playlist-add-exit-text-width",children:"Save to..."}),Object(_.jsxs)(n.a,{xs:2,sm:2,onClick:function(e){D(e),setTimeout(a,150)},style:{borderRadius:"20px",width:"24px",height:"24px"},className:"playlist-add-icon-holder p-0 playlist-add-button-ripple d-flex align-items-center text-center justify-content-center",children:[Object(_.jsx)(l.a,{icon:"times"}),L]})]}),Object(_.jsx)(c.a.Divider,{}),Object(_.jsxs)("div",{ref:Q,style:{maxHeight:"100px",overflowY:"scroll",minHeight:"3rem"},children:[T.map((function(e,t){return Object(_.jsxs)(p.a,{className:"m-0 playlist-form-group",children:[Object(_.jsx)(n.a,{xs:10,sm:10,className:"p-0",children:Object(_.jsxs)(m.a.Check,{id:e.id,className:"form-check",children:[Object(_.jsx)(f.a.Input,{type:"checkbox",onChange:function(){return function(e){U({type:"add",payload:e})}(e)},checked:e.contains}),Object(_.jsx)(f.a.Label,{children:Object(_.jsx)("p",{className:"playlist-check-label",children:e.title})})]})}),Object(_.jsx)(P.a,{id:e.id,isPublic:e.is_public,isProfile:!1,filmDispatch:v,dispatchPrivacyUpdate:U})]},e.id)})),!Y&&Object(_.jsx)("div",{style:{height:"32px"},className:"d-flex justify-content-center",children:V&&Object(_.jsx)(j.a,{animation:"border"})})]}),Object(_.jsx)(c.a.Divider,{}),Object(_.jsx)(c.a.ItemText,{children:"Create a new playlist"}),Object(_.jsx)(p.a,{className:"m-0 p-0",children:Object(_.jsxs)(m.a,{children:[Object(_.jsx)(b.a,{isInvalid:""!==G,onChange:function(e){return U({type:"field",fieldName:"title",payload:e.target.value})},className:"mb-2 mt-2",placeholder:"Enter playlist title..."}),Object(_.jsx)(b.a.Feedback,{type:"invalid",className:"mb-2 mt-2",children:G}),Object(_.jsxs)(m.a.Select,{"aria-label":"Privacy",className:"mb-2 mt-2",onChange:function(e){return U({type:"field",fieldName:"isPublic",payload:"public"===e.target.value})},children:[Object(_.jsx)("option",{value:"private",children:"Private"}),Object(_.jsx)("option",{value:"public",children:"Public"})]}),Object(_.jsxs)(m.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(_.jsx)(h.a,{disabled:B,onClick:B?null:function(e){e.stopPropagation(),U({type:"create"})},children:"Create"}),B&&Object(_.jsx)(j.a,{className:"ms-2",animation:"grow"})]})]})})]})},L=a(51),F=a(60);a(492);t.a=function(e){var t=Object(s.useContext)(L.a).user,a=R()({background:"black"}),r=Object(i.a)(a,2),o=r[0],d=r[1],u=Object(s.useState)(!1),p=Object(i.a)(u,2),m=p[0],f=p[1];return t.auth?Object(_.jsxs)(c.a,{show:m,onToggle:function(e,t,a){f(e)},className:e.isPreview?"col-sm-2 col-2 p-0":"",children:[Object(_.jsx)(c.a.Toggle,{variant:"link",bsPrefix:"p-0",className:"m-button playlist-add-button-ripple",style:{color:"black"},children:Object(_.jsx)("div",{style:{display:"inline-block",width:"100%",height:"100%"},children:Object(_.jsxs)(n.a,{onClick:o,style:{verticalAlign:"top",borderRadius:"20px",width:"24px",height:"24px"},className:"playlist-add-icon-holder p-0 playlist-add-button-ripple",children:[Object(_.jsx)(l.a,{style:{opacity:m?1:""},className:"playlist-add-icon",icon:F.a}),d]})})}),m&&Object(_.jsx)(D,{isPreview:e.isPreview,filmDispatch:e.filmDispatch,isOpen:m,filmID:e.filmID,handlePlaylistClose:function(){f(!1)}})]}):null}},495:function(e,t,a){},496:function(e,t,a){"use strict";a(0);var i=a(270),s=a(470),c=a(190),n=a(486),l=a.n(n),r=a(484),o=a(494),d=a(490),u=a(487),p=(a(495),a(1));t.a=function(e){var t=e.film,a=e.index,n=e.handleRedirect,m=e.handleRemove,f=e.isProfile,j=e.isRecommendations;return Object(p.jsx)("div",{className:j?"row mx-0 mb-4":"col mb-5 col-12 col-sm-6 col-md-3 col-lg-2",children:Object(p.jsxs)("div",{className:(j?"row p-0 m-0":"col").concat(" play-outer-container remove-container"),onClick:function(e){Object(d.a)(e.target)||n(t.id)},children:[Object(p.jsx)(i.a,{xs:j?6:12,sm:j?6:12,className:"m-0 p-0",children:Object(p.jsxs)("div",{className:"embed-responsive embed-responsive-16by9 z-depth-1-half play-container",children:[Object(p.jsx)(r.a,{image:t.img}),Object(p.jsx)(c.a,{className:"play-middle",icon:"play"})]})}),Object(p.jsxs)(i.a,{xs:j?6:12,sm:j?6:12,className:j?"m-0":"m-0 p-0",children:[Object(p.jsxs)(s.a,{className:"m-0 mt-1",children:[Object(p.jsx)(i.a,{className:"film-preview-playlist-title-width p-0",children:Object(p.jsx)(l.a,{line:1,text:t.title,className:"mb-1 mt-1 title "})}),Object(p.jsx)(i.a,{className:"p-0 d-flex justify-content-end",children:f?Object(p.jsx)(u.a,{handleRemove:m}):Object(p.jsx)(o.a,{index:a,filmID:t.id})})]}),Object(p.jsx)("p",{className:"mb-0 author-nick-color",children:Object(p.jsx)("small",{children:t.author_name})}),Object(p.jsx)("p",{className:"mb-0 film-views",children:Object(p.jsxs)("small",{children:[t.views," views"]})})]})]})})}},504:function(e,t,a){"use strict";var i=a(16),s=a(0),c=a(270),n=a(470),l=a(190),r=a(486),o=a.n(r),d=a(484),u=a(487),p=a(483),m=a(1);t.a=function(e){var t=e.playlist,a=e.handleRedirect,r=e.handleRemove,f=e.isProfile,j=e.dispatchPrivacyUpdate,b=f?8:10,h=Object(s.useState)("mb-5 play-outer-container remove-container"),O=Object(i.a)(h,2),y=O[0],x=O[1];return Object(s.useEffect)((function(){t.film_id||x("mb-5 play-cursor-default remove-container")}),[t.film_id]),Object(m.jsx)(c.a,{xs:12,sm:6,md:3,lg:2,children:Object(m.jsxs)(c.a,{className:y,onClick:function(){return a(t.id,t.film_id)},children:[Object(m.jsxs)("div",{className:"embed-responsive embed-responsive-16by9 z-depth-1-half play-container",children:[Object(m.jsx)(d.a,{image:t.img}),Object(m.jsxs)(n.a,{style:{width:"100%",margin:0},className:"play-middle",children:[Object(m.jsx)(c.a,{xs:5,sm:5,style:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:Object(m.jsx)(l.a,{icon:"play"})}),Object(m.jsx)(c.a,{xs:7,sm:7,style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:Object(m.jsx)("small",{className:"fw-bold",children:"Play all"})})]})]}),Object(m.jsxs)(n.a,{className:"m-0",children:[Object(m.jsx)(c.a,{xs:b,sm:b,className:"p-0",children:Object(m.jsx)(o.a,{line:1,text:t.title,className:"mb-1 mt-1 title "})}),f&&Object(m.jsxs)(c.a,{xs:4,sm:4,className:"p-0 d-flex justify-content-end",children:[Object(m.jsx)(p.a,{id:t.id,isPublic:t.is_public,isProfile:!0,dispatchPrivacyUpdate:j}),Object(m.jsx)(u.a,{handleRemove:r})]})]}),Object(m.jsx)("p",{className:"mb-0 author-nick-color",children:Object(m.jsx)("small",{children:t.author_name})})]})},t.id)}},505:function(e,t,a){"use strict";t.a=a.p+"static/media/image_not_found.c4ba1e76.png"},610:function(e,t,a){"use strict";a.r(t);var i=a(25),s=a.n(i),c=a(155),n=a(2),l=a(41),r=a(16),o=a(0),d=a(22),u=a(470),p=a(471),m=a(17),f=a(481),j={data:[],isLoading:!1,isAllFetched:!1,isRemoving:!1,toRemove:null,error:null,filmsCount:0,playlistsCount:0};function b(e,t){switch(t.type){case"field":return Object(n.a)(Object(n.a)({},e),{},Object(m.a)({},t.fieldName,t.payload));case"initial-success":return Object(n.a)(Object(n.a)({},e),{},{isLoading:!1,isInitialLoaded:!0,isAllFetched:t.filmsCount<f.c&&t.playlistsCount<f.c,filmsCount:e.filmsCount+t.filmsCount,playlistsCount:e.playlistsCount+t.playlistsCount,data:Object(c.a)(new Set(t.data))});case"load":return e.isLoading||e.isAllFetched||!e.isInitialLoaded||e.error?e:Object(n.a)(Object(n.a)({},e),{},{isLoading:!0,isAllFetched:!1});case"success":return Object(n.a)(Object(n.a)({},e),{},{isLoading:!1,isAllFetched:t.filmsCount<f.c&&t.playlistsCount<f.c,filmsCount:e.filmsCount+t.filmsCount,playlistsCount:e.playlistsCount+t.playlistsCount,data:Object(c.a)(new Set([].concat(Object(c.a)(e.data),Object(c.a)(t.data))))});case"remove":return Object(n.a)(Object(n.a)({},e),{},{toRemove:t.payload,isRemoving:!0});case"remove-success":return Object(n.a)(Object(n.a)({},e),{},{isRemoving:!1,toRemove:null,data:e.toRemove?e.data.filter((function(t){return t.id!==e.toRemove.id})):e.data});case"change-playlist-privacy-success":return Object(n.a)(Object(n.a)({},e),{},{data:e.data.map((function(e){return e.isPlaylist&&e.id===t.payload.id?Object(n.a)(Object(n.a)({},e),{},{is_public:t.payload.is_public}):e}))});case"clear":return j;default:return e}}var h=a(191),O=a(496),y=a(504),x=a(158),g=a(482),v=a(157),N=a(505),w=a(118),C=a(51),k=a(1);t.default=function(e){var t=Object(o.useContext)(C.a),a=t.user,i=t.clearUser,m=Object(o.useContext)(w.a),P=m.showModal,A=m.clear,R=m.removeModalData,_=Object(d.g)(),D=Object(o.useReducer)(b,j),L=Object(r.a)(D,2),F=L[0],M=L[1],E=F.data,I=F.isLoading,U=F.isAllFetched,T=F.isInitialLoaded,S=F.error,H=F.isRemoving,V=F.toRemove,Y=F.filmsCount,B=F.playlistsCount,q=Object(o.useCallback)((function(){I||U||!T||S||M({type:"load"})}),[I,U,T,S]);Object(h.a)(q,{triggerOnNoScroll:!0}),Object(o.useEffect)((function(){!a.auth&&a.isInitialLoaded&&(_.replace("".concat("/filmapp-react-frontend/")),_.push("".concat("/filmapp-react-frontend/","login")),i())}),[a,_,i]),Object(o.useEffect)((function(){function e(){return(e=Object(l.a)(s.a.mark((function e(){var t,a,i,l,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([x.a({skipFilms:0,skipPlaylists:0,limit:f.b})]);case 2:t=e.sent,a=Object(r.a)(t,1),i=a[0],l=[],o=[],d=[],"fulfilled"===i.status&&(o=i.value.data.films.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{img:"".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.id,"/thumbnail?width=small_webp")})})),d=i.value.data.playlists.map((function(e){var t=e.film_id?"".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.film_id,"/thumbnail?width=small_webp"):N.a;return Object(n.a)(Object(n.a)({},e),{},{img:t,isPlaylist:!0})})),l=[].concat(Object(c.a)(l),Object(c.a)(o),Object(c.a)(d))),M({type:"initial-success",data:l,filmsCount:o.length,playlistsCount:d.length});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}M({type:"clear"}),function(){e.apply(this,arguments)}()}),[]),Object(o.useEffect)((function(){function e(){return(e=Object(l.a)(s.a.mark((function e(){var t,a,i,l,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([x.a({skipFilms:Y,skipPlaylists:B,limit:f.c})]);case 2:t=e.sent,a=Object(r.a)(t,1),i=a[0],l=[],o=[],d=[],"fulfilled"===i.status&&(o=i.value.data.films.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{img:"".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.id,"/thumbnail?width=small_webp")})})),d=i.value.data.playlists.map((function(e){var t=e.film_id?"".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.film_id,"/thumbnail?width=small_webp"):N.a;return Object(n.a)(Object(n.a)({},e),{},{img:t,isPlaylist:!0})})),l=[].concat(Object(c.a)(l),Object(c.a)(o),Object(c.a)(d))),M({type:"success",data:l,filmsCount:o.length,playlistsCount:d.length});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}I&&T&&function(){e.apply(this,arguments)}()}),[Y,I,B,T]),Object(o.useEffect)((function(){function e(){return(e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!V.isPlaylist){e.next=8;break}return e.next=4,g.d(V.id);case 4:204===e.sent.status&&(M({type:"remove-success"}),A()),e.next=12;break;case 8:return e.next=10,v.e(V.id);case 10:204===e.sent.status&&(M({type:"remove-success"}),A());case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}H&&R.isRemoving&&V&&R.id===V.id&&R.title===V.title&&R.type===(V.isPlaylist?"playlist":"film")&&function(){e.apply(this,arguments)}()}),[H,R,V,A]);var z=function(e,t){e.stopPropagation(),R.isRemoving||(M({type:"remove",payload:t}),P(t.id,t.isPlaylist?"playlist":"film",t.title))};return Object(k.jsxs)(u.a,{className:"mt-5 mx-2",children:[E.map((function(e,t){return e.isPlaylist?Object(k.jsx)(y.a,{playlist:e,index:t,isProfile:!0,dispatchPrivacyUpdate:M,handleRedirect:function(){return function(e){e.film_id&&_.push({pathname:"".concat("/filmapp-react-frontend/","film/")+e.film_id,search:"?list=".concat(e.id)})}(e)},handleRemove:function(t){return z(t,e)}},e.id):Object(k.jsx)(O.a,{isProfile:!0,film:e,index:t,handleRedirect:function(){return t=e.id,void _.push({pathname:"".concat("/filmapp-react-frontend/","film/")+t});var t},handleRemove:function(t){return z(t,e)}},e.id)})),!U&&Object(k.jsx)("div",{className:T?"fetch-loader d-flex justify-content-center":"suspense-loader",children:(I||!T)&&Object(k.jsx)(p.a,{className:T?"":"suspense-loader-spinner",animation:"border"})})]})}}}]);
//# sourceMappingURL=6.379c330e.chunk.js.map