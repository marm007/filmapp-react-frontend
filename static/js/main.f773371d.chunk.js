(this.webpackJsonpfilmapp_frontened=this.webpackJsonpfilmapp_frontened||[]).push([[1],{116:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));var a=n(19),c=n(49),r=function(e){return a.a.get("films/",{params:e})},s=function(e){return a.a.get("films/".concat(e))},i=function(e){return a.a.get("films/search",{params:e})},o=function(e){return a.a.patch("films/".concat(e,"/view"))},l=function(e){return a.a.post("films",e,{headers:Object(c.a)()})},d=function(e,t){return a.a.patch("films/".concat(e,"/action"),t,{headers:Object(c.a)()})},u=function(e){return a.a.delete("films/".concat(e),{headers:Object(c.a)()})}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n(19),c=n(49),r=function(e){return a.a.get("users/me",{params:e,headers:Object(c.a)()})},s=function(e){return a.a.patch("users",e,{headers:Object(c.a)()})}},143:function(e,t,n){"use strict";var a=n(0),c=n(105),r=n.n(c),s=function(e,t,n){return e?r()(t,e,n):t};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(a.useMemo)((function(){var e,n,a,c,r;return{offset:null!==(e=null===t||void 0===t?void 0:t.offset)&&void 0!==e?e:20,debounce:null!==(n=null===t||void 0===t?void 0:t.debounce)&&void 0!==n?n:200,debounceOptions:null!==(a=null===t||void 0===t?void 0:t.debounceOptions)&&void 0!==a?a:{leading:!0},triggerOnNoScroll:null!==(c=null===t||void 0===t?void 0:t.triggerOnNoScroll)&&void 0!==c&&c,id:null!==(r=null===t||void 0===t?void 0:t.id)&&void 0!==r?r:null}}),[null===t||void 0===t?void 0:t.offset,null===t||void 0===t?void 0:t.debounce,null===t||void 0===t?void 0:t.debounceOptions,null===t||void 0===t?void 0:t.triggerOnNoScroll,null===t||void 0===t?void 0:t.id]),c=n.offset,r=n.triggerOnNoScroll,i=n.debounce,o=n.debounceOptions,l=n.id,d=Object(a.useMemo)((function(){return s(i,e,o)}),[e,i,o]),u=Object(a.useRef)(null),j=Object(a.useCallback)((function(){if(null!=u.current){var e=u.current,t=Math.round(e.scrollTop+e.clientHeight);Math.round(e.scrollHeight-c)<=t&&d()}else if(null!==l){var n=document.getElementById(l);if(n){var a=Math.round(n.scrollTop+n.clientHeight);Math.round(n.scrollHeight-c)<=a&&d()}}else{var r=document.scrollingElement||document.documentElement,s=Math.round(r.scrollTop+window.innerHeight);Math.round(r.scrollHeight-c)<=s&&d()}}),[d,c,l]);return Object(a.useEffect)((function(){var e=u.current,t=document.getElementById(l);return null!=e?e.addEventListener("scroll",j):null!==t?t.addEventListener("scroll",j):window.addEventListener("scroll",j),r&&j(),function(){null!=e?e.removeEventListener("scroll",j):null!==t?t.addEventListener("scroll",j):window.removeEventListener("scroll",j)}}),[j,r,l]),u}},19:function(e,t,n){"use strict";var a=n(203),c=n.n(a).a.create({baseURL:"https://marm007-filmapp-backend-node.herokuapp.com/api/"});t.a=c},197:function(e,t,n){"use strict";var a=n(9),c=n(0);t.a=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],s=function(){r(window.innerWidth<600)};return Object(c.useEffect)((function(){return s(),window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[]),n}},308:function(e,t,n){},310:function(e,t,n){},350:function(e,t,n){},357:function(e,t,n){"use strict";n.r(t);n(211),n(212),n(213),n(174);var a=n(0),c=n(34),r=n.n(c),s=(n(308),n(2)),i=(n(309),n(310),n(21)),o=n.n(i),l=n(35),d=n(9),u=n(18),j=n(142),b=n(368),p=n(144),m=n(365),f=n(361),h=n(362),O=n(358),g=n(366),x=n(116),v=n(115),y=n(44),w=(n(349),n(350),n(80)),A=n(15),N={options:[],isLoading:!1,isAllFetched:!1,isSearching:!1,isOpen:!1,selected:null,title:""};function k(e,t){switch(t.type){case"field":return Object(s.a)(Object(s.a)({},e),{},Object(A.a)({selected:null},t.fieldName,t.payload));case"pick-option":return Object(s.a)(Object(s.a)({},e),{},{title:t.title,selected:t.selected});case"success-load":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isSearching:!1,isAllFetched:t.payload.length<10,options:[].concat(Object(w.a)(e.options),Object(w.a)(t.payload))});case"success-search":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isSearching:!1,isAllFetched:t.payload.length<10,options:t.payload});case"clear":return N;case"load":return e.isLoading||e.isAllFetched?e:Object(s.a)(Object(s.a)({},e),{},{isLoading:!0,isAllFetched:!1,isSearching:!1});case"search":return Object(s.a)(Object(s.a)({},e),{},{options:[],isSearching:!0,isLoading:!1,isAllFetched:!1});default:return e}}var C=n(143),L=n(197),S=n(52),E=n(91),B=(n(351),n(1));var I=function(e){var t=Object(u.g)(),n=Object(u.h)(),c=Object(L.a)(),r=Object(a.useContext)(y.a),i=r.user,w=r.logout,A=Object(a.useReducer)(k,N),I=Object(d.a)(A,2),T=I[0],F=I[1],P=Object(a.useState)(!1),D=Object(d.a)(P,2),H=D[0],G=D[1],R=T.options,Y=T.title,U=T.isLoading,J=T.isAllFetched,M=T.isSearching,X=T.isOpen,z=T.selected,K=Object(a.useCallback)((function(){U||J||M||!X||F({type:"load"})}),[U,J,M,X]);Object(C.a)(K,{id:"typeahead-navbar"});var Z=Object(a.useRef)(null);Object(a.useEffect)((function(){return document.addEventListener("keydown",V),function(){document.removeEventListener("keydown",V)}})),Object(a.useEffect)((function(){G(!1)}),[n]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.f({search:Y,skip:R.length}).then((function(e){var t=e.data.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{img:"".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.id,"/thumbnail?width=small_webp")})}));F({type:"success-load",payload:t})})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}U&&function(){e.apply(this,arguments)}()}),[U,Y,R.length]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.f({search:Y}).then((function(e){var t=e.data.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{img:"".concat("https://marm007-filmapp-backend-node.herokuapp.com/api/","films/").concat(e.id,"/thumbnail?width=small_webp")})}));F({type:"success-search",payload:t})})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}M&&function(){e.apply(this,arguments)}()}),[M,Y]);var V=function(e){if(e&&e.target&&e.target.className&&"rbt-input-main form-control rbt-input  focus"===e.target.className){var t=e.keyCode||e.charCode;switch(console.log(t),t){case 13:W(e);break;case 9:c&&W(e)}}},W=function(e){e.preventDefault(),document.getElementById("search-form").reset(),Z&&Z.current.clear(),z?t.push({pathname:"".concat("/filmapp-react-frontend/","film/").concat(z.id),search:"",state:{}}):""===Y?t.push({pathname:"".concat("/filmapp-react-frontend/","search"),search:"?title=".concat(Y),state:{}}):1===R.length?t.push({pathname:"".concat("/filmapp-react-frontend/","film/").concat(R[0].id),search:"",state:{}}):t.push({pathname:"".concat("/filmapp-react-frontend/","search"),search:"?title=".concat(Y),state:{films:R}}),F({type:"clear"})},Q=Object(a.useCallback)((function(e){F({type:"search",payload:e})}),[]);return Object(B.jsxs)(b.a,{expanded:H,className:"py-2 px-4",expand:"md",bg:"light",variant:"light",onToggle:function(e){G(e)},onSelect:function(e){return function(e){switch(e){case"add_film":t.push("".concat("/filmapp-react-frontend/","add"));break;case"playlists":t.push("".concat("/filmapp-react-frontend/","playlists"))}}(e)},children:[Object(B.jsx)(p.a,{className:"pb-2",xs:{span:5,order:"first"},sm:{span:2,order:"first"},md:{span:4,order:"first"},children:Object(B.jsxs)(b.a.Brand,{style:{cursor:"pointer"},className:"d-flex align-items-center",onClick:function(){return t.push("/filmapp-react-frontend/")},children:[Object(B.jsx)(b.a.Brand,{children:Object(B.jsx)("img",{alt:"",src:"data:image/png;base64,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",width:"30",height:"30"})}),Object(B.jsx)("p",{className:"d-none d-md-inline m-0",children:"FilmApp"})]})}),Object(B.jsx)(p.a,{className:"text-right d-md-none m-button pb-2 ",xs:{span:6,order:2},sm:{span:2,order:"last"},children:Object(B.jsx)(b.a.Toggle,{className:"m-button","aria-controls":"responsive-navbar-nav"})}),Object(B.jsx)(p.a,{xs:{span:12,order:3},sm:{span:8,order:2},md:{span:5,order:2},children:Object(B.jsx)(m.a,{id:"search-form",inline:"true",children:Object(B.jsxs)(f.a,{className:"m-0",style:{width:"100%"},children:[Object(B.jsx)(p.a,{xs:12,sm:10,className:"p-0",children:Object(B.jsx)(v.a,{ref:Z,className:"search-bar",useCache:!1,filterBy:function(){return!0},id:"typeahead-navbar",isLoading:!0,open:X,placeholder:"Search",labelKey:"title",minLength:1,options:R,onSearch:Q,onBlur:function(e){return F({type:"field",fieldName:"isOpen",payload:!1})},onFocus:function(e){""!==Y&&F({type:"field",fieldName:"isOpen",payload:!0})},onKeyDown:function(e){return F({type:"field",fieldName:"isOpen",payload:!0})},onMenuToggle:function(e){return F({type:"field",fieldName:"isOpen",payload:e})},onInputChange:function(e,t){F({type:"field",fieldName:"title",payload:e}),""===e&&F({type:"field",fieldName:"options",payload:[]})},onChange:function(e){var t=e.length>0?e[0].title:"";F({type:"pick-option",title:t,selected:e.length>0?e[0]:null})},renderMenu:function(e,n){return Object(B.jsxs)(v.b,Object(s.a)(Object(s.a)({},n),{},{className:"pt-4 pb-4",children:[e.map((function(e,n){return Object(B.jsx)(v.c,{option:e,position:n,children:Object(B.jsxs)(f.a,{className:"p-0 m-0 entry__inner",onClick:function(n){n.stopPropagation(),n.preventDefault(),F({type:"clear"}),document.getElementById("search-form").reset(),Z&&Z.current.clear(),t.push({pathname:"".concat("/filmapp-react-frontend/","film/").concat(e.id),search:"",state:{}})},children:[Object(B.jsx)("img",{className:"p-0",alt:"",src:e.img,style:{height:"24px",marginRight:"10px",width:"24px"}}),Object(B.jsx)("span",{className:"entry__text",children:e.title})]})},e.id)})),!U&&!M&&0===e.length&&Object(B.jsx)("a",{role:"option",className:"dropdown-item disabled",href:"#",children:"No matches found."}),M&&Object(B.jsx)("a",{role:"option",className:"dropdown-item disabled",href:"#",children:"Searching..."}),Object(B.jsx)("div",{style:{height:"8px"},className:"d-flex justify-content-center",children:U&&!J&&Object(B.jsx)(h.a,{animation:"border"})})]}))}})}),Object(B.jsx)(p.a,{sm:2,children:Object(B.jsx)(O.a,{onClick:W,className:"d-none d-sm-inline",variant:"light",children:Object(B.jsx)(j.a,{icon:S.g})})})]})})}),Object(B.jsx)(p.a,{xs:{span:12,order:"last"},sm:{span:12,order:"last"},md:{span:3,order:"last"},children:Object(B.jsx)(b.a.Collapse,{className:"justify-content-end",id:"responsive-navbar-nav",children:Object(B.jsxs)(g.a,{activeKey:"",className:"d-block d-sm-block d-md-flex  align-items-center",children:[Object(B.jsx)(g.a.Link,{className:"px-2",eventKey:"playlists",children:"Playlists"}),i.auth&&Object(B.jsx)(g.a.Link,{className:"px-2",eventKey:"add_film",children:"Add"}),i.auth?Object(B.jsxs)(E.a,{className:"avatar-menu-items",align:"end",viewScroll:"close",offsetY:12,position:"initial",direction:"bottom",menuButton:Object(B.jsx)("div",{className:"pe-2 ps-2 custom-avatar m-button",children:i.name.toUpperCase().charAt(0)}),children:[Object(B.jsx)(E.b,{onClick:function(){t.push("".concat("/filmapp-react-frontend/","profile"))},children:" Profile"}),Object(B.jsx)(E.b,{onClick:function(){var e=n.pathname;"/filmapp-react-frontend/"===e&&(e=e.slice(0,-1)),t.push({pathname:"".concat(e,"/settings"),search:n.search,state:n.state})},children:"Settings"}),Object(B.jsx)(E.b,{onClick:function(){w()},children:"Logout"})]}):Object(B.jsx)(g.a.Link,{className:"pe-2 ps-2",eventKey:"login ",onClick:function(){return function(){var e=n.pathname;"/filmapp-react-frontend/"===e&&(e=e.slice(0,-1)),t.push({pathname:"".concat(e,"/login"),search:n.search,state:n.state})}()},children:"Login"})]})})})]})},T=n(364),F=n(363),P=n(49),D=n(19),H=function(e){return D.a.post("auth",{},{auth:{username:e.email,password:e.password}})},G=function(e){return D.a.post("users",e)},R=function(e){return D.a.post("auth/password/forgot",e)},Y=function(e,t){return D.a.post("auth/password/reset/".concat(e),t)},U={email:"",nick:"",password:"",isSubmitted:!1,isSending:!1,isSuccess:!1,isError:!1,error:null},J=function(e,t){switch(t.type){case"field":return Object(s.a)(Object(s.a)({},e),{},Object(A.a)({isSubmitted:!1},t.fieldName,t.payload));case"submit":return Object(s.a)(Object(s.a)({},e),{},{isError:!1,error:null,isSubmitted:!0});case"send":return Object(s.a)(Object(s.a)({},e),{},{isSending:!0});case"success":return Object(s.a)(Object(s.a)({},e),{},{isError:!1,error:null,isSending:!1,isSuccess:!0});case"error":return Object(s.a)(Object(s.a)({},e),{},{isSending:!1,isError:!0,error:t.payload});default:return e}};var M=function(e){var t=Object(a.useContext)(y.a).login,n=Object(u.g)(),c=Object(u.h)(),r=Object(a.useReducer)(J,U),s=Object(d.a)(r,2),i=s[0],j=s[1],b=i.email,f=i.password,g=i.isSubmitted,x=i.isSending,v=i.isError,w=i.error,A=Object(a.useState)(!0),N=Object(d.a)(A,2),k=N[0],C=N[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H({email:b,password:f}).then((function(e){t(e.data.user.name,e.data.user.id,e.data.token,e.data.refreshToken);var a=c.pathname.slice(0,-6);""===a&&(a="/filmapp-react-frontend/"),n.replace({pathname:a,search:c.search,state:c.state})})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),j({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x&&function(){e.apply(this,arguments)}()}),[x,b,f,n,c,t]);var L=function(){C(!1),c.state?n.push("/filmapp-react-frontend/"):n.goBack()};return Object(B.jsxs)(T.a,{onHide:L,show:k,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(B.jsx)(T.a.Header,{closeButton:!0,children:Object(B.jsx)(T.a.Title,{id:"contained-modal-title-vcenter",children:"Login"})}),Object(B.jsxs)(T.a.Body,{children:[Object(B.jsxs)(m.a,{onSubmit:x?null:function(e){e.preventDefault(),j({type:"submit"}),b&&f&&j({type:"send"})},children:[Object(B.jsxs)(m.a.Group,{children:[Object(B.jsx)(m.a.Label,{htmlFor:"email",children:"Email"}),Object(B.jsx)(m.a.Control,{isInvalid:g&&!b,type:"email",name:"email",value:b,onChange:function(e){return j({type:"field",fieldName:"email",payload:e.target.value})}}),Object(B.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Email is required"})]}),Object(B.jsxs)(m.a.Group,{className:"mt-2",children:[Object(B.jsx)(m.a.Label,{htmlFor:"password",children:"Password"}),Object(B.jsx)(m.a.Control,{isInvalid:g&&!f,type:"password",name:"password",value:f,onChange:function(e){return j({type:"field",fieldName:"password",payload:e.target.value})}}),Object(B.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Password is required"})]}),Object(B.jsxs)(m.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(B.jsx)(O.a,{disabled:x,type:"submit",className:"btn-primary",children:"Login"}),x&&Object(B.jsx)(h.a,{className:"ms-2",animation:"grow"})]})]}),v&&Object(B.jsx)(F.a,{variant:"danger",className:"mt-2 mb-0",children:w||"Error while logging in."}),Object(B.jsx)(O.a,{variant:"link",onClick:function(){n.goBack(),setTimeout((function(){n.push("".concat(c.pathname.slice(0,-5),"register").concat(c.search))}),500)},className:"p-0 mt-2 btn btn-link",children:"Register"}),Object(B.jsx)(p.a,{className:"p-0 m-0 ",xs:12,sm:12,children:Object(B.jsx)(O.a,{variant:"link",onClick:function(){n.goBack(),setTimeout((function(){n.push("".concat(c.pathname.slice(0,-5),"forgot").concat(c.search))}),500)},className:"p-0 mt-2 btn btn-link",children:"Forgot password?"})})]}),Object(B.jsx)(T.a.Footer,{children:Object(B.jsx)(O.a,{onClick:L,children:"Close"})})]})};var X=function(e){var t=Object(u.g)(),n=Object(a.useReducer)(J,U),c=Object(d.a)(n,2),r=c[0],s=c[1],i=r.password,j=r.isSubmitted,b=r.isSending,p=r.isSuccess,f=r.isError,g=r.error,x=Object(a.useState)(!0),v=Object(d.a)(x,2),y=v[0],w=v[1];Object(a.useEffect)((function(){function n(){return(n=Object(l.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Y(e.match.params.token,{password:i}).then((function(e){s({type:"success"}),setTimeout((function(){w(!1),t.push("".concat("/filmapp-react-frontend/")),setTimeout((function(){t.push("".concat("/filmapp-react-frontend/","login"))}),500)}),1500)})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),s({type:"error",payload:t})}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}b&&function(){n.apply(this,arguments)}()}),[b,t,i,e.match.params.token]);var A=function(){w(!1),t.push("".concat("/filmapp-react-frontend/"))};return Object(B.jsxs)(T.a,{onHide:A,show:y,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(B.jsx)(T.a.Header,{closeButton:!0,children:Object(B.jsx)(T.a.Title,{id:"contained-modal-title-vcenter",children:"Reset"})}),Object(B.jsx)(T.a.Body,{children:Object(B.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),s({type:"submit"}),e.match.params.token&&i&&i.length>=6&&s({type:"send"})},children:[Object(B.jsxs)(m.a.Group,{children:[Object(B.jsx)(m.a.Label,{htmlFor:"password",children:"Password"}),Object(B.jsx)(m.a.Control,{isInvalid:j&&i.length<6,type:"password",name:"password",value:i,maxLength:"11",onChange:function(e){return s({type:"field",fieldName:"password",payload:e.target.value})}}),Object(B.jsx)(m.a.Control.Feedback,{type:"invalid",children:0===i.length?"Password is required":"Password too short (min 6 chars)"})]}),p&&Object(B.jsx)(F.a,{variant:"success",className:"mt-2",children:"Password has been reseated! Redirecting to login page."}),f&&Object(B.jsx)(F.a,{variant:"danger",className:"mt-2",children:g||"Error while resetting password."}),Object(B.jsxs)(m.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(B.jsx)(O.a,{type:"submit",className:"btn-primary",children:"Reset password"}),b&&Object(B.jsx)(h.a,{className:"ms-2",animation:"grow"})]})]})}),Object(B.jsx)(T.a.Footer,{children:Object(B.jsx)(O.a,{onClick:A,children:"Close"})})]})};var z=function(e){var t=Object(u.g)(),n=Object(a.useState)(!0),c=Object(d.a)(n,2),r=c[0],s=c[1],i=Object(a.useReducer)(J,U),j=Object(d.a)(i,2),b=j[0],p=j[1],f=b.email,g=b.isSuccess,x=b.isSubmitted,v=b.isSending,y=b.isError,w=b.error;Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({email:f}).then((function(e){p({type:"success"})})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors&&(t=e.response.data.errors),p({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v&&function(){e.apply(this,arguments)}()}),[v,f]);var A=function(){s(!1),t.goBack()};return Object(B.jsxs)(T.a,{onHide:A,show:r,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(B.jsx)(T.a.Header,{closeButton:!0,children:Object(B.jsx)(T.a.Title,{id:"contained-modal-title-vcenter",children:"Forgot"})}),Object(B.jsx)(T.a.Body,{children:Object(B.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),p({type:"submit"}),f&&p({type:"send"})},children:[Object(B.jsxs)(m.a.Group,{children:[Object(B.jsx)(m.a.Label,{htmlFor:"email",children:"Email"}),Object(B.jsx)(m.a.Control,{isInvalid:x&&!f,type:"email",name:"email",value:f,onChange:function(e){return p({type:"field",fieldName:"email",payload:e.target.value})}}),Object(B.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Email is required"})]}),g&&Object(B.jsx)(F.a,{variant:"success",className:"mt-2",children:"Email with link to reset password has been sent."}),y&&Object(B.jsx)(F.a,{variant:"danger",className:"mt-2",children:w||"Error while sending email."}),Object(B.jsxs)(m.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(B.jsx)(O.a,{type:"submit",className:"btn-primary",children:"Reset password"}),v&&Object(B.jsx)(h.a,{className:"ms-2",animation:"grow"})]})]})}),Object(B.jsx)(T.a.Footer,{children:Object(B.jsx)(O.a,{onClick:A,children:"Close"})})]})},K=n(5),Z=["component"],V=function(e){var t=e.component,n=Object(K.a)(e,Z);return Object(B.jsx)(u.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){return localStorage.getItem("accessToken")?Object(B.jsx)(t,Object(s.a)({},e)):Object(B.jsx)(u.a,{to:{pathname:"".concat("/filmapp-react-frontend/","login"),state:{from:e.location}}})}}))},W={name:"",email:""},Q=Object(s.a)(Object(s.a)({},W),{},{password:"",initialUser:W,isInitialLoaded:!1,isSubmitted:!1,isSending:!1,error:"",success:""}),q=function(e,t){switch(t.type){case"field":return Object(s.a)(Object(s.a)({},e),{},Object(A.a)({error:""},t.fieldName,t.payload));case"initial-success":return Object(s.a)(Object(s.a)({},e),{},{initialUser:{email:t.email,name:t.name},isInitialLoaded:!0});case"submit":return Object(s.a)(Object(s.a)({},e),{},{isSubmitted:!0,error:null});case"send":return Object(s.a)(Object(s.a)({},e),{},{isSending:!0});case"success":return Object(s.a)(Object(s.a)({},e),{},{isSubmitted:!1,isSending:!1,success:"Changes saved successfully!",error:null});case"error":return Object(s.a)(Object(s.a)({},e),{},{isSending:!1,isSubmitted:!1,error:t.payload});default:return e}},_=n(117),$=function(e){var t=Object(a.useContext)(y.a),n=t.user,c=t.clearUser,r=t.updateUser,i=Object(u.g)(),j=Object(u.h)(),b=Object(a.useReducer)(q,Q),p=Object(d.a)(b,2),f=p[0],g=p[1],x=f.email,v=f.name,w=f.password,A=f.initialUser,N=(f.isSubmitted,f.isSending),k=f.isInitialLoaded,C=f.success,L=f.error,S=Object(a.useState)(!0),E=Object(d.a)(S,2),I=E[0],P=E[1];Object(a.useEffect)((function(){!n.auth&&n.isInitialLoaded&&(P(!1),i.replace("".concat("/filmapp-react-frontend/")),i.push("".concat("/filmapp-react-frontend/","login")),c())}),[n,i,c]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a().then((function(e){g({type:"initial-success",name:e.data.name,email:e.data.email})})).catch((function(e){console.error(e),g({type:"error",payload:!0})}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},w&&(t={password:w}),x&&""!==x&&x!==A.email&&(t=Object(s.a)(Object(s.a)({},t),{},{email:x})),v&&""!==v&&v!==A.name&&(t=Object(s.a)(Object(s.a)({},t),{},{name:v})),e.next=6,_.b(t).then((function(e){g({type:"success"}),setTimeout((function(){var t=j.pathname.slice(0,-9);""===t&&(t="/filmapp-react-frontend/"),i.replace({pathname:t,search:j.search,state:j.state}),r(e.data.accessToken)}),500)})).catch((function(e){console.error(e),g({type:"error",payload:e.response&&e.response.data&&e.response.data.error?e.response.data.error:"Something went wrong!"})}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}N&&function(){e.apply(this,arguments)}()}),[x,A.email,A.name,N,v,w,i,j,r]);return Object(B.jsxs)(T.a,{onHide:function(){P(!1),i.goBack()},show:I,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(B.jsx)(T.a.Header,{closeButton:!0,children:Object(B.jsx)(T.a.Title,{children:"Settings"})}),Object(B.jsxs)(T.a.Body,{children:[Object(B.jsxs)(m.a,{onSubmit:N?null:function(e){e.preventDefault(),g({type:"submit"}),(w||x&&""!==x&&x!==A.email||v&&""!==v&&v!==A.name)&&g({type:"send"})},children:[Object(B.jsxs)(m.a.Group,{children:[Object(B.jsx)(m.a.Label,{htmlFor:"name",children:"Name"}),Object(B.jsx)(m.a.Control,{type:"text",name:"email",value:v,placeholder:A.name,onChange:function(e){return g({type:"field",fieldName:"name",payload:e.target.value})}})]}),Object(B.jsxs)(m.a.Group,{className:"mt-2",children:[Object(B.jsx)(m.a.Label,{htmlFor:"email",children:"Email"}),Object(B.jsx)(m.a.Control,{type:"email",name:"email",value:x,placeholder:A.email,onChange:function(e){return g({type:"field",fieldName:"email",payload:e.target.value})}})]}),Object(B.jsxs)(m.a.Group,{className:"mt-2",children:[Object(B.jsx)(m.a.Label,{htmlFor:"password",children:"Password"}),Object(B.jsx)(m.a.Control,{type:"password",name:"password",value:w,onChange:function(e){return g({type:"field",fieldName:"password",payload:e.target.value})}})]}),Object(B.jsxs)(m.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(B.jsx)(O.a,{disabled:N||!k,type:"submit",className:"btn-primary",children:"Change"}),N&&Object(B.jsx)(h.a,{className:"ms-2",animation:"grow"})]})]}),L&&Object(B.jsx)(F.a,{variant:"danger",className:"mt-2 mb-0",children:L||"Error while logging in."}),C&&Object(B.jsx)(F.a,{variant:"success",className:"mt-2 mb-0",children:C})]})]})};var ee=function(e){var t=Object(u.g)(),n=Object(a.useContext)(y.a).login,c=Object(a.useReducer)(J,U),r=Object(d.a)(c,2),s=r[0],i=r[1],j=s.email,b=s.nick,p=s.password,f=s.isSubmitted,g=s.isSuccess,x=s.isSending,v=s.isError,w=s.error,A=Object(a.useState)(!0),N=Object(d.a)(A,2),k=N[0],C=N[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({email:j,password:p,name:b}).then((function(e){i({type:"success"}),setTimeout((function(){n(e.data.user.name,e.data.user.id,e.data.token,e.data.refreshToken),t.goBack()}),1500)})).catch((function(e){var t=null;e.response&&e.response.data&&e.response.data.errors?t=e.response.data.errors:e.response&&e.response.data&&e.response.data.error&&(t=e.response.data.error),i({type:"error",payload:t}),console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x&&function(){e.apply(this,arguments)}()}),[x,j,b,p,t,n]);var L=function(){C(!1),t.goBack()};return Object(B.jsxs)(T.a,{onHide:L,show:k,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(B.jsx)(T.a.Header,{closeButton:!0,children:Object(B.jsx)(T.a.Title,{id:"contained-modal-title-vcenter",children:"Register"})}),Object(B.jsx)(T.a.Body,{children:Object(B.jsxs)(m.a,{onSubmit:function(e){e.preventDefault(),i({type:"submit"}),j&&b&&p&&p.length>=6&&i({type:"send"})},children:[Object(B.jsxs)(m.a.Group,{children:[Object(B.jsx)(m.a.Label,{htmlFor:"nick",children:"Nick"}),Object(B.jsx)(m.a.Control,{isInvalid:f&&!b,type:"text",name:"nick",value:b,onChange:function(e){return i({type:"field",fieldName:"nick",payload:e.target.value})}}),Object(B.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Nick is required"})]}),Object(B.jsxs)(m.a.Group,{className:"mt-2",children:[Object(B.jsx)(m.a.Label,{htmlFor:"email",children:"Email"}),Object(B.jsx)(m.a.Control,{isInvalid:f&&!j,type:"email",name:"email",value:j,onChange:function(e){return i({type:"field",fieldName:"email",payload:e.target.value})}}),Object(B.jsx)(m.a.Control.Feedback,{type:"invalid",children:"Email is required"})]}),Object(B.jsxs)(m.a.Group,{className:"mt-2",children:[Object(B.jsx)(m.a.Label,{htmlFor:"password",children:"Password"}),Object(B.jsx)(m.a.Control,{isInvalid:f&&p.length<6,type:"password",name:"password",value:p,maxLength:"11",onChange:function(e){return i({type:"field",fieldName:"password",payload:e.target.value})}}),Object(B.jsx)(m.a.Control.Feedback,{type:"invalid",children:0===p.length?"Password is required":"Password too short (min 6 chars)"})]}),g&&Object(B.jsx)(F.a,{variant:"success",className:"mt-2",children:"You have successfully registered and logged in."}),v&&Object(B.jsx)(F.a,{variant:"danger",className:"mt-2",children:w||"Error while registtering."}),Object(B.jsxs)(m.a.Group,{className:"d-flex align-items-center mt-2",children:[Object(B.jsx)(O.a,{type:"submit",className:"btn-primary",children:"Register"}),x&&Object(B.jsx)(h.a,{className:"ms-2",animation:"grow"})]})]})}),Object(B.jsx)(T.a.Footer,{children:Object(B.jsx)(O.a,{onClick:L,children:"Close"})})]})},te=n(93),ne=function(e){var t=Object(a.useContext)(te.a),n=t.removeModalData,c=t.remove,r=t.clear,s=function(){return r()};return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(T.a,{show:n.show,onHide:s,centered:!0,children:[Object(B.jsx)(T.a.Header,{children:Object(B.jsxs)(T.a.Title,{children:["Delete ",n.type]})}),Object(B.jsxs)(T.a.Body,{children:["Do you really want to delete ",n.type," ",Object(B.jsx)("b",{children:n.title}),"?",Object(B.jsx)("br",{}),"Action cannot be undone!"]}),Object(B.jsxs)(T.a.Footer,{children:[Object(B.jsx)(O.a,{variant:"secondary",onClick:s,children:"Cancel"}),Object(B.jsx)(O.a,{variant:"primary",onClick:function(){return c()},children:"Delete"})]})]})})},ae=n(54),ce=n(367),re=n(68),se=n(92),ie=function(e){var t=e.children,n=Object(a.useContext)(y.a).logout;return Object(a.useMemo)((function(){D.a.interceptors.response.use((function(e){return e}),(function(e){var t,a=localStorage.getItem("accessToken"),c=e.config;return e.response&&401===e.response.status&&a&&!c._retry?"auth/refresh"===e.config.url?(n(),Promise.reject(e)):(c._retry=!0,(t={refreshToken:JSON.parse(localStorage.getItem("refreshToken"))},D.a.post("auth/refresh",t,{headers:Object(P.a)()})).then((function(e){if(201===e.status){var t=e.data.token;return localStorage.setItem("accessToken",JSON.stringify(t)),c.headers.Authorization="Bearer "+t,Object(D.a)(c)}}))):Promise.reject(e)}))}),[]),t},oe=n(141),le=function(e){var t=e.children,n=Object(u.h)().pathname,c=Object(a.useState)({name:"",id:null,auth:!1,isInitialLoaded:!1}),r=Object(d.a)(c,2),i=r[0],o=r[1];Object(a.useEffect)((function(){window.scrollTo(0,0)}),[n]),Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("accessToken");if(e){var t=Object(oe.a)(e);o((function(){return{name:t.name,auth:!0,id:t.id,isInitialLoaded:!0}}))}else o((function(e){return Object(s.a)(Object(s.a)({},e),{},{isInitialLoaded:!0})}))}()}),[]);return Object(B.jsx)(y.a.Provider,{value:{user:i,login:function(e,t,n,a){localStorage.setItem("accessToken",JSON.stringify(n)),localStorage.setItem("refreshToken",JSON.stringify(a)),o((function(){return{name:e,auth:!0,id:t,isInitialLoaded:!0}}))},logout:function(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),o((function(e){return Object(s.a)(Object(s.a)({},e),{},{name:"",auth:!1,id:null})}))},clearUser:function(){o((function(e){return Object(s.a)(Object(s.a)({},e),{},{isInitialLoaded:!1})}))},updateUser:function(e){localStorage.setItem("accessToken",JSON.stringify(e));var t=Object(oe.a)(e);o((function(e){return Object(s.a)(Object(s.a)({},e),{},{name:t.name})})),window.location.reload()}},children:t})};re.b.add(S.f,S.h,S.i,S.m,S.l,S.d,S.e);var de="/filmapp-react-frontend/",ue=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,480))})),je=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,481))})),be=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(7)]).then(n.bind(null,479))})),pe=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5),n.e(9)]).then(n.bind(null,482))})),me=Object(a.lazy)((function(){return n.e(10).then(n.bind(null,483))})),fe=Object(a.lazy)((function(){return n.e(11).then(n.bind(null,484))})),he=Object(a.lazy)((function(){return n.e(12).then(n.bind(null,485))}));var Oe=function(e){var t=Object(a.useContext)(se.a),n=t.toast,c=t.clearToast;return Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"toast-root",children:Object(B.jsxs)(ce.a,{show:n.isOpen,onClose:c,autohide:!0,className:"toast-element bg-secondary",children:[Object(B.jsx)(ce.a.Header,{children:Object(B.jsx)("strong",{className:"me-auto",children:"Playlist"})}),Object(B.jsx)(ce.a.Body,{children:n.message})]})}),Object(B.jsx)(ae.a,{children:Object(B.jsx)(le,{children:Object(B.jsxs)(ie,{children:[Object(B.jsx)(u.b,{render:function(){return Object(B.jsx)(I,{})}}),Object(B.jsx)(V,{exact:!0,path:["".concat(de,"settings"),"".concat(de,"profile/settings"),"".concat(de,"film/:id/settings"),"".concat(de,"search/settings"),"".concat(de,"add/settings"),"".concat(de,"playlists/settings")],component:$}),Object(B.jsx)(u.b,{exact:!0,path:["".concat(de,"login"),"".concat(de,"film/:id/login"),"".concat(de,"search/login"),"".concat(de,"add/login"),"".concat(de,"playlists/login")],render:function(e){return Object(B.jsx)(M,Object(s.a)({},e))}}),Object(B.jsx)(u.b,{exact:!0,path:["".concat(de,"register"),"".concat(de,"film/:id/register"),"".concat(de,"search/register"),"".concat(de,"add/register"),"".concat(de,"playlists/register")],render:function(e){return Object(B.jsx)(ee,Object(s.a)({},e))}}),Object(B.jsx)(u.b,{exact:!0,path:["".concat(de,"reset/:token"),"".concat(de,"film/:id/reset/:token"),"".concat(de,"search/reset/:token"),"".concat(de,"add/reset/:token"),"".concat(de,"playlists/reset/:token")],render:function(e){return Object(B.jsx)(X,Object(s.a)({},e))}}),Object(B.jsx)(u.b,{exact:!0,path:["".concat(de,"forgot"),"".concat(de,"film/:id/forgot"),"".concat(de,"search/forgot"),"".concat(de,"add/forgot"),"".concat(de,"playlists/forgot")],render:function(e){return Object(B.jsx)(z,Object(s.a)({},e))}}),Object(B.jsx)(a.Suspense,{fallback:Object(B.jsxs)("div",{className:"suspense-loader",children:[" ",Object(B.jsx)(h.a,{className:"suspense-loader-spinner",animation:"border"})]}),children:Object(B.jsxs)(u.d,{children:[Object(B.jsx)(u.b,{exact:!0,path:["".concat(de,"film/:id"),"".concat(de,"film/:id/login"),"".concat(de,"film/:id/register"),"".concat(de,"film/:id/reset/:token"),"".concat(de,"film/:id/forgot"),"".concat(de,"film/:id/settings")],render:function(e){return Object(B.jsx)(be,Object(s.a)({},e))}}),Object(B.jsx)(u.b,{exact:!0,path:["".concat(de),"".concat(de,"login"),"".concat(de,"register"),"".concat(de,"settings"),"".concat(de,"reset/:token"),"".concat(de,"forgot")],render:function(e){return Object(B.jsx)(je,Object(s.a)({},e))}}),Object(B.jsx)(u.b,{exact:!0,path:["".concat(de,"search"),"".concat(de,"search/login"),"".concat(de,"search/settings"),"".concat(de,"search/register"),"".concat(de,"search/reset/:token"),"".concat(de,"search/forgot")],render:function(e){return Object(B.jsx)(pe,Object(s.a)({},e))}}),Object(B.jsx)(V,{exact:!0,path:["".concat(de,"add"),"".concat(de,"add/settings")],component:fe}),Object(B.jsx)(u.b,{exact:!0,path:["".concat(de,"playlists"),"".concat(de,"playlists/login"),"".concat(de,"playlists/settings"),"".concat(de,"playlists/register"),"".concat(de,"playlists/reset/:token"),"".concat(de,"playlists/forgot")],render:function(e){return Object(B.jsx)(me,Object(s.a)({},e))}}),Object(B.jsx)(u.b,{exact:!0,path:["".concat(de,"profile"),"".concat(de,"profile/settings")],render:function(e){return localStorage.getItem("accessToken")?Object(B.jsx)(ue,Object(s.a)({},e)):Object(B.jsx)(u.a,{to:{pathname:"".concat("/filmapp-react-frontend/","login"),state:{from:e.location}}})}}),Object(B.jsx)(u.b,{exact:!0,path:"*",render:function(e){return Object(B.jsx)(he,Object(s.a)({},e))}})]})})]})})}),Object(B.jsx)(ne,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=function(e){var t=e.children,n=Object(a.useState)({isOpen:!1,message:"",isPrevoius:!1}),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(B.jsx)(se.a.Provider,{value:{toast:r,createToast:function(e){r.isPrevoius?(s({isOpen:!1,message:"",isPrevoius:!0}),setTimeout((function(){return s({isOpen:!0,message:e,isPrevoius:!0})}),850)):s({isOpen:!0,message:e,isPrevoius:!0})},clearToast:function(){s({isOpen:!1,message:"",isPrevoius:!1})}},children:t})},xe=function(e){var t=e.children,n=Object(a.useState)({show:!1,isRemoving:!1,id:null,type:null,title:""}),c=Object(d.a)(n,2),r=c[0],i=c[1];return Object(B.jsx)(te.a.Provider,{value:{showModal:function(e,t,n){i({show:!0,isRemoving:!1,id:e,type:t,title:n})},removeModalData:r,remove:function(){i((function(e){return Object(s.a)(Object(s.a)({},e),{},{show:!1,isRemoving:!0})}))},clear:function(){i({show:!1,isRemoving:!1,id:null,type:null,title:""})}},children:t})};r.a.render(Object(B.jsx)(ge,{children:Object(B.jsx)(xe,{children:Object(B.jsx)(Oe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},44:function(e,t,n){"use strict";var a=n(0),c=Object(a.createContext)({name:"",id:null,auth:!1,isInitialLoaded:!1});t.a=c},49:function(e,t,n){"use strict";t.a=function(){var e=JSON.parse(localStorage.getItem("accessToken"));return e?{Authorization:"Bearer "+e}:{}}},92:function(e,t,n){"use strict";var a=n(0),c=Object(a.createContext)("");t.a=c},93:function(e,t,n){"use strict";var a=n(0),c=Object(a.createContext)({show:!1,isRemoving:!1,id:null,type:null,title:""});t.a=c}},[[357,2,3]]]);
//# sourceMappingURL=main.f773371d.chunk.js.map