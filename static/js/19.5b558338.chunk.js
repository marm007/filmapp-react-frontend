(this.webpackJsonpfilmapp_frontened=this.webpackJsonpfilmapp_frontened||[]).push([[19],{518:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return p}));var s=t(7),a=t(139),n=t(46),c=t(1),i=t(541),o=t(553),l=t(140),d=t(2),u=function(e){var r=Object(s.g)(),t=Object(c.useReducer)(o.b,o.a),a=Object(n.a)(t,2),u=a[0],p=a[1],b=u.password,m=u.isSubmitted,f=u.isSending,j=u.isSuccess,h=u.isError,O=u.error;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),p({type:"submit"}),e.match.params.token&&b&&b.length>=6)return p({type:"send"}),Object(l.e)(e.match.params.token,{password:b}).then((function(e){p({type:"success"}),setTimeout((function(){r.push("".concat("/filmapp-react-frontend/")),setTimeout((function(){r.push("".concat("/filmapp-react-frontend/","login"))}),500)}),1500)})).catch((function(e){var r=null;e.response&&e.response.data&&e.response.data.errors&&(r=e.response.data.errors),p({type:"error",payload:r})}))},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(d.jsx)(i.a,{isInvalid:m&&b.length<6,type:"password",name:"password",value:b,onChange:function(e){return p({type:"field",fieldName:"password",payload:e.target.value})}}),Object(d.jsx)("div",{className:"invalid-feedback",children:0===b.length?"Password is required":"Password too short (min 6 chars)"})]}),Object(d.jsxs)("div",{className:"d-flex align-items-center mt-2 form-group",children:[Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset password"}),f&&Object(d.jsx)("div",{className:"spinner-grow ml-2"})]})]}),j&&Object(d.jsx)("div",{className:"alert alert-success mt-2",children:"Password has been reseated! Redirecting to login page."}),h&&Object(d.jsx)("div",{className:"alert alert-danger mt-2",children:O||"Error while resetting password."})]})};function p(){var e=Object(s.g)();return Object(d.jsx)(a.a,{id:"resetPasswordModal",title:"Reset",onClose:function(){e.push("".concat("/filmapp-react-frontend/"))},children:Object(d.jsx)(u,{})})}},541:function(e,r,t){"use strict";var s=t(1),a=t(2);r.a=function(e){var r=e.isInvalid,t=e.onChange,n=e.type,c=e.name,i=e.value,o=e.placeholder,l=void 0===o?"":o,d=Object(s.useRef)(null);return Object(s.useEffect)((function(){d.current&&(r?d.current.classList.add("is-invalid"):d.current.classList.remove("is-invalid"))}),[r]),"textarea"===n?Object(a.jsx)("textarea",{ref:d,className:"form-control",placeholder:l,type:n,name:c,value:i,onChange:t,rows:8}):Object(a.jsx)("input",{ref:d,className:"form-control",placeholder:l,type:n,name:c,value:i,onChange:t})}},553:function(e,r,t){"use strict";t.d(r,"a",(function(){return n})),t.d(r,"b",(function(){return c}));var s=t(137),a=t(15),n={email:"",nick:"",password:"",isSubmitted:!1,isSending:!1,isSuccess:!1,isError:!1,error:null},c=function(e,r){switch(r.type){case"field":return Object(a.a)(Object(a.a)({},e),{},Object(s.a)({isSubmitted:!1},r.fieldName,r.payload));case"submit":return Object(a.a)(Object(a.a)({},e),{},{isError:!1,error:null,isSubmitted:!0});case"send":return Object(a.a)(Object(a.a)({},e),{},{isSending:!0});case"success":return Object(a.a)(Object(a.a)({},e),{},{isError:!1,error:null,isSending:!1,isSuccess:!0});case"error":return Object(a.a)(Object(a.a)({},e),{},{isSending:!1,isError:!0,error:r.payload});default:return e}}}}]);
//# sourceMappingURL=19.5b558338.chunk.js.map