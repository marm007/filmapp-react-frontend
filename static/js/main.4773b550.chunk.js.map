{"version":3,"sources":["helpers/contexts/removeModal/removeModalContext.js","services/authService.js","components/auth/reducer.js","helpers/contexts/toast/toastContext.js","services/filmService.js","services/userService.js","components/blurredImage/index.js","helpers/components/changePrivacyButton.js","helpers/components/removeButton.js","images/image_not_found.png","helpers/components/film.js","helpers/index.js","helpers/axios.js","helpers/hooks/useWindowsWidth.js","helpers/components/playlist.js","components/add/reducers/playlistDropdownMenuReducer.js","components/add/playlistDropdownMenu.js","components/add/playlistAddButton.js","helpers/authHeader.js","components/navbar/reducer.js","components/navbar/index.js","images/header.png","helpers/components/removeModal.js","components/auth/resetPassword.js","components/auth/forgotPassword.js","helpers/components/privateRoute.js","components/profilePage/reducer.js","components/profilePage/index.js","helpers/components/withAxios.js","helpers/contexts/user/userProvider.js","App.js","serviceWorker.js","helpers/contexts/toast/toastProvider.js","helpers/contexts/removeModal/removeModalProvider.js","index.js","config/index.js","helpers/contexts/user/userContext.js","services/playlistService.js","helpers/hooks/useBottomScrollListener.js"],"names":["RemoveModalContext","createContext","show","isRemoving","id","type","title","login","data","axios","post","auth","username","email","password","register","form","refresh","headers","authHeader","forget","reset","token","authInitialState","nick","isSubmitted","isSending","isSuccess","isError","error","authReducer","state","action","fieldName","payload","ToastContext","all","params","get","index","search","view","patch","create","like","remove","delete","me","partialUpdate","body","BlurredImageComponent","props","useState","image","setImage","useEffect","aspectRatio","alt","className","src","ChangePrivacyButton","isPublic","isProfile","dispatchPrivacyUpdate","filmDispatch","isChanging","setIsChanging","a","playlistApi","is_public","then","res","undefined","catch","err","console","changePrivacy","privacyButton","style","marginLeft","borderRadius","width","height","onClick","e","stopPropagation","icon","RemoveButton","handleRemove","Film","film","handleRedirect","isRecommendations","concat","checkIfPlaylistButtonClick","target","xs","sm","img","line","text","filmID","author_name","views","tagName","parentNode","animVal","includes","displayCommentDate","comment","date","Date","parse","createdAt","getDate","slice","getMonth","getFullYear","getHours","getMinutes","parseSearchDate","today","time","Math","abs","floor","UTC","instance","baseURL","process","useWindowsWidth","isScreenSmall","setIsScreenSmall","checkScreenSize","window","innerWidth","addEventListener","removeEventListener","Playlist","playlist","colWidth","setStyle","film_id","md","lg","margin","display","justifyContent","alignItems","playlistDropdownMenuInitialState","playlists","isLoading","isAllFetched","isCreating","isAdding","playlistToUpgrade","playlistDropdownMenuReducer","playlistButtonMaxFetchCount","map","contains","PlaylistDropdownMenu","handlePlaylistClose","isPreview","useRipple","background","addRipple","ripples","createToast","useContext","useReducer","dispatch","handleOnPlaylistDropdownMenuBottom","useCallback","scrollRef","useBottomScrollListener","userApi","skip","length","limit","result","forEach","films","indexOf","getMyPlaylists","films_id","errorMessage","response","errors","creatPlaylist","is_remove_films","message","addToPlaylist","Dropdown","Menu","Row","Col","setTimeout","Divider","ref","maxHeight","overflowY","minHeight","Form","Check","FormCheck","Input","onChange","handleAddToPlaylist","checked","Label","Spinner","animation","ItemText","FormControl","isInvalid","value","placeholder","Feedback","Select","Group","Button","disabled","PlaylistAddButton","user","UserContext","isOpen","setIsOpen","onToggle","event","metadata","Toggle","variant","bsPrefix","color","verticalAlign","opacity","faEllipsisV","JSON","localStorage","getItem","initialSearchState","options","isSearching","selected","searchReducer","NavbarComponent","history","useHistory","location","useLocation","onSmallScreen","logout","isExpanded","setIsExpanded","handleSearchOnBottom","typeaheadRef","useRef","anchorEl","setAnchorEl","document","handleKeyDown","filmApi","getAllSearchedFilms","keyCode","charCode","log","handleSearchSubmit","preventDefault","getElementById","current","clear","push","pathname","handleSearch","query","Navbar","expanded","expand","bg","onSelect","eventKey","handleSelect","span","order","Brand","cursor","inline","useCache","filterBy","open","labelKey","minLength","onSearch","onBlur","onFocus","onKeyDown","onMenuToggle","onInputChange","renderMenu","results","menuProps","option","position","marginRight","role","href","faSearch","Collapse","Nav","activeKey","Link","Avatar","currentTarget","name","toUpperCase","charAt","handleLogin","keepMounted","Boolean","onClose","RemoveModal","removeModalData","handleClose","Modal","onHide","centered","Header","Title","Body","Footer","ResetPassword","setShow","authApi","match","sendData","modalClose","size","closeButton","onSubmit","htmlFor","Control","maxLength","Alert","ForgotPassword","submitData","goBack","PrivateRoute","Component","component","rest","render","to","from","initialProfileState","toRemove","filmsCount","playlistsCount","profileReducer","isInitialLoaded","pageMaxFetchCount","Set","filter","resource","isPlaylist","Profile","clearUser","showModal","handleProfileOnBottom","triggerOnNoScroll","replace","Promise","allSettled","skipFilms","skipPlaylists","pageInitialMaxFetchCount","status","image_not_found","fetchInitialData","fetchData","record","handleRedirectPlaylist","WithAxios","children","useMemo","interceptors","use","isAuth","originalRequest","config","_retry","url","reject","accessToken","setItem","stringify","UserProvider","setUser","scrollTo","decoded","jwt_decode","getMe","Provider","refreshToken","removeItem","updateUser","reload","library","add","faPlay","faSortDown","faSortUp","faTrashAlt","faTimes","faGlobeEurope","faLock","pathName","HomeComponent","lazy","FilmComponent","LoginComponent","RegisterComponent","SearchComponent","PlaylistsPage","AddFilmComponent","NotFoundComponent","SettingsComponent","App","toast","clearToast","Toast","autohide","fallback","exact","path","hostname","ToastProvider","isPrevoius","setToast","RemoveModalProvider","setRemoveModalData","prevState","ReactDOM","navigator","serviceWorker","ready","registration","unregister","commentsMaxFetchCount","recommendationsMaxFetchCount","createCallback","debounce","handleOnScroll","lodashDebounce","onBottom","offset","debounceOptions","leading","debouncedOnBottom","containerRef","scrollNode","scrollContainerBottomPosition","round","scrollTop","clientHeight","scrollHeight","scrollingElement","documentElement","innerHeight","node"],"mappings":"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","file":"static/js/main.4773b550.chunk.js","sourcesContent":["import { createContext } from 'react'\nconst RemoveModalContext = createContext({ show: false, isRemoving: false, id: null, type: null, title: '' })\nexport default RemoveModalContext","import authHeader from '../helpers/authHeader'\nimport axios from '../helpers/axios'\n\nexport const login = (data) => axios.post('auth', {}, {\n    auth: {\n        username: data.email,\n        password: data.password\n    }\n})\nexport const register = (form) => axios.post('users', form)\n\nexport const refresh = (data) => axios.post('auth/refresh', data, {headers: authHeader()})\nexport const forget = (form) => axios.post('auth/password/forgot', form)\nexport const reset = (token, form) => axios.post(`auth/password/reset/${token}`, form)","\nexport const authInitialState = {\n    email: '',\n    nick: '',\n    password: '',\n    isSubmitted: false,\n    isSending: false,\n    isSuccess: false,\n    isError: false,\n    error: null\n}\n\nexport const authReducer = (state, action) => {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                isSubmitted: false,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'submit': {\n            return {\n                ...state,\n                isError: false,\n                error: null,\n                isSubmitted: true\n            }\n        }\n        case 'send': {\n            return {\n                ...state,\n                isSending: true\n            }\n        }\n        case 'success': {\n            return {\n\n                ...state,\n                isError: false,\n                error: null,\n                isSending: false,\n                isSuccess: true\n            }\n        }\n        case 'error': {\n            return {\n                ...state,\n                isSending: false,\n                isError: true,\n                error: action.payload\n            }\n        }\n        default: return state\n    }\n}","import { createContext } from \"react\";\nconst ToastContext = createContext('')\nexport default ToastContext","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const all = (params) => axios.get('films/', {params})\nexport const index = (id) => axios.get(`films/${id}`)\nexport const search = (params) => axios.get('films/search', {params})\n\nexport const view = (id) => axios.patch(`films/${id}/view`)\n\nexport const video = (id) => axios.get(`films/${id}/video`)\nexport const thumbnail = (id, params) => axios.get(`films/${id}/thumbnail`, {params})\n\nexport const create = (form) => axios.post(`films`, form, {headers: authHeader()})\n\nexport const update = (id, form) => axios.put(`films/${id}`, form, {headers: authHeader()})\nexport const partialUpdate = (id, form) => axios.patch(`films/${id}`, form, {headers: authHeader()})\n\nexport const like = (id, form) => axios.patch(`films/${id}/action`, form, {headers: authHeader()})\n\nexport const remove = (id) => axios.delete(`films/${id}`, { headers: authHeader() })\n\n\n\n","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const me = (params) => axios.get('users/me', { params, headers: authHeader() })\nexport const partialUpdate = (body) => axios.patch('users', body, { headers: authHeader() })\n\nexport const userService = {\n    login,\n    logout,\n    register\n};\n\nfunction login(username, password) {\n\n    let loginHeaderMy = null\n\n    const requestOptions = {\n        method: 'POST',\n        headers: loginHeaderMy\n\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/auth`, requestOptions)\n        .then(handleResponse)\n        .then(user => {\n            localStorage.setItem('user', JSON.stringify(user));\n            return user;\n        })\n}\n\nfunction logout() {\n    localStorage.removeItem('user');\n}\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n    return fetch(`${process.env.REACT_APP_API_URL}/users/`, requestOptions)\n        .then(handleResponse);\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                logout();\n            }\n            const error = (data && data.errors) || response.statusText;\n            return Promise.reject(error);\n        }\n        return data;\n    })\n}\n\n","import React, { useState, useEffect } from 'react';\nimport { Ratio } from 'react-bootstrap'\n\nfunction BlurredImageComponent(props) {\n\n    const [image, setImage] = useState(\"data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\")\n\n    useEffect(() => {\n        setImage(props.image);\n    }, [props.image])\n\n\n    return (\n        <Ratio aspectRatio=\"16x9\">\n            <img\n                alt=\"\"\n                className=\"embed-responsive-item play-image\"\n                src={image} />\n        </Ratio>);\n}\n\nexport default BlurredImageComponent;","import { Col } from \"react-bootstrap\"\nimport { ButtonBase } from \"@material-ui/core\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { useEffect, useState } from \"react\"\nimport * as playlistApi from '../../services/playlistService'\n\nconst ChangePrivacyButton = ({ isPublic, id, isProfile, dispatchPrivacyUpdate, filmDispatch }) => {\n\n    const [isChanging, setIsChanging] = useState(false)\n\n\n    useEffect(() => {\n        async function changePrivacy() {\n            await playlistApi.partialUpdate(id, { is_public: !isPublic })\n                .then(res => {\n                    setIsChanging(false)\n\n                    dispatchPrivacyUpdate({\n                        type: 'change-playlist-privacy-success',\n                        payload: res.data\n                    })\n\n                    if (filmDispatch !== undefined) {\n                        filmDispatch({\n                            type: 'field',\n                            fieldName: 'reloadPlaylist',\n                            payload: true\n                        })\n                    }\n                })\n                .catch(err => {\n                    console.error(err)\n                    setIsChanging(false)\n                })\n        }\n        if (isChanging) changePrivacy()\n    }, [dispatchPrivacyUpdate, isChanging, isPublic, id, filmDispatch])\n\n    const handleChangePrivacy = (e) => {\n        e.stopPropagation()\n        if (!isChanging) setIsChanging(true)\n    }\n\n    const privacyButton = (\n        <ButtonBase\n            style={{ marginLeft: 'auto', borderRadius: 20 + \"px\", width: 24 + \"px\", height: 24 + \"px\" }}\n            className=\"m-button\"\n            onClick={handleChangePrivacy}>\n            <FontAwesomeIcon icon={isPublic ? \"globe-europe\" : \"lock\"} />\n        </ButtonBase>\n    )\n\n    return isProfile ?\n        (\n            <Col className=\"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0\"\n            >\n                <Col\n                    className=\"remove-holder p-0 m-0 flex-grow-0\"\n                    style={{ height: '24px', width: '24' }}>\n                    {privacyButton}\n                </Col>\n            </Col>\n        ) :\n        privacyButton\n}\n\nexport default ChangePrivacyButton","import { Col } from \"react-bootstrap\"\nimport { ButtonBase } from \"@material-ui/core\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\n\nconst RemoveButton = ({ handleRemove }) => {\n    return (\n        <Col\n            className=\"text-center justify-content-center d-flex align-items-center p-0 flex-grow-0\">\n            <Col\n                className=\"remove-holder p-0 m-0 flex-grow-0\"\n                style={{ height: '24px', width: '24px' }}>\n                <ButtonBase\n                    style={{ marginLeft: 'auto', borderRadius: 20 + \"px\", width: 24 + \"px\", height: 24 + \"px\" }}\n                    className=\"m-button \"\n                    onClick={handleRemove}>\n                    <FontAwesomeIcon icon=\"trash-alt\" />\n                </ButtonBase>\n            </Col>\n        </Col>\n    )\n}\n\nexport default RemoveButton","export default __webpack_public_path__ + \"static/media/image_not_found.c4ba1e76.png\";","import React from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport TextTruncate from \"react-text-truncate\";\n\nimport BlurredImageComponent from \"../../components/blurredImage\";\nimport PlaylistAddButtonComponent from \"../../components/add/playlistAddButton\";\n\nimport { checkIfPlaylistButtonClick } from '../index'\nimport RemoveButton from './removeButton';\nimport '../../components/filmPage/film.css'\n\nconst Film = ({ film, index, handleRedirect, handleRemove, isProfile, isRecommendations }) => {\n\n    const recommendationsClass = \"row mx-0 mb-4\"\n    const normalClass = \"col mb-5 col-12 col-sm-6 col-md-3 col-lg-2\"\n\n    return (\n        <div className={isRecommendations ? recommendationsClass : normalClass}>\n            <div className={(isRecommendations ? \"row p-0 m-0\" : \"col\").concat(\" play-outer-container remove-container\")}\n                onClick={(e) => {\n                    const isPlaylistButton = checkIfPlaylistButtonClick(e.target)\n                    if (!isPlaylistButton) handleRedirect(film.id)\n                }}>\n                <Col xs={isRecommendations ? 6 : 12} sm={isRecommendations ? 6 : 12}\n                    className=\"m-0 p-0\">\n                    <div\n                        className=\"embed-responsive embed-responsive-16by9 z-depth-1-half play-container\">\n                        <BlurredImageComponent\n                            image={film.img} />\n                        <FontAwesomeIcon className=\"play-middle\" icon=\"play\" />\n                    </div>\n                </Col>\n                <Col xs={isRecommendations ? 6 : 12} sm={isRecommendations ? 6 : 12}\n                    className={isRecommendations ? \"m-0\" : \"m-0 p-0\"}>\n                    <Row className=\"m-0 mt-1\">\n                        <Col className=\"film-preview-playlist-title-width p-0\">\n                            <TextTruncate line={1} text={film.title}\n                                className=\"mb-1 mt-1 title \" />\n                        </Col>\n\n                        <Col className=\"p-0 d-flex justify-content-end\">\n                            {\n                                isProfile ?\n                                    <RemoveButton handleRemove={handleRemove} /> :\n                                    <PlaylistAddButtonComponent\n                                        index={index}\n                                        filmID={film.id} />\n                            }\n                        </Col>\n                    </Row>\n                    <p className=\"mb-0 author-nick-color\">\n                        <small>{film.author_name}</small>\n                    </p>\n                    <p className=\"mb-0 film-views\">\n                        <small>{film.views} views</small>\n                    </p>\n                </Col>\n            </div>\n        </div>\n    )\n}\n\nexport default Film","export const checkIfPlaylistButtonClick = (target) => {\n    if ((target.tagName === 'path' && target.parentNode.className.animVal && target.parentNode.className.animVal.includes('playlist-add-icon')) ||\n        (target.tagName === 'svg' && target.className.animVal && target.className.animVal.includes('playlist-add-icon')) ||\n        (target.className && typeof target.className === 'string' && target.className.includes('playlist-add-icon-holder')))\n        return true\n    return false\n}\n\nexport const displayCommentDate = (comment) => {\n    let date = new Date(Date.parse(comment.createdAt));\n    let time = (('0' + date.getDate()).slice(-2) + '-' + ('0' + (date.getMonth() + 1)).slice(-2) + '-'\n        + ('0' + date.getFullYear()).slice(-2)\n        + ' o ' + ('0' + date.getHours()).slice(-2) + ':' + ('0' + date.getMinutes()).slice(-2))\n    return time;\n};\n\nexport const parseSearchDate = (film) => {\n\n    let date = new Date(Date.parse(film.createdAt));\n    let today = new Date();\n\n\n    let time = Math.abs(Math.floor((\n        Date.UTC(\n            date.getFullYear(),\n            date.getMonth(),\n            date.getDate(),\n            date.getHours(),\n            date.getMinutes()) -\n        Date.UTC(\n            today.getFullYear(),\n            today.getMonth(),\n            today.getDate(),\n            today.getHours(),\n            today.getMinutes()))\n        / (1000 * 60)));\n\n    if (time / 60 >= 1) {\n        time /= 60;\n\n        if (time / 24 >= 1) {\n\n            time /= 24;\n\n            if (time / 30 >= 1) {\n\n                time /= 30;\n\n                if (time / 12 >= 1) {\n\n                    time = time / 12;\n                    time = Math.floor(time) + ' years ';\n\n                } else {\n                    time = Math.floor(time) + ' months ';\n                }\n\n            } else {\n                time = Math.floor(time) + ' days ';\n            }\n\n        } else {\n            time = Math.floor(time) + ' hours ';\n        }\n    } else {\n        time = Math.floor(time) + ' minutes ';\n    }\n\n    time = time + 'ago';\n\n    return time;\n};\n","import axios from 'axios'\nconst instance = axios.create({\n    baseURL: process.env.REACT_APP_API_URL\n})\nexport default instance","import { useState, useEffect } from \"react\";\n\nconst useWindowsWidth = () => {\n  const [isScreenSmall, setIsScreenSmall] = useState(false);\n\n  let checkScreenSize = () => {\n    setIsScreenSmall(window.innerWidth < 600);\n  };\n  useEffect(() => {\n    checkScreenSize();\n    window.addEventListener(\"resize\", checkScreenSize);\n\n    return () => window.removeEventListener(\"resize\", checkScreenSize);\n  }, []);\n\n  return isScreenSmall;\n};\n\nexport default useWindowsWidth;\n","import React, { useEffect, useState } from 'react';\nimport { Col, Row } from 'react-bootstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport TextTruncate from \"react-text-truncate\";\nimport BlurredImageComponent from \"../../components/blurredImage\";\nimport RemoveButton from './removeButton';\nimport ChangePrivacyButton from './changePrivacyButton';\n\nconst Playlist = ({ playlist, handleRedirect, handleRemove, isProfile, dispatchPrivacyUpdate }) => {\n\n    const colWidth = isProfile ? 8 : 10\n\n    const [style, setStyle] = useState(\"mb-5 play-outer-container remove-container\")\n\n    useEffect(() => {\n        if (!playlist.film_id) setStyle(\"mb-5 play-cursor-default remove-container\")\n    }, [playlist.film_id])\n\n\n    return (\n        <Col xs={12} sm={6} md={3} lg={2}\n            key={playlist.id}>\n            <Col className={style} onClick={() => handleRedirect(playlist.id, playlist.film_id)}>\n                <div className=\"embed-responsive embed-responsive-16by9 z-depth-1-half play-container\">\n                    <BlurredImageComponent\n                        image={playlist.img} />\n\n                    <Row style={{ width: '100%', margin: 0 }} className=\"play-middle\">\n                        <Col xs={5} sm={5} style={{ display: 'flex', justifyContent: 'flex-end', alignItems: 'center' }}>\n                            <FontAwesomeIcon icon=\"play\" />\n                        </Col>\n                        <Col xs={7} sm={7} style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center' }}>\n                            <small className=\"fw-bold\" >Play all</small>\n                        </Col>\n                    </Row>\n                </div>\n\n                <Row className=\"m-0\">\n                    <Col xs={colWidth} sm={colWidth} className=\"p-0\">\n                        <TextTruncate line={1} text={playlist.title}\n                            className=\"mb-1 mt-1 title \" />\n                    </Col>\n\n\n                    {\n                        isProfile && <Col xs={4} sm={4} className=\"p-0 d-flex justify-content-end\">\n                            <ChangePrivacyButton\n                                id={playlist.id}\n                                isPublic={playlist.is_public}\n                                isProfile={true}\n                                dispatchPrivacyUpdate={dispatchPrivacyUpdate} />\n                            <RemoveButton handleRemove={handleRemove} />\n                        </Col>\n                    }\n                </Row>\n                <p className=\"mb-0 author-nick-color\">\n                    <small>{playlist.author_name}</small>\n                </p>\n            </Col>\n        </Col>\n\n    )\n}\n\nexport default Playlist","import { playlistButtonMaxFetchCount } from \"../../../config\"\n\nexport const playlistDropdownMenuInitialState = {\n    playlists: [],\n    isLoading: true,\n    isAllFetched: false,\n    isCreating: false,\n    isAdding: false,\n    playlistToUpgrade: null,\n    title: '',\n    isPublic: false,\n    error: '',\n}\n\nexport function playlistDropdownMenuReducer(state, action) {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                error: '',\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'load': {\n            return {\n                ...state,\n                isLoading: true,\n                isAllFetched: false,\n            }\n        }\n        case 'load-success': {\n            return {\n                ...state,\n                playlists: [...state.playlists, ...action.payload],\n                isLoading: false,\n                isAllFetched: action.payload < playlistButtonMaxFetchCount,\n                error: '',\n            }\n        }\n        case 'create': {\n            return {\n                ...state,\n                isLoading: false,\n                isCreating: true\n            }\n        }\n        case 'create-success': {\n            return {\n                ...state,\n                isLoading: false,\n                isCreating: false\n            }\n        }\n        case 'add': {\n            return {\n                ...state,\n                isLoading: false,\n                isAdding: true,\n                playlistToUpgrade: action.payload\n            }\n        }\n        case 'add-update-playlist': {\n            return {\n                ...state,\n                playlists: state.playlists.map(playlist => {\n                    if (playlist.id === state.playlistToUpgrade.id) return { ...playlist, contains: !playlist.contains }\n                    else return playlist\n                }),\n                playlistToUpgrade: null\n            }\n        }\n        case 'add-success': {\n            return {\n                ...state,\n                isAdding: false\n            }\n        }\n        case 'change-playlist-privacy-success': {\n            return {\n                ...state,\n                playlists: state.playlists.map(playlist => {\n                    if (playlist.id === action.payload.id) return { ...playlist, is_public: action.payload.is_public }\n                    return playlist\n                })\n            }\n        }\n        case 'error':\n            return {\n                ...state,\n                isLoading: false,\n                isAllFetched: false,\n                isCreating: false,\n                error: action.payload,\n                title: ''\n            }\n        default:\n            return state\n\n    }\n}\n","import React, { useCallback, useEffect, useContext, useReducer } from 'react';\nimport { Button, Col, Dropdown, Form, FormCheck, FormControl, Row, Spinner } from \"react-bootstrap\";\n\nimport * as userApi from '../../services/userService'\nimport * as playlistApi from '../../services/playlistService'\n\nimport ToastContext from '../../helpers/contexts/toast/toastContext';\nimport useBottomScrollListener from '../../helpers/hooks/useBottomScrollListener';\nimport { playlistDropdownMenuReducer, playlistDropdownMenuInitialState } from './reducers/playlistDropdownMenuReducer'\nimport ChangePrivacyButton from '../../helpers/components/changePrivacyButton';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport useRipple from \"useripple\"\nimport { playlistButtonMaxFetchCount } from '../../config';\n\nfunction PlaylistDropdownMenu({ filmID, handlePlaylistClose, isPreview, filmDispatch }) {\n\n    const [addRipple, ripples] = useRipple({ background: \"black\" })\n\n    const { createToast } = useContext(ToastContext);\n    const [state, dispatch] = useReducer(playlistDropdownMenuReducer, playlistDropdownMenuInitialState);\n\n    const { playlists, title, isPublic, isLoading, isAllFetched, isCreating, isAdding, playlistToUpgrade, error } = state\n\n    const handleOnPlaylistDropdownMenuBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && !isCreating && !isAdding) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isLoading, isAllFetched, isCreating, isAdding])\n\n    const scrollRef = useBottomScrollListener(handleOnPlaylistDropdownMenuBottom);\n\n    useEffect(() => {\n        async function getMyPlaylists() {\n            await userApi.me({ playlists: true, skip: playlists.length, limit: playlistButtonMaxFetchCount })\n                .then(res => {\n\n                    let result = res.data.playlists\n\n                    result.forEach(playlist => {\n                        playlist.contains = playlist.films.indexOf(filmID) > -1\n                    });\n\n                    dispatch({\n                        type: 'load-success',\n                        payload: result\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isLoading) getMyPlaylists()\n\n    }, [filmID, playlists, isLoading])\n\n    useEffect(() => {\n\n        async function creatPlaylist() {\n            const body = { title: title, is_public: isPublic, films_id: [filmID] };\n\n            await playlistApi.create(body)\n                .then(res => {\n                    dispatch({\n                        type: 'create-success'\n                    })\n                    createToast(`Created playlist ${title}`)\n                    handlePlaylistClose()\n\n                })\n                .catch(err => {\n                    console.error(err)\n                    let errorMessage = null\n\n                    if (err.response && err.response.data && err.response.data.error) {\n                        errorMessage = err.response.data.error\n                    } else if (err.response && err.response.data && err.response.data.errors) {\n                        errorMessage = err.response.data.errors[0]\n                    }\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage === \"Path `title` is required.\" ? 'Playlist title is required' : errorMessage\n                    })\n                })\n        }\n\n        if (isCreating) creatPlaylist()\n\n    }, [isCreating, title, isPublic, createToast, handlePlaylistClose, filmID,])\n\n    useEffect(() => {\n        async function addToPlaylist() {\n\n            let body = { films_id: [filmID] };\n\n            body = playlistToUpgrade.contains ? { ...body, is_remove_films: true } : { ...body, is_remove_films: false }\n\n            const message = playlistToUpgrade.contains ? `Deleted from playlist ${playlistToUpgrade.title}` : `Added to playlist ${playlistToUpgrade.title}`\n\n            dispatch({\n                type: 'add-update-playlist',\n                playlist: playlistToUpgrade\n            })\n\n            await playlistApi.partialUpdate(playlistToUpgrade.id, body)\n                .then(res => {\n                    dispatch({\n                        type: 'add-success'\n                    })\n\n                    if (isPreview) {\n                        filmDispatch({\n                            type: 'field',\n                            fieldName: 'reloadPlaylist',\n                            payload: true\n                        })\n                    }\n                    createToast(message)\n                })\n                .catch(err => console.error(err))\n        }\n        if (isAdding && playlistToUpgrade) addToPlaylist()\n    }, [isAdding, playlistToUpgrade, createToast, filmDispatch, filmID, isPreview])\n\n    const handleAddToPlaylist = (playlist) => {\n        dispatch({\n            type: 'add',\n            payload: playlist\n        })\n    };\n\n    const handleCreatePlaylist = (e) => {\n        e.stopPropagation()\n        dispatch({\n            type: 'create'\n        })\n    };\n\n    return (\n\n        <Dropdown.Menu\n            onClick={e => e.stopPropagation()}\n            style={{ width: 240 + \"px\" }}>\n            <Row className=\"m-0 m-button playlist-add-button-ripple\" >\n                <Col className=\"playlist-add-exit-text-width\">Save to...</Col>\n                <Col xs={2} sm={2}\n                    onClick={(e) => {\n                        addRipple(e)\n                        setTimeout(handlePlaylistClose, 150)\n                    }}\n                    style={{ borderRadius: 20 + \"px\", width: 24 + \"px\", height: 24 + \"px\" }}\n                    className=\"playlist-add-icon-holder p-0 playlist-add-button-ripple d-flex align-items-center text-center justify-content-center\">\n                    <FontAwesomeIcon icon=\"times\" />\n                    {ripples}\n                </Col>\n            </Row>\n            <Dropdown.Divider />\n            <div\n                ref={scrollRef}\n                style={{\n                    maxHeight: 100 + 'px', overflowY: 'scroll', minHeight: 3 + 'rem'\n                }}>\n\n                {\n                    playlists.map((playlist, index) => {\n                        return (<Row className=\"m-0 playlist-form-group\" key={playlist.id} >\n                            <Col xs={10} sm={10} className=\"p-0\">\n                                <Form.Check id={playlist.id} className=\"form-check\">\n                                    <FormCheck.Input type=\"checkbox\"\n                                        onChange={() => handleAddToPlaylist(playlist)}\n                                        checked={playlist.contains} />\n                                    <FormCheck.Label>\n                                        <p className=\"playlist-check-label\">\n                                            {playlist.title}\n                                        </p>\n                                    </FormCheck.Label>\n                                </Form.Check>\n\n                            </Col>\n                            <ChangePrivacyButton\n                                id={playlist.id}\n                                isPublic={playlist.is_public}\n                                isProfile={false}\n                                filmDispatch={filmDispatch}\n                                dispatchPrivacyUpdate={dispatch} />\n\n                        </Row>)\n                    })\n                }\n\n                {\n                    !isAllFetched && <div style={{ height: 32 + 'px' }} className=\"d-flex justify-content-center\">\n                        {isLoading && <Spinner animation=\"border\" />}\n                    </div>\n                }\n            </div>\n            <Dropdown.Divider />\n            <Dropdown.ItemText>Create a new playlist</Dropdown.ItemText>\n            <Row className=\"m-0 p-0\">\n                <Form>\n                    <FormControl\n                        isInvalid={error !== ''}\n                        onChange={(e) => dispatch({ type: 'field', fieldName: 'title', payload: e.target.value })}\n                        className=\"mb-2 mt-2\"\n                        placeholder=\"Enter playlist title...\" />\n\n                    <FormControl.Feedback type=\"invalid\"\n                        className=\"mb-2 mt-2\">\n                        {error}\n                    </FormControl.Feedback>\n                    <Form.Select aria-label=\"Privacy\" className=\"mb-2 mt-2\"\n                        onChange={(e) => dispatch({ type: 'field', fieldName: 'isPublic', payload: e.target.value === 'public' })}>\n                        <option value=\"private\">Private</option>\n                        <option value=\"public\">Public</option>\n                    </Form.Select>\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button disabled={isCreating}\n                            onClick={isCreating ? null : handleCreatePlaylist}>Create</Button>\n\n                        {\n                            isCreating &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n\n                </Form>\n\n            </Row>\n\n        </Dropdown.Menu>\n\n\n    )\n}\n\nexport default PlaylistDropdownMenu\n","import React, { useState, useContext } from 'react';\nimport { Col, Dropdown } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nimport PlaylistDropdownMenu from './playlistDropdownMenu'\nimport UserContext from '../../helpers/contexts/user/userContext';\nimport useRipple from \"useripple\"\n\nimport { faEllipsisV } from '@fortawesome/free-solid-svg-icons'\n\nimport './playlistAdd.css'\n\nfunction PlaylistAddButton(props) {\n\n    const { user } = useContext(UserContext);\n\n    const [addRipple, ripples] = useRipple({ background: \"black\" })\n\n    const [isOpen, setIsOpen] = useState(false)\n\n    const handlePlaylistClose = () => {\n        setIsOpen(false)\n    }\n\n    const allClass = \"\"\n    const previewClass = \"col-sm-2 col-2 p-0\"\n\n    return (\n\n        user.auth ?\n            <Dropdown show={isOpen}\n                onToggle={(isOpen, event, metadata) => {\n                    setIsOpen(isOpen)\n                }} className={props.isPreview ? previewClass : allClass} >\n                <Dropdown.Toggle variant=\"link\" bsPrefix=\"p-0\"\n                    className=\"m-button playlist-add-button-ripple\"\n                    style={{ color: \"black\" }}>\n                    <div style={{ display: 'inline-block', width: '100%', height: '100%' }}>\n                        <Col\n                            onClick={addRipple}\n                            style={{ verticalAlign: 'top', borderRadius: 20 + \"px\", width: 24 + \"px\", height: 24 + \"px\" }}\n                            className=\"playlist-add-icon-holder p-0 playlist-add-button-ripple\">\n                            <FontAwesomeIcon style={{ opacity: (isOpen ? 1 : \"\") }}\n                                className=\"playlist-add-icon\" icon={faEllipsisV} />\n                            {ripples}\n                        </Col>\n                    </div>\n                </Dropdown.Toggle>\n                {isOpen && <PlaylistDropdownMenu\n                    isPreview={props.isPreview}\n                    filmDispatch={props.filmDispatch}\n                    isOpen={isOpen}\n                    filmID={props.filmID}\n                    handlePlaylistClose={handlePlaylistClose} />}\n            </Dropdown>\n            :\n            null\n\n    )\n}\n\nexport default PlaylistAddButton\n","const authHeader = () => {\n\n    let token = JSON.parse(localStorage.getItem('accessToken'));\n\n    if(token){\n        return { 'Authorization' : 'Bearer ' + token};\n    } else{\n        return {};\n    }\n}\n\nexport default authHeader","export const initialSearchState = {\n    options: [],\n    isLoading: false,\n    isAllFetched: false,\n    isSearching: false,\n    isOpen: false,\n    selected: null,\n    title: ''\n}\n\nexport function searchReducer(state, action) {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                selected: null,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'pick-option': {\n            return {\n                ...state,\n                title: action.title,\n                selected: action.selected\n            }\n        }\n        case 'success-load': {\n            return {\n                ...state,\n                isLoading: false,\n                isSearching: false,\n                isAllFetched: action.payload.length < 10,\n                options: [...state.options, ...action.payload]\n            }\n        }\n        case 'success-search': {\n            return {\n                ...state,\n                isLoading: false,\n                isSearching: false,\n                isAllFetched: action.payload.length < 10,\n                options: action.payload\n            }\n        }\n        case 'clear': {\n            return initialSearchState\n        }\n        case 'load': {\n            return !state.isLoading && !state.isAllFetched ? {\n                ...state,\n                isLoading: true,\n                isAllFetched: false,\n                isSearching: false,\n            } : state\n        }\n        case 'search': {\n            return {\n                ...state,\n                options: [],\n                isSearching: true,\n                isLoading: false,\n                isAllFetched: false\n            }\n        }\n        default: return state\n    }\n}","/* eslint-disable jsx-a11y/role-has-required-aria-props */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect, useCallback, useContext, useReducer, useRef } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport Avatar from '@material-ui/core/Avatar';\n\nimport { Button, Col, Row, Form, Nav, Navbar, Spinner } from 'react-bootstrap';\n\nimport Menu from \"@material-ui/core/Menu/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\n\nimport headerIcon from '../../images/header.png';\nimport * as filmApi from '../../services/filmService'\n\nimport { AsyncTypeahead, Menu as AsyncMenu, MenuItem as AsyncMenuItem } from 'react-bootstrap-typeahead';\n\nimport UserContext from '../../helpers/contexts/user/userContext'\n\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\nimport './navbar.css';\nimport { initialSearchState, searchReducer } from './reducer';\n\nimport useBottomScrollListener from '../../helpers/hooks/useBottomScrollListener';\nimport useWindowsWidth from '../../helpers/hooks/useWindowsWidth';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\n\nfunction NavbarComponent(props) {\n\n    let history = useHistory();\n    let location = useLocation();\n\n    const onSmallScreen = useWindowsWidth();\n\n    const { user, logout } = useContext(UserContext);\n\n    const [state, dispatch] = useReducer(searchReducer, initialSearchState)\n\n    const [isExpanded, setIsExpanded] = useState(false)\n\n    const { options, title, isLoading, isAllFetched, isSearching, isOpen, selected } = state\n\n    const handleSearchOnBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && !isSearching && isOpen) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isLoading, isAllFetched, isSearching, isOpen])\n\n    useBottomScrollListener(handleSearchOnBottom, { id: 'typeahead-navbar' })\n\n    const typeaheadRef = useRef(null)\n\n    const [anchorEl, setAnchorEl] = useState(null)\n\n    const filterBy = () => true;\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", handleKeyDown);\n\n        return function cleanup() {\n            document.removeEventListener(\"keydown\", handleKeyDown);\n        }\n    })\n\n    useEffect(() => {\n        setIsExpanded(false)\n    }, [location])\n\n    useEffect(() => {\n        async function getAllSearchedFilms() {\n            await filmApi.search({ search: title, skip: options.length })\n                .then(({ data }) => {\n                    const options = data.map((film) => ({\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`\n                    }));\n\n                    dispatch({\n                        type: 'success-load',\n                        payload: options\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isLoading) getAllSearchedFilms()\n    }, [isLoading, title, options.length])\n\n    useEffect(() => {\n        async function getAllSearchedFilms() {\n            await filmApi.search({ search: title })\n                .then(({ data }) => {\n                    const options = data.map((film) => ({\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`\n                    }));\n                    dispatch({\n                        type: 'success-search',\n                        payload: options\n                    })\n                })\n                .catch(err => {\n                    console.error(err)\n                })\n        }\n\n        if (isSearching) getAllSearchedFilms()\n    }, [isSearching, title])\n\n    const handleKeyDown = (event) => {\n        if (event && event.target && event.target.className &&\n            event.target.className === \"rbt-input-main form-control rbt-input  focus\") {\n            let keyCode = event.keyCode || event.charCode;\n            console.log(keyCode)\n\n            switch (keyCode) {\n                case 13:\n                    handleSearchSubmit(event);\n                    break;\n                case 9:\n                    if (onSmallScreen)\n                        handleSearchSubmit(event);\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n\n    const handleSelect = (eventKey) => {\n\n        switch (eventKey) {\n            case 'add_film': {\n                history.push(`${process.env.REACT_APP_PATH_NAME}add`);\n                break;\n            }\n            case 'playlists':\n                history.push(`${process.env.REACT_APP_PATH_NAME}playlists`)\n                break;\n            default: break;\n        }\n    }\n\n    const handleSearchSubmit = (e) => {\n        e.preventDefault();\n\n        document.getElementById(\"search-form\").reset();\n        if (typeaheadRef) typeaheadRef.current.clear();\n\n        if (selected) {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}film/${selected.id}`,\n                search: '',\n                state: {}\n            });\n        }\n        else if (title === '') {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}search`,\n                search: `?title=${title}`,\n                state: {}\n            });\n        }\n        else if (options.length === 1) {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}film/${options[0].id}`,\n                search: '',\n                state: {}\n            });\n        } else {\n            history.push({\n                pathname: `${process.env.REACT_APP_PATH_NAME}search`,\n                search: `?title=${title}`,\n                state: { films: options }\n            });\n        }\n\n        dispatch({\n            type: 'clear'\n        })\n    }\n\n    const handleProfileMenuOpen = event => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleProfileMenuClose = () => {\n        setAnchorEl(null);\n    };\n\n    const handleLogoutClick = () => {\n        setAnchorEl(null);\n        logout()\n    };\n\n    const handleProfileClick = () => {\n        setAnchorEl(null);\n        history.push(`${process.env.REACT_APP_PATH_NAME}profile`)\n    };\n\n    const handleSettingsClick = () => {\n        setAnchorEl(null);\n        let pathname = location.pathname\n        if (pathname === process.env.REACT_APP_PATH_NAME) pathname = pathname.slice(0, -1)\n\n        history.push({\n            pathname: `${pathname}/settings`,\n            search: location.search,\n            state: location.state\n        });\n    }\n\n    const handleToggle = (expanded) => {\n        setIsExpanded(expanded)\n    }\n    const handleSearch = useCallback((query) => {\n        dispatch({\n            type: 'search',\n            payload: query\n        })\n    }, []);\n\n    const handleLogin = () => {\n        let pathname = location.pathname\n        if (pathname === process.env.REACT_APP_PATH_NAME) pathname = pathname.slice(0, -1)\n        history.push({\n            pathname: `${pathname}/login`,\n            search: location.search,\n            state: location.state\n        });\n    }\n\n    return (\n\n        <Navbar\n            expanded={isExpanded}\n            className=\"py-2 px-4\"\n            expand=\"md\" bg=\"light\" variant=\"light\"\n            onToggle={handleToggle}\n            onSelect={e => handleSelect(e)}>\n\n            <Col className=\"pb-2\"\n                xs={{ span: 5, order: 'first' }}\n                sm={{ span: 2, order: 'first' }}\n                md={{ span: 4, order: 'first' }}>\n                <Navbar.Brand style={{ cursor: 'pointer' }}\n                    className=\"d-flex align-items-center\"\n                    onClick={() => history.push(process.env.REACT_APP_PATH_NAME)}>\n                    <Navbar.Brand>\n                        {\n                            <img alt=\"\"\n                                src={headerIcon} width=\"30\"\n                                height=\"30\" />\n                        }\n                    </Navbar.Brand>\n                    {<p className=\"d-none d-md-inline m-0\">FilmApp</p>}\n                </Navbar.Brand>\n            </Col>\n\n            <Col className=\"text-right d-md-none m-button pb-2 \"\n                xs={{ span: 6, order: 2 }}\n                sm={{ span: 2, order: 'last' }}>\n                <Navbar.Toggle className=\"m-button\" aria-controls=\"responsive-navbar-nav\" />\n            </Col>\n\n            <Col xs={{ span: 12, order: 3 }}\n                sm={{ span: 8, order: 2 }}\n                md={{ span: 5, order: 2 }}>\n                <Form id=\"search-form\" inline=\"true\">\n                    <Row className=\"m-0\" style={{ width: 100 + '%' }}>\n                        <Col xs={12} sm={10} className=\"p-0\">\n                            <AsyncTypeahead\n                                ref={typeaheadRef}\n                                className=\"search-bar\"\n                                useCache={false}\n                                filterBy={filterBy}\n                                id=\"typeahead-navbar\"\n                                isLoading={true}\n                                open={isOpen}\n                                placeholder=\"Search\"\n                                labelKey=\"title\"\n                                minLength={1}\n                                options={options}\n                                onSearch={handleSearch}\n                                onBlur={(event) => dispatch({ type: 'field', fieldName: 'isOpen', payload: false })}\n                                onFocus={(event) => {\n                                    if (title !== '')\n                                        dispatch({ type: 'field', fieldName: 'isOpen', payload: true })\n                                }}\n                                onKeyDown={(event) => dispatch({ type: 'field', fieldName: 'isOpen', payload: true })}\n                                onMenuToggle={(isOpen) => dispatch({ type: 'field', fieldName: 'isOpen', payload: isOpen })}\n                                onInputChange={(text, event) => {\n                                    dispatch({\n                                        type: 'field',\n                                        fieldName: 'title',\n                                        payload: text\n                                    })\n                                    if (text === '')\n                                        dispatch({\n                                            type: 'field',\n                                            fieldName: 'options',\n                                            payload: []\n                                        })\n                                }}\n                                onChange={(selected) => {\n                                    const title = selected.length > 0 ? selected[0].title : '';\n                                    dispatch({\n                                        type: 'pick-option',\n                                        title: title,\n                                        selected: selected.length > 0 ? selected[0] : null\n                                    })\n                                }}\n                                renderMenu={(results, menuProps) => (\n                                    <AsyncMenu {...menuProps} className=\"pt-4 pb-4\">\n                                        {results.map((result, index) => (\n                                            <AsyncMenuItem key={result.id} option={result} position={index}>\n                                                <Row className=\"p-0 m-0 entry__inner\" onClick={(e) => {\n                                                    e.stopPropagation()\n                                                    e.preventDefault()\n                                                    dispatch({\n                                                        type: 'clear'\n                                                    })\n                                                    document.getElementById(\"search-form\").reset();\n                                                    if (typeaheadRef) typeaheadRef.current.clear();\n\n                                                    history.push({\n                                                        pathname: `${process.env.REACT_APP_PATH_NAME}film/${result.id}`,\n                                                        search: '',\n                                                        state: {}\n                                                    });\n\n                                                }}>\n                                                    <img\n                                                        className=\"p-0\"\n                                                        alt=\"\"\n                                                        src={result.img}\n                                                        style={{\n                                                            height: '24px',\n                                                            marginRight: '10px',\n                                                            width: '24px',\n                                                        }}\n                                                    />\n                                                    <span className=\"entry__text\">{result.title}</span>\n                                                </Row>\n                                            </AsyncMenuItem>\n                                        ))}\n\n\n\n                                        {!isLoading && !isSearching && results.length === 0 && <a role=\"option\" className=\"dropdown-item disabled\" href=\"#\">No matches found.</a>}\n                                        {isSearching && <a role=\"option\" className=\"dropdown-item disabled\" href=\"#\">Searching...</a>}\n                                        {\n                                            <div style={{ height: 8 + 'px' }} className=\"d-flex justify-content-center\">\n                                                {isLoading && !isAllFetched && <Spinner animation=\"border\" />}\n                                            </div>\n                                        }\n                                    </AsyncMenu>\n                                )}\n\n                            />\n                        </Col>\n                        <Col sm={2}>\n                            <Button onClick={handleSearchSubmit}\n                                className=\"d-none d-sm-inline\"\n                                variant=\"light\">\n                                <FontAwesomeIcon icon={faSearch} />\n                            </Button>\n                        </Col>\n                    </Row>\n                </Form>\n            </Col>\n\n\n            <Col xs={{ span: 12, order: 'last' }}\n                sm={{ span: 12, order: 'last' }}\n                md={{ span: 3, order: 'last' }}>\n\n                <Navbar.Collapse className=\"justify-content-end\" id=\"responsive-navbar-nav\">\n\n                    <Nav activeKey=\"\" className=\"d-block d-sm-block d-md-flex  align-items-center\">\n                        <Nav.Link className=\"px-2\" eventKey=\"playlists\">Playlists</Nav.Link>\n                        {user.auth && <Nav.Link className=\"px-2\" eventKey=\"add_film\">Add</Nav.Link>}\n\n                        {\n                            user.auth ?\n                                (\n                                    <Avatar onClick={handleProfileMenuOpen}\n                                        className=\"pe-2 ps-2 custom-avatar m-button\">\n                                        {user.name.toUpperCase().charAt(0)}\n                                    </Avatar>\n\n                                ) :\n                                (\n                                    <Nav.Link className=\"pe-2 ps-2\" eventKey=\"login \"\n                                        onClick={() => handleLogin()}>\n                                        Login\n                                    </Nav.Link>\n                                )\n                        }\n                    </Nav>\n\n                </Navbar.Collapse>\n\n            </Col>\n\n            <Menu\n                id=\"film-navbar-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleProfileMenuClose}\n            >\n                <MenuItem onClick={handleProfileClick}>Profile</MenuItem>\n                <MenuItem onClick={handleSettingsClick}>Settings</MenuItem>\n                <MenuItem onClick={handleLogoutClick}>Logout</MenuItem>\n            </Menu>\n\n        </Navbar>\n    )\n}\n\nexport default NavbarComponent","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAmeSURBVHic7Z17jF1VFYe/mZYytAIVGHnVhjeUSkNtFFtfAYSIxlA0UAiiNUCFEh9oaI2KNNEoPogoAhYUrCIoECCUV9IiikIChKeBohZloDK11j6oLdNOZ45/7I7c3tnr3PPY65y5s9eXrH/m3rPXfqzZ97efpwOjXZkAvAd4P/Be4GjgbcA64CngDuCXwNa6MmiEpRuYDVwBPAb0A0kL6wE+UEdmjfIcBJwDXAe8AAzSusF91g+cVm3Wjbx0AscA84GbgVcp1tiSvQFMqaw0RmbGAbfhfrdDNrjPHqioTIaH3YG9hM8WoN/4Ce4n5ODgJTO87At8DLgc+BOwDXgEGOP57pgdn1URBF8MXVDDcQBwOrAYeB5ZsH1ZeP4QYJPwTEhbGqzEETMGmArMw42zXyZ7A/TteNbH53KkU9ReB3YpXwVxMRaYAXwBuBX4D+Ua4Un8jdCBE2raQTCrfJWMbsYAHwW+g/v97iN8I3xN8D0JWK/gr9G+UaJuomEJuo3Qj+tVfJyn7PsPZSpmNDAFV8lLgM8K35mAE3OaDfE80CX4v1fR71bgLRnqaVTQKNhuBdawc2VsA2YKz04FNqPXEAnwLcH3AZTXGmn24fRqa1/GA+8DFuKGPFl+T3uAvYX0PpPh+TLWDxwn+D5b0e/35SpsL/YAPgQsApZRXLAtxalwH78omGZWWwHsJvi+Tcnn04K/Ec/bgU8CPyV9wqWIfUnwuRvwTEA/PrtC8L0PsFrB3yBuebnt+DR6jbANt7HCxxG4SRQt3wPABwXfpyr5PEPwVxvjcJMUC4AbkRXy7eg1xCu4/zofZyn6TYC/4xaNfNyk4G+x4KsyJvCmYFsGbGHnDEpCpRv4F+ErZMjuRdYDNyj6TYBrBL8TccEZ0tdLgi81mlfItrbIYFq3OLvFs2XtEsFvF7p6YBA4RfB9EmE1T4Ly8nDWFbI0S+sWby6QXlbrx/VOPrT1wCrgrYLv6wP7Ok/wk5vmFbKegJm8WvA5kfBbpxrtVWQ9cKai3wSngXxMAFYG9HOL4CcXC4GNgSug0QZxY30fJxO+W2y0+3D79XyE/m9sto8Lfo8PWObMOmAi8E7hM+1py4T0bvFnyr4XCn67cPvvtfyuwe3z9/HjQD5WCOkzEZgD/AR4FifI+oF3Cd8/R7EihuwGwfce5NuUkdf6cYcvfByObu93h+B3PPDXAOmf25zwJN48TeJ74AXqGZ8PmdQtnoDuT8Eq5JmzOcplniP4nQVsL5BeD05An+xL8N8ZEviBkKFudKYtG62KblGy5fg3dYIb6Wj5XQvsJ/j9botn+3EjsMXAp0gZ9k1j+ESMZAPIXaLWtGWjpXWLf1H2/VXBt7YeuFvwuyvwXMP3NuIm1RbhhPN44bmd6AT+nDNDK3FDEh+/VqyIIZO6xZkU6xaz2gBwouD7MHT1wFzB7zTcsvVRwuctOb1ghtKmLTXH5wnp3eLlyr5Xp/jW1AOrcII3OLcUzNAg8s4S7fF5grzHvblb1LDfIeuBawP5eG1HGRfiZiXHCf5KU2Zm6RVgTyFd7fF5guv6fBxL67WGsnap4HtX3NbvPGllFmsarM2Z2Wa7UUhXe3ye4H5zJwv+L1P2PYA8Q3kosKFFvnOLNS1CKOe6xucJ8CD+5duxwOPKvlcD+wtlb9RWL+HmV+bh1kyk5eZauJPyFdGLvLHyqgDpt7KLBN9TyD68LWoPIeuBmchT2COGiwlTEXWOzzfjpmV9XKLsuwf5p6AtmE64yqhrfJ4Aj+L/T+zEnYYJ4aNWsaZFJ+WF4JCVmbYMYdJOnoMpdvx6RIk1TULogCGrc3zeh7trx8dFGZ4f0WJNk88TtiHmCn6m47ZfawbBU8jHr+9v+N5/cXsTf4RT7NLunyiYRthG2IA8Pl8U2JfPLhN8T8ZdxDADN0w0dtBBtqXgPLYcfxe6C/lnyvLaZtw9e0YONDZ0zBd8TcHdXRfKT7NYk87aGSlkEUlF/hOl8flXSqQbrVjTZCo63bF0PVon8HCG502sVUQHelu68lyPVtkyqDGc36ITAH3AOwSfc4ErcadVDwxfJCMPF6ATAAn+69H2I/y8wIv4NcGFCmWSrnhZpuDLdy6jm2KXYmzBXT4x7PraIxUynuCWZY9ieMN8XcHXxZ6KgvBDz0Hcun8zh+D2CoT09YRQprILXUt8if4zcOYT3MGRZjqBfwT204d///67Fcp0v6/y0NmTeL7HTwflD4f0+goQ+tTtevyLKKcoVNRNvgKhsz3N9xKGcYQX0pvwn5A+IUDar/sq6/zABbjS54SwC1BD5ns9yu6EP87di3+94QyFMl0r1N9vAqTtDYDDAxfAp/73J7z4W0H94m+5gi+f+NuHMFfYegMAwp3v/6OQ/qUKFSWJv9AndgbwrzNoiL/HhTKF2uUkBkCWGbosFpP409jw4rvBo4NwW+xUA0ASfx9RqKhfCeWoUvyFvrhKU/xVEgAm/sqZpvirJAB8b8Yw8ZfdNMWfegCY+Ctn2uJPPQBM/JUzbfGnGgAm/so3irb4Uw0ASfzdpVAA300l7S7+pHsXQoo/1QCoW/zNV6iobwr11K7iTy0AqhR/0lswqxJ/hxJe/D0mlEnrfGPwAJDE38uBM96Hf2/gcQqVdJ9QRxrib9i9feiIP5UAGAni7+cKvmZ7/LS7+FMJgB8KaVUp/kK/f1cSfxqXQVUp/lQCwMRfOZvu8aMl/v4fANKBiuPJt//+DeAez98nI78WrSgr8b/1ahbhdxX/HndkrpFO3JU4IQ+jbMV/GeSB6L7rd7ti2oZhGIZhjGBCiUCjPdkuBcDDyFfCG6OHTdILkYxIsACIHAuAyLEAiBwLgMixAIgcC4DIsQCIHAuAyLEAiBwLgMixAIgcC4DIsQCIHAuAyLEAiBwLgMixAIgcC4DIsQCIHAuAyLEAiBwLgMixAIgcC4DIsQCIHAuAyLEAiBwLgMixAIgcC4DIsQCIHAuAyLEAiBwLgMixAIgcC4DIsQCIHCkAkkpzYdRFIgXA2kqzYdTFGikAeivNhlEXr0kB8LdKs2HUxUrpqtiDcG/5NEY3p6W99eJZYFpVOTEqZwvQnTYM/F5VOTFq4SpgS1oP0AE8AcyoJj9GhawHDgPWpfUACTAP11UYo4cEuBBYl/WBTwCD6L26zKxak16Fl8pcdN9fZ6Zvg8C3KTH9PwvoGQEFMctvG4CzhjdpfrqABbjfj7oLZdba+nCv9N3b15hQ/O2XXcCJwKm4uYJJwL7A2ILpGeVJcC+07gVeBJbi3ny+Me2h/wGmG+ECiz27wAAAAABJRU5ErkJggg==\"","import { useContext } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport RemoveModalContext from \"../contexts/removeModal/removeModalContext\";\n\nconst RemoveModal = (props) => {\n    const { removeModalData, remove, clear } = useContext(RemoveModalContext)\n\n    const handleRemove = () => remove()\n\n    const handleClose = () => clear();\n\n    return (\n        <>\n            <Modal show={removeModalData.show} onHide={handleClose} centered>\n                <Modal.Header>\n                    <Modal.Title>Delete {removeModalData.type}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>Do you really want to delete {removeModalData.type} <b>{removeModalData.title}</b>?\n                    <br />\n                    Action cannot be undone!\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Cancel\n                    </Button>\n                    <Button variant=\"primary\" onClick={handleRemove}>\n                        Delete\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n}\n\nexport default RemoveModal","import React, { useState, useReducer, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Alert, Button, Form, Modal, Spinner } from 'react-bootstrap';\nimport * as authApi from '../../services/authService'\nimport { authInitialState, authReducer } from './reducer';\n\nfunction ResetPassword(props) {\n\n    let history = useHistory()\n\n    const [state, dispatch] = useReducer(authReducer, authInitialState)\n\n    const { password, isSubmitted, isSending, isSuccess, isError, error } = state\n\n    const [show, setShow] = useState(true)\n\n    useEffect(() => {\n        async function sendData() {\n            await authApi.reset(props.match.params.token, { password: password })\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n\n                    setTimeout(function () {\n                        setShow(false);\n                        history.push(`${process.env.REACT_APP_PATH_NAME}`);\n                        setTimeout(function () {\n                            history.push(`${process.env.REACT_APP_PATH_NAME}login`);\n                        }, 500);\n                    }, 1500);\n\n                })\n                .catch(err => {\n                    let errorMessage = null;\n\n                    if (err.response && err.response.data && err.response.data.errors)\n                        errorMessage = err.response.data.errors;\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage\n                    })\n\n                })\n\n        }\n\n\n        if (isSending) sendData()\n\n    }, [isSending, history, password, props.match.params.token])\n\n    const handleSubmitPasswordChange = (e) => {\n        e.preventDefault();\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if (props.match.params.token && password && password.length >= 6) {\n            dispatch({ type: 'send' })\n        }\n    }\n\n    const modalClose = () => {\n        setShow(false)\n        history.push(`${process.env.REACT_APP_PATH_NAME}`);\n    };\n\n    return (\n\n        <Modal\n            onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n        >\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Reset\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={handleSubmitPasswordChange}>\n                    <Form.Group>\n                        <Form.Label htmlFor=\"password\">Password</Form.Label>\n                        <Form.Control isInvalid={isSubmitted && (password.length < 6)} type=\"password\"\n                            name=\"password\" value={password} maxLength=\"11\"\n                            onChange={e => dispatch({ type: 'field', fieldName: 'password', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type={\"invalid\"}>\n                            {\n                                password.length === 0 ? \"Password is required\" : \"Password too short (min 6 chars)\"\n                            }\n\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    {\n                        isSuccess &&\n                        <Alert variant=\"success\" className=\"mt-2\">\n                            Password has been reseated! Redirecting to login page.\n                        </Alert>\n                    }\n\n                    {\n                        isError &&\n                        <Alert variant=\"danger\" className=\"mt-2\">\n                            {error ? error : 'Error while resetting password.'}\n                        </Alert>\n                    }\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button type=\"submit\" className=\"btn-primary\">\n                            Reset password\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                            }\n                    </Form.Group>\n\n                </Form>\n\n            </Modal.Body>\n\n            <Modal.Footer>\n                <Button onClick={modalClose}>Close</Button>\n            </Modal.Footer>\n\n\n        </Modal>\n\n\n    );\n}\n\n\nexport default ResetPassword","import React, { useState, useReducer, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Alert, Button, Form, Modal, Spinner } from 'react-bootstrap';\nimport * as authApi from '../../services/authService'\nimport { authInitialState, authReducer } from './reducer';\n\nfunction ForgotPassword(props) {\n    let history = useHistory()\n\n    const [show, setShow] = useState(true)\n\n    const [state, dispatch] = useReducer(authReducer, authInitialState)\n\n    const { email, isSuccess, isSubmitted, isSending, isError, error } = state\n\n    useEffect(() => {\n        async function submitData() {\n\n            await authApi.forget({ email: email })\n                .then(res => {\n                    dispatch({\n                        type: 'success'\n                    })\n                })\n                .catch(err => {\n                    let errorMessage = null;\n\n                    if (err.response && err.response.data && err.response.data.errors)\n                        errorMessage = err.response.data.errors;\n\n                    dispatch({\n                        type: 'error',\n                        payload: errorMessage\n                    })\n\n                    console.error(err)\n                })\n        }\n        if (isSending) submitData()\n    }, [isSending, email])\n\n    const handleSubmitForgotRequest = (e) => {\n        e.preventDefault();\n\n        dispatch({\n            type: 'submit'\n        })\n\n        if (email) {\n            dispatch({\n                type: 'send'\n            })\n        }\n    };\n\n    const modalClose = () => {\n        setShow(false)\n        history.goBack();\n    };\n\n\n    return (\n\n        <Modal\n            onHide={modalClose}\n            show={show}\n            size=\"lg\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered>\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Forgot\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={handleSubmitForgotRequest}>\n                    <Form.Group>\n                        <Form.Label htmlFor=\"email\">Email</Form.Label>\n                        <Form.Control\n                            isInvalid={(isSubmitted && !email)}\n\n                            type=\"email\" name=\"email\" value={email} onChange={e => dispatch({ type: 'field', fieldName: 'email', payload: e.target.value })}>\n                        </Form.Control>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Email is required\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n\n\n                    {\n                        isSuccess &&\n                        <Alert variant=\"success\" className=\"mt-2\">\n                            Email with link to reset password has been sent.\n                        </Alert>\n                    }\n\n                    {\n                        isError &&\n                        <Alert variant=\"danger\" className=\"mt-2\">\n                            {error ? error : \"Error while sending email.\"}\n                        </Alert>\n                    }\n\n                    <Form.Group className=\"d-flex align-items-center mt-2\">\n                        <Button type=\"submit\" className=\"btn-primary\">\n                            Reset password\n                        </Button>\n\n                        {\n                            isSending &&\n                            <Spinner className=\"ms-2\" animation=\"grow\" />\n                        }\n                    </Form.Group>\n\n                </Form>\n\n            </Modal.Body>\n\n            <Modal.Footer>\n                <Button onClick={modalClose}>Close</Button>\n            </Modal.Footer>\n\n\n        </Modal>\n\n\n    );\n}\n\nexport default ForgotPassword","import {Redirect, Route} from \"react-router\";\nimport React from \"react\";\n\nconst PrivateRoute = ({component: Component, ...rest}) => {\n    return <Route\n        {...rest}\n        render={props =>\n            localStorage.getItem('accessToken') ? (\n                <Component {...props} />\n            ) : (\n                <Redirect to={{\n                    pathname: `${process.env.REACT_APP_PATH_NAME}login`,\n                    state: {from: props.location}\n                }}/>\n            )\n        }/>\n};\n\nexport default PrivateRoute","import { pageMaxFetchCount } from \"../../config\"\n\nexport const initialProfileState = {\n    data: [],\n    isLoading: false,\n    isAllFetched: false,\n    isRemoving: false,\n    toRemove: null,\n    error: null,\n    filmsCount: 0,\n    playlistsCount: 0,\n}\n\nexport function profileReducer(state, action) {\n    switch (action.type) {\n        case 'field': {\n            return {\n                ...state,\n                [action.fieldName]: action.payload\n            }\n        }\n        case 'initial-success': {\n            return {\n                ...state,\n                isLoading: false,\n                isInitialLoaded: true,\n                isAllFetched: action.filmsCount < pageMaxFetchCount && action.playlistsCount < pageMaxFetchCount,\n                filmsCount: state.filmsCount + action.filmsCount,\n                playlistsCount: state.playlistsCount + action.playlistsCount,\n                data: [...new Set(action.data)]\n            }\n        }\n        case 'load': {\n            return !state.isLoading && !state.isAllFetched && state.isInitialLoaded && !state.error ?\n                { ...state, isLoading: true, isAllFetched: false } :\n                state\n        }\n        case 'success': {\n            return {\n                ...state,\n                isLoading: false,\n                isAllFetched: action.filmsCount < pageMaxFetchCount && action.playlistsCount < pageMaxFetchCount,\n                filmsCount: state.filmsCount + action.filmsCount,\n                playlistsCount: state.playlistsCount + action.playlistsCount,\n                data: [...new Set([...state.data, ...action.data])]\n            }\n        }\n        case 'remove': {\n            return {\n                ...state,\n                toRemove: action.payload,\n                isRemoving: true\n            }\n        }\n        case 'remove-success': {\n            return {\n                ...state,\n                isRemoving: false,\n                toRemove: null,\n                data: state.toRemove ? state.data.filter(resource => resource.id !== state.toRemove.id) : state.data\n            }\n        }\n        case 'change-playlist-privacy-success': {\n            return {\n                ...state,\n                data: state.data.map(data => {\n                    if (data.isPlaylist && data.id === action.payload.id) return { ...data, is_public: action.payload.is_public }\n                    return data\n                })\n            }\n        }\n        case 'clear': {\n            return initialProfileState\n        }\n        default: return state\n    }\n}","import React, { useEffect, useReducer, useCallback, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Row, Spinner } from 'react-bootstrap';\n\nimport { initialProfileState, profileReducer } from './reducer';\nimport useBottomScrollListener from '../../helpers/hooks/useBottomScrollListener';\n\nimport Film from '../../helpers/components/film';\nimport Playlist from '../../helpers/components/playlist';\n\nimport * as userApi from '../../services/userService'\nimport * as playlistApi from '../../services/playlistService'\nimport * as filmApi from '../../services/filmService'\n\nimport image_not_found from '../../images/image_not_found.png'; // Tell Webpack this JS file uses this image\nimport RemoveModalContext from '../../helpers/contexts/removeModal/removeModalContext';\nimport UserContext from '../../helpers/contexts/user/userContext';\nimport { pageInitialMaxFetchCount, pageMaxFetchCount } from '../../config';\n\nconst Profile = (props) => {\n\n    const { user, clearUser } = useContext(UserContext)\n\n    const { showModal, clear, removeModalData } = useContext(RemoveModalContext)\n\n    let history = useHistory()\n\n    const [state, dispatch] = useReducer(profileReducer, initialProfileState)\n    const { data, isLoading, isAllFetched, isInitialLoaded, error, isRemoving, toRemove, filmsCount, playlistsCount } = state\n\n    const handleProfileOnBottom = useCallback(() => {\n        if (!isLoading && !isAllFetched && isInitialLoaded && !error) {\n            dispatch({\n                type: 'load'\n            })\n        }\n    }, [isLoading, isAllFetched, isInitialLoaded, error])\n\n    useBottomScrollListener(handleProfileOnBottom, { triggerOnNoScroll: true })\n\n    useEffect(() => {\n        if (!user.auth && user.isInitialLoaded) {\n            history.replace(`${process.env.REACT_APP_PATH_NAME}`)\n            history.push(`${process.env.REACT_APP_PATH_NAME}login`)\n            clearUser()\n        }\n    }, [user, history, clearUser])\n    \n    useEffect(() => {\n        async function fetchInitialData() {\n\n            const [response] = await Promise.allSettled([\n                userApi.me({ skipFilms: 0, skipPlaylists: 0, limit: pageInitialMaxFetchCount })\n            ])\n\n            let data = []\n\n            let films = []\n            let playlists = []\n\n            if (response.status === \"fulfilled\") {\n                films = response.value.data.films.map(film => {\n                    return {\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`,\n\n                    }\n                })\n\n                playlists = response.value.data.playlists.map(playlist => {\n                    const image = playlist.film_id ?\n                        `${process.env.REACT_APP_API_URL}films/${playlist.film_id}/thumbnail?width=small_webp` :\n                        image_not_found\n                    return {\n                        ...playlist,\n                        img: image,\n                        isPlaylist: true\n\n                    }\n                })\n\n                data = [...data, ...films, ...playlists]\n            }\n\n            dispatch({\n                type: 'initial-success',\n                data: data,\n                filmsCount: films.length,\n                playlistsCount: playlists.length,\n            })\n        }\n\n        dispatch({ type: 'clear' })\n        fetchInitialData()\n\n    }, [])\n\n    useEffect(() => {\n        async function fetchData() {\n            const [response] = await Promise.allSettled([\n                userApi.me({ skipFilms: filmsCount, skipPlaylists: playlistsCount, limit: pageMaxFetchCount })\n            ])\n\n            let data = []\n\n            let films = []\n            let playlists = []\n\n            if (response.status === \"fulfilled\") {\n                films = response.value.data.films.map(film => {\n                    return {\n                        ...film,\n                        img: `${process.env.REACT_APP_API_URL}films/${film.id}/thumbnail?width=small_webp`,\n\n                    }\n                })\n\n                playlists = response.value.data.playlists.map(playlist => {\n                    const image = playlist.film_id ?\n                        `${process.env.REACT_APP_API_URL}films/${playlist.film_id}/thumbnail?width=small_webp` :\n                        image_not_found\n                    return {\n                        ...playlist,\n                        img: image,\n                        isPlaylist: true\n\n                    }\n                })\n\n                data = [...data, ...films, ...playlists]\n            }\n\n            dispatch({\n                type: 'success',\n                data: data,\n                filmsCount: films.length,\n                playlistsCount: playlists.length,\n            })\n        }\n\n        if (isLoading && isInitialLoaded) fetchData()\n    }, [filmsCount, isLoading, playlistsCount, isInitialLoaded])\n\n    useEffect(() => {\n        async function remove() {\n\n            try {\n                if (toRemove.isPlaylist) {\n                    const resPlaylist = await playlistApi.remove(toRemove.id)\n                    if (resPlaylist.status === 204) {\n                        dispatch({\n                            type: 'remove-success'\n                        })\n                        clear()\n                    }\n                } else {\n                    const resFilm = await filmApi.remove(toRemove.id)\n                    if (resFilm.status === 204) {\n                        dispatch({\n                            type: 'remove-success'\n                        })\n                        clear()\n                    }\n                }\n            } catch (err) {\n                console.error(err)\n            }\n        }\n        if (isRemoving && removeModalData.isRemoving && toRemove &&\n            removeModalData.id === toRemove.id && removeModalData.title === toRemove.title &&\n            removeModalData.type === (toRemove.isPlaylist ? 'playlist' : 'film')) remove()\n    }, [isRemoving, removeModalData, toRemove, clear])\n\n    const handleRemove = (e, resource) => {\n        e.stopPropagation()\n        if (removeModalData.isRemoving) return\n        dispatch({\n            type: 'remove',\n            payload: resource\n        })\n        showModal(resource.id, resource.isPlaylist ? 'playlist' : 'film', resource.title)\n    };\n\n    const handleRedirectFilm = (id) => {\n        history.push({ pathname: `${process.env.REACT_APP_PATH_NAME}film/` + id });\n    }\n\n    const handleRedirectPlaylist = (record) => {\n        if (!record.film_id) return\n        history.push({\n            pathname: `${process.env.REACT_APP_PATH_NAME}film/` + record.film_id,\n            search: `?list=${record.id}`\n        });\n    }\n\n    return (\n        <Row className=\"mt-5 mx-2\">\n            {\n                data.map((record, index) => {\n                    if (record.isPlaylist) {\n                        return <Playlist key={record.id}\n                            playlist={record} index={index}\n                            isProfile={true}\n                            dispatchPrivacyUpdate={dispatch}\n                            handleRedirect={() => handleRedirectPlaylist(record)}\n                            handleRemove={(e) => handleRemove(e, record)} />\n                    } else {\n                        return <Film key={record.id} isProfile={true}\n                            film={record} index={index}\n                            handleRedirect={() => handleRedirectFilm(record.id)}\n                            handleRemove={(e) => handleRemove(e, record)} />\n                    }\n                })\n            }\n\n            {\n                !isAllFetched && <div style={{ height: 32 + 'px', width: '100%' }} className=\"d-flex justify-content-center\">\n                    {(isLoading || !isInitialLoaded) && <Spinner animation=\"border\" />}\n                </div>\n            }\n        </Row>\n    )\n}\n\n\nexport default Profile\n","import { useContext, useMemo } from 'react'\nimport { refresh } from '../../services/authService';\nimport axios from '../axios'\nimport UserContext from '../contexts/user/userContext';\n\nconst WithAxios = ({ children }) => {\n\n    const { logout } = useContext(UserContext);\n\n    useMemo(() => {\n        axios.interceptors.response.use((response) => {\n            return response\n        }, (error) => {\n            const isAuth = localStorage.getItem('accessToken')\n            const originalRequest = error.config\n\n            if (error.response && error.response.status === 401 && isAuth && !originalRequest._retry) {\n                if (error.config.url === 'auth/refresh') {\n                    logout()\n                    return Promise.reject(error)\n                }\n                originalRequest._retry = true\n                return refresh({ \"refreshToken\": JSON.parse(localStorage.getItem(\"refreshToken\")) })\n                    .then(res => {\n                        if (res.status === 201) {\n                            const accessToken = res.data.token\n                            localStorage.setItem('accessToken', JSON.stringify(accessToken))\n                            originalRequest.headers['Authorization'] = 'Bearer ' + accessToken\n                            return axios(originalRequest)\n                        }\n                    })\n            }\n            return Promise.reject(error);\n        })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    return children\n}\n\nexport default WithAxios","import { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\nimport UserContext from './userContext';\nimport jwt_decode from \"jwt-decode\";\n\nconst UserProvider = ({ children }) => {\n    let { pathname } = useLocation()\n\n    const [user, setUser] = useState({ name: '', id: null, auth: false, isInitialLoaded: false });\n\n    useEffect(() => {\n        window.scrollTo(0, 0)\n    }, [pathname])\n\n    useEffect(() => {\n        function getMe() {\n            const token = localStorage.getItem('accessToken')\n            if (!token) {\n                setUser(user => ({ ...user, isInitialLoaded: true }))\n                return\n            }\n            const decoded = jwt_decode(token);\n            setUser(() => ({\n                name: decoded.name,\n                auth: true,\n                id: decoded.id,\n                isInitialLoaded: true\n            }));\n        }\n        getMe()\n    }, [])\n\n    const login = (name, id, token, refreshToken) => {\n        localStorage.setItem('accessToken', JSON.stringify(token));\n        localStorage.setItem('refreshToken', JSON.stringify(refreshToken));\n\n        setUser(() => ({\n            name: name,\n            auth: true,\n            id: id,\n            isInitialLoaded: true\n        }));\n    };\n\n    const logout = () => {\n        localStorage.removeItem('accessToken');\n        localStorage.removeItem('refreshToken');\n\n\n        setUser((user) => ({\n            ...user,\n            name: '',\n            auth: false,\n            id: null\n        }));\n    };\n\n    const updateUser = (accessToken) => {\n        localStorage.setItem('accessToken', JSON.stringify(accessToken));\n\n        const decoded = jwt_decode(accessToken);\n        setUser((user) => ({\n            ...user,\n            name: decoded.name\n        }));\n\n        window.location.reload();\n    }\n\n    const clearUser = () => {\n        setUser((user) => ({\n            ...user,\n            isInitialLoaded: false\n        }));\n    }\n\n    return (\n        <UserContext.Provider value={{ user, login, logout, clearUser, updateUser }}>\n            {children}\n        </UserContext.Provider>\n    );\n};\n\nexport default UserProvider","import React, { useContext, lazy, Suspense } from 'react';\nimport './App.css';\n\nimport NavbarComponent from './components/navbar';\n\nimport RemoveModal from './helpers/components/removeModal'\n\nimport { Route, BrowserRouter as Router } from 'react-router-dom';\nimport { Spinner, Toast } from \"react-bootstrap\";\n\n//  --------- icons ------------\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n    faPlay,\n    faSortUp,\n    faSortDown,\n    faTrashAlt,\n    faTimes,\n    faGlobeEurope,\n    faLock\n} from '@fortawesome/free-solid-svg-icons'\n\nimport { Switch } from \"react-router\";\nimport ResetPasswordComponent from './components/auth/resetPassword';\nimport ForgotPasswordComponent from './components/auth/forgotPassword';\nimport PrivateRoute from './helpers/components/privateRoute';\nimport ProfileComponent from './components/profilePage';\n\nimport ToastContext from './helpers/contexts/toast/toastContext'\n\nimport WithAxios from \"./helpers/components/withAxios\";\nimport UserProvider from './helpers/contexts/user/userProvider';\n\nlibrary.add(faPlay, faSortDown, faSortUp, faTrashAlt, faTimes, faGlobeEurope, faLock);\n\nconst pathName = process.env.REACT_APP_PATH_NAME\n\nconst HomeComponent = lazy(() => import('./components/homePage'))\nconst FilmComponent = lazy(() => import('./components/filmPage'))\nconst LoginComponent = lazy(() => import('./components/auth/login'))\nconst RegisterComponent = lazy(() => import('./components/auth/register'))\nconst SearchComponent = lazy(() => import('./components/searchPage'))\nconst PlaylistsPage = lazy(() => import('./components/playlistsPage'))\nconst AddFilmComponent = lazy(() => import('./components/add/filmAdd'))\nconst NotFoundComponent = lazy(() => import('./components/notFound'))\nconst SettingsComponent = lazy(() => import('./components/settings'))\n\nfunction App(props) {\n\n    const { toast, clearToast } = useContext(ToastContext)\n\n    return (\n        <div>\n            {\n                <div className=\"toast-root\">\n                    <Toast\n\n                        show={toast.isOpen}\n                        onClose={clearToast}\n                        autohide\n                        className=\"toast-element bg-secondary\">\n                        <Toast.Header>\n                            <strong className=\"me-auto\">Playlist</strong>\n                        </Toast.Header>\n                        <Toast.Body>{toast.message}</Toast.Body>\n                    </Toast>\n                </div>\n            }\n            <Suspense fallback={<div className=\"suspense-loader\"> <Spinner animation=\"border\" /></div>}>\n\n                <Router>\n                    <UserProvider>\n                        <WithAxios>\n                            <Route render={(props) => <NavbarComponent {...props} />} />\n\n                            <PrivateRoute exact path={[`${pathName}settings`, `${pathName}profile/settings`, `${pathName}film/:id/settings`, `${pathName}search/settings`, `${pathName}add/settings`, `${pathName}playlists/settings`]}\n                                render={(props) => <SettingsComponent {...props} />} />\n\n                            <Route exact path={[`${pathName}login`, `${pathName}film/:id/login`, `${pathName}search/login`, `${pathName}add/login`, `${pathName}playlists/login`]}\n                                render={(props) => <LoginComponent {...props} />} />\n\n                            <Route exact path={[`${pathName}register`, `${pathName}film/:id/register`, `${pathName}search/register`, `${pathName}add/register`, `${pathName}playlists/register`]}\n                                render={(props) => <RegisterComponent {...props} />} />\n\n                            <Route exact path={[`${pathName}reset/:token`, `${pathName}film/:id/reset/:token`, `${pathName}search/reset/:token`, `${pathName}add/reset/:token`, `${pathName}playlists/reset/:token`]}\n                                render={(props) => <ResetPasswordComponent {...props} />} />\n\n                            <Route exact path={[`${pathName}forgot`, `${pathName}film/:id/forgot`, `${pathName}search/forgot`, `${pathName}add/forgot`, `${pathName}playlists/forgot`]}\n                                render={(props) => <ForgotPasswordComponent {...props} />} />\n\n                            <Switch>\n\n                                <Route exact path={[`${pathName}film/:id`, `${pathName}film/:id/login`, `${pathName}film/:id/register`, `${pathName}film/:id/reset/:token`,\n                                `${pathName}film/:id/forgot`, `${pathName}film/:id/settings`]}\n                                    render={(props) => <FilmComponent {...props} />} />\n\n                                <Route exact path={[`${pathName}`, `${pathName}login`, `${pathName}register`, `${pathName}settings`,\n                                `${pathName}reset/:token`, `${pathName}forgot`]}\n                                    render={(props) => <HomeComponent {...props} />} />\n\n                                <Route exact path={[`${pathName}search`, `${pathName}search/login`, `${pathName}search/settings`, `${pathName}search/register`, `${pathName}search/reset/:token`, `${pathName}search/forgot`]}\n                                    render={(props) => <SearchComponent {...props} />} />\n\n                                <PrivateRoute exact path={[`${pathName}add`, `${pathName}add/settings`]}\n                                    render={(props) => <AddFilmComponent {...props} />} />\n\n                                <Route exact path={[`${pathName}playlists`, `${pathName}playlists/login`, `${pathName}playlists/settings`, `${pathName}playlists/register`, `${pathName}playlists/reset/:token`,\n                                `${pathName}playlists/forgot`]} render={(props) => <PlaylistsPage {...props} />} />\n\n                                <PrivateRoute exact path={[`${pathName}profile`, `${pathName}profile/settings`]}\n                                    render={(props) => <ProfileComponent {...props} />} />\n\n                                <Route exact path=\"*\" render={(props) => <NotFoundComponent {...props} />} />\n\n                            </Switch>\n                        </WithAxios>\n                    </UserProvider>\n                </Router>\n            </Suspense>\n            <RemoveModal />\n        </div>\n    );\n}\n\nexport default App\n\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { useState } from 'react'\nimport ToastContext from './toastContext'\n\nconst ToastProvider = ({ children }) => {\n    const [toast, setToast] = useState({ isOpen: false, message: '', isPrevoius: false })\n\n    const createToast = (message) => {\n        if (toast.isPrevoius) {\n            setToast({ isOpen: false, message: '', isPrevoius: true })\n            setTimeout(() => setToast({ isOpen: true, message: message, isPrevoius: true }), 850)\n        } else {\n            setToast({ isOpen: true, message: message, isPrevoius: true })\n        }\n    }\n\n    const clearToast = () => {\n        setToast({ isOpen: false, message: '', isPrevoius: false })\n    }\n\n    return (\n        <ToastContext.Provider value={{ toast, createToast, clearToast }}>\n            {children}\n        </ToastContext.Provider>\n    )\n}\n\nexport default ToastProvider","import { useState } from 'react'\nimport RemoveModalContext from './removeModalContext'\n\nconst RemoveModalProvider = ({ children }) => {\n\n    const [removeModalData, setRemoveModalData] = useState({ show: false, isRemoving: false, id: null, type: null, title: '' })\n\n    const showModal = (id, type, title) => {\n        setRemoveModalData({ show: true, isRemoving: false, id: id, type: type, title: title })\n    }\n\n    const remove = () => {\n        setRemoveModalData(prevState => {\n            return { ...prevState, show: false, isRemoving: true }\n        })\n    }\n\n    const clear = () => {\n        setRemoveModalData({ show: false, isRemoving: false, id: null, type: null, title: '' })\n    }\n\n    return (\n        <RemoveModalContext.Provider value={{ showModal, removeModalData, remove, clear }} >\n            {children}\n        </RemoveModalContext.Provider>\n    )\n}\n\nexport default RemoveModalProvider","import \"es6-promise\";\nimport \"isomorphic-fetch\";\n\nimport 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/ie11';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport ToastProvider from \"./helpers/contexts/toast/toastProvider\";\nimport RemoveModalProvider from \"./helpers/contexts/removeModal/removeModalProvider\";\n\nReactDOM.render(\n    <ToastProvider>\n        <RemoveModalProvider>\n            <App />\n        </RemoveModalProvider>\n    </ToastProvider>\n    ,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const commentsMaxFetchCount = 10\nexport const recommendationsMaxFetchCount = 12\n\nexport const playlistButtonMaxFetchCount = 10\n\nexport const pageInitialMaxFetchCount = 40\nexport const pageMaxFetchCount = 20\n","import { createContext } from 'react';\nconst UserContext = createContext({ name: '', id: null, auth: false, isInitialLoaded: false });\nexport default UserContext","import axios from '../helpers/axios'\nimport authHeader from '../helpers/authHeader'\n\n\nexport const create = (body) => axios.post('playlists', body, { headers: authHeader() })\nexport const index = (id) => axios.get(`playlists/${id}`, { headers: authHeader() })\nexport const show = (params) => axios.get(`playlists`, { params, headers: authHeader() })\nexport const partialUpdate = (id, body) => axios.patch(`playlists/${id}`, body, { headers: authHeader() })\n\n\nexport const remove = (id) => axios.delete(`playlists/${id}`, { headers: authHeader() })\n\n","import { useCallback, useEffect, useRef, useMemo } from 'react';\nimport lodashDebounce from 'lodash.debounce';\n\nconst createCallback = (debounce, handleOnScroll, options) => {\n  if (debounce) {\n    return lodashDebounce(handleOnScroll, debounce, options);\n  } else {\n    return handleOnScroll;\n  }\n};\n\nfunction useBottomScrollListener(\n  onBottom = () => { },\n  options = {},\n) {\n  const { offset, triggerOnNoScroll, debounce, debounceOptions, id } = useMemo(\n    () => ({\n      offset: options?.offset ?? 20,\n      debounce: options?.debounce ?? 200,\n      debounceOptions: options?.debounceOptions ?? { leading: true },\n      triggerOnNoScroll: options?.triggerOnNoScroll ?? false,\n      id: options?.id ?? null\n    }),\n    [options?.offset, options?.debounce, options?.debounceOptions, options?.triggerOnNoScroll, options?.id],\n  );\n\n  const debouncedOnBottom = useMemo(() => createCallback(debounce, onBottom, debounceOptions), [onBottom, debounce, debounceOptions]);\n  const containerRef = useRef(null);\n  const handleOnScroll = useCallback(() => {\n\n    if (containerRef.current != null) {\n      const scrollNode = containerRef.current;\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n\n      if (scrollPosition <= scrollContainerBottomPosition) {\n        debouncedOnBottom();\n      }\n    } else if (id !== null) {\n      const scrollNode = document.getElementById(id);\n      if (scrollNode) {\n        const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + scrollNode.clientHeight);\n        const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n        if (scrollPosition <= scrollContainerBottomPosition) {\n          debouncedOnBottom();\n        }\n      }\n    } else {\n      const scrollNode = document.scrollingElement || document.documentElement;\n      const scrollContainerBottomPosition = Math.round(scrollNode.scrollTop + window.innerHeight);\n      const scrollPosition = Math.round(scrollNode.scrollHeight - offset);\n\n      if (scrollPosition <= scrollContainerBottomPosition) {\n        debouncedOnBottom();\n      }\n    }\n  }, [debouncedOnBottom, offset, id]);\n\n  useEffect(() => {\n    const ref = containerRef.current;\n    const node = document.getElementById(id)\n\n    if (ref != null) {\n      ref.addEventListener('scroll', handleOnScroll);\n    } else if (node !== null) {\n      node.addEventListener('scroll', handleOnScroll);\n    } else {\n      window.addEventListener('scroll', handleOnScroll);\n    }\n\n    if (triggerOnNoScroll) {\n      handleOnScroll();\n    }\n\n    return () => {\n      if (ref != null) {\n        ref.removeEventListener('scroll', handleOnScroll);\n      } else if (node !== null) {\n        node.addEventListener('scroll', handleOnScroll);\n      } else {\n        window.removeEventListener('scroll', handleOnScroll);\n      }\n    };\n  }, [handleOnScroll, triggerOnNoScroll, id]);\n\n  return containerRef;\n}\n\nexport default useBottomScrollListener;\n"],"sourceRoot":""}